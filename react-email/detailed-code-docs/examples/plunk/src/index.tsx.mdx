---
title: "index.tsx"
---

## High-level description
This code demonstrates how to send an email using the Plunk email service with a React-based email template. It renders a custom Email component, generates the HTML content, and sends it using the Plunk API.

## Symbols

### `emailHtml`
#### Description
This constant stores the rendered HTML content of the Email component.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| url | string | The URL passed to the Email component |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| emailHtml | string | The rendered HTML content of the Email component |

### Plunk API call
#### Description
This code snippet sends an email using the Plunk API.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| to | string | The recipient's email address |
| subject | string | The subject of the email |
| body | string | The HTML content of the email |

#### Internal Logic
1. Creates a new Plunk instance using the API key from the environment variable.
2. Calls the `plunk.emails.send()` method with the email details.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @react-email/components | Provides the `render` function for rendering React components to HTML |
| @plunk/node | Provides the Plunk API client for sending emails |
| ./email | Contains the custom Email component used as the email template |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| PLUNK_API_KEY | string | "" | The API key for authenticating with the Plunk service |

## Error Handling
The code does not implement explicit error handling. It assumes that the Plunk API key is available in the environment variables and that the API call will succeed.

## TODOs
The code includes a comment indicating that the use of `process.env` is not declared in the environment variables according to the ESLint rule `turbo/no-undeclared-env-vars`. This suggests that there might be a need to properly declare or handle the environment variable in the project configuration.