---
title: "Overview"
---

## High-level description
This directory contains the code for a Next.js application that demonstrates sending transactional emails using the Scaleway API. It includes an API endpoint for triggering the email sending process and utilizes a shared library for interacting with the Scaleway Transactional Email service.

## What does it do?
This code sets up a simple web application with an API endpoint that, when accessed via a POST request, sends a pre-defined "waitlist" email to a hardcoded recipient email address. It leverages the Scaleway API for sending the email and uses a React component to define the email's content.

## Entry points
The main entry point for this application is the `pages/api/send.ts` file. This file defines an API route that handles POST requests and triggers the email sending logic.

Data flow:
1. An HTTP POST request is made to the `/api/send` endpoint.
2. The `send` function in `pages/api/send.ts` handles the request.
3. The `send` function uses the `scalewayTEM` client from `lib/scaleway.ts` to send the email.
4. The `scalewayTEM` client uses the Scaleway API to send the email.

## Key Files

### `/lib/scaleway.ts`
This file sets up the Scaleway API client and initializes a Transactional Email API instance. It exports the `scalewayTEM` object, which is used by other parts of the application to interact with the Scaleway Transactional Email service.

### `/pages/api/send.ts`
This file defines an API endpoint (`/api/send`) that handles POST requests for sending a waitlist email. It utilizes the `WaitlistEmail` component for email content and the `scalewayTEM` client from `lib/scaleway.ts` to send the email.

## Dependencies

- `@react-email/render`: Used to render the email template.
- `@scaleway/sdk`: Provides the Scaleway SDK for interacting with Scaleway services.
- `next`: Provides types for Next.js API handling.

## Configuration
This application uses environment variables for configuration:

- `ACCESS_KEY`: Scaleway access key.
- `SECRET_KEY`: Scaleway secret key.
- `PROJECT_ID`: Scaleway project ID. 
