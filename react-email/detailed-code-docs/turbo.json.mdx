---
title: "turbo.json"
---

## High-level description
This `turbo.json` file is a configuration file for Turborepo, a high-performance build system for JavaScript and TypeScript monorepos. It defines the build pipeline, dependencies, environment variables, and other settings for various projects within the monorepo.

## Code Structure
The configuration is structured as a JSON object with several top-level keys defining global settings and a detailed `pipeline` object specifying build and development tasks for different projects.

## Symbols

### `$schema`
#### Description
Specifies the JSON schema for the Turborepo configuration file.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| $schema | string | URL of the JSON schema |

### `globalDependencies`
#### Description
Defines files that, when changed, trigger a rebuild of all tasks.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| globalDependencies | array of strings | Glob patterns for files that trigger global rebuilds |

### `globalEnv`
#### Description
Specifies environment variables that are available to all tasks in the pipeline.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| globalEnv | array of strings | Names of global environment variables |

### `pipeline`
#### Description
Defines the build pipeline and task configurations for different projects in the monorepo.

#### Internal Logic
The pipeline object contains task configurations for different projects and global tasks. Each task can specify its dependencies, outputs, environment variables, and other properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| build | object | Configuration for the general build task |
| web#build | object | Configuration for the web project's build task |
| demo#build | object | Configuration for the demo project's build task |
| react-email#build | object | Configuration for the react-email project's build task |
| lint | object | Configuration for the lint task |
| //#format | object | Configuration for the format task |
| //#format:check | object | Configuration for the format check task |
| test | object | Configuration for the test task |
| test:watch | object | Configuration for the test watch task |
| dev | object | Configuration for the development task |

### `pipeline.build`
#### Description
Defines the general build task configuration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependsOn | array of strings | Tasks that must complete before this task runs |
| outputs | array of strings | Glob patterns for files generated by this task |

### `pipeline.web#build`
#### Description
Defines the build task configuration specific to the web project.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependsOn | array of strings | Tasks that must complete before this task runs |
| env | array of strings | Environment variables required for this task |
| outputs | array of strings | Glob patterns for files generated by this task |

### `pipeline.demo#build`
#### Description
Defines the build task configuration specific to the demo project.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependsOn | array of strings | Tasks that must complete before this task runs |
| outputs | array of strings | Glob patterns for files generated by this task |

### `pipeline.react-email#build`
#### Description
Defines the build task configuration specific to the react-email project.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependsOn | array of strings | Tasks that must complete before this task runs |
| outputs | array of strings | Glob patterns for files generated by this task |

### `pipeline.test:watch`
#### Description
Defines the configuration for the test watch task.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cache | boolean | Specifies whether to cache the task results |

### `pipeline.dev`
#### Description
Defines the configuration for the development task.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cache | boolean | Specifies whether to cache the task results |
| persistent | boolean | Indicates if the task should run continuously |

## Dependencies
This configuration file doesn't directly depend on external libraries, but it references various projects and tasks within the monorepo.

## Configuration
The entire file serves as a configuration for Turborepo. Key configuration options include:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| globalDependencies | array | `["**/.env.*local"]` | Files that trigger global rebuilds |
| globalEnv | array | `["SUPABASE_URL", "SUPABASE_ANON_KEY", "SUPABASE_TABLE_NAME"]` | Global environment variables |

## API/Interface Reference
While not an API in the traditional sense, this configuration defines the build pipeline interface:

| Task | Project | Dependencies | Outputs | Environment Variables |
|:-----|:--------|:-------------|:--------|:----------------------|
| build | global | `["^build"]` | `["dist/**"]` | - |
| build | web | `["^build"]` | `[".next/**", "!.next/cache/**"]` | `["RESEND_API_KEY", "NEXT_PUBLIC_SUPABASE_URL", "NEXT_PUBLIC_SUPABASE_ANON_KEY"]` |
| build | demo | `["^build"]` | `[".react-email/**", "!.react-email/.next/cache/**"]` | - |
| build | react-email | `["^build"]` | `["dist/**"]` | - |
| lint | global | - | - | - |
| test | global | - | - | - |
| test:watch | global | - | - | - |
| dev | global | - | - | - |