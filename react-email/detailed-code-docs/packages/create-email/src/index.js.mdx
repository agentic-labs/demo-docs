---
title: "index.js"
---

## High-level description
This code is the entry point for a command-line tool called "create-email". It initializes a new React Email project by copying a template directory and setting up the necessary files and dependencies. The tool provides a simple way for users to start a new React Email project with a predefined structure and configuration.

## Code Structure
The main function `init` handles the project creation process. It's called by the Command object from the Commander library, which parses command-line arguments and executes the appropriate action.

## References
This code references the `tree` function from "./tree.js", which is used to display the directory structure of the newly created project.

## Symbols

### `init`
#### Description
This asynchronous function initializes a new React Email project by copying template files and adjusting the package.json file.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | The name of the project directory (optional) |

#### Internal Logic
1. Starts a spinner to indicate progress.
2. Determines the project path, using the provided name or a default.
3. Resolves the template path and the project path.
4. Copies the template files to the project directory.
5. Reads and modifies the package.json file, removing workspace prefixes from dependencies.
6. Writes the modified package.json back to the project directory.
7. Displays a success message and the project directory structure.

### `Command`
#### Description
Creates a new Command object to handle CLI arguments and execute the `init` function.

#### Internal Logic
1. Sets the name, version, and description of the command.
2. Defines the optional argument for the project directory.
3. Sets the action to be performed (calling `init`).
4. Parses the command-line arguments.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:url | For working with file URLs |
| node:path | For handling file paths |
| commander | For creating command-line interfaces |
| fs-extra | For enhanced file system operations |
| log-symbols | For logging symbols (e.g., success, error) |
| ora | For creating terminal spinners |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| version | string | "0.0.30-canary.0" | The version of the create-email tool |

## Error Handling
The code doesn't implement explicit error handling. Errors would propagate up and potentially crash the program.

## Logging
The code uses `ora` for displaying a spinner during file preparation and `log-symbols` for showing a success message. It also uses `console.log` to display the project directory structure.

## TODOs
- Consider adding error handling for file operations and user input validation.
- The version number ("0.0.30-canary.0") suggests this might be a pre-release version. Update this when releasing a stable version.