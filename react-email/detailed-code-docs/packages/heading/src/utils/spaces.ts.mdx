---
title: "spaces.ts"
---

## High-level description
This code defines utility functions and types for handling margin properties in React components. It provides a flexible way to apply margin styles to components using shorthand props, converting them into valid CSS properties.

## Code Structure
The code defines two main functions, `withMargin` and `withSpace`, which work together to process margin-related props and generate corresponding CSS styles. The `Margin` interface defines the structure of the margin props, while `MarginCSSProperty` type represents valid CSS margin properties.

## Symbols

### `Margin` (interface)
#### Description
Defines the structure for margin-related props that can be passed to a component.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| m | number \| string \| undefined | Margin for all sides |
| mx | number \| string \| undefined | Horizontal margin (left and right) |
| my | number \| string \| undefined | Vertical margin (top and bottom) |
| mt | number \| string \| undefined | Top margin |
| mr | number \| string \| undefined | Right margin |
| mb | number \| string \| undefined | Bottom margin |
| ml | number \| string \| undefined | Left margin |

### `withMargin` (function)
#### Description
Processes margin props and generates corresponding CSS styles.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | Margin | Object containing margin props |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mergedStyles | Object | CSS styles object with applied margin properties |

#### Internal Logic
1. Creates an array of style objects by calling `withSpace` for each margin prop.
2. Filters out empty style objects.
3. Merges all non-empty style objects into a single object.

### `withSpace` (function)
#### Description
Generates CSS styles for specific margin properties based on the provided value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | number \| string \| undefined | The margin value |
| properties | MarginCSSProperty[] | Array of CSS margin properties to apply the value to |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| styles | Object | CSS styles object with applied margin properties |

#### Internal Logic
1. Iterates through the provided properties.
2. Checks if the value is a valid number (including string representations).
3. If valid, adds the property to the styles object with the value suffixed with "px".

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Type imports for CSS properties |

## References
This utility is used in the `Heading` component (packages/heading/src/heading.tsx) to apply margin styles to the rendered heading element.

## Performance Considerations
The `withMargin` function uses `reduce` to merge styles, which has a time complexity of O(n) where n is the number of non-empty style objects. For typical use cases, this should not cause performance issues, but it's worth noting for scenarios with a large number of margin props.