---
title: "copy-text-to-clipboard.ts"
---

## High-level description
This code defines a utility function `copyTextToClipboard` that asynchronously copies a given text to the system clipboard using the Clipboard API. It's designed to be a simple, reusable function for clipboard operations in a web application.

## Symbols

### `copyTextToClipboard`
#### Description
This asynchronous function attempts to copy the provided text to the system clipboard using the Clipboard API. If the operation fails, it throws an error.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| text | string | The text to be copied to the clipboard |

#### Outputs
This function doesn't return a value. It either succeeds silently or throws an error.

#### Internal Logic
1. The function uses a try-catch block to handle potential errors.
2. Inside the try block, it calls `navigator.clipboard.writeText(text)` to write the input text to the clipboard.
3. If an error occurs during the clipboard operation, it catches the error and throws a new Error with the message "Not able to copy".

## Error Handling
The function implements basic error handling. If the clipboard operation fails for any reason (e.g., permissions not granted, unsupported browser), it catches the error and throws a new Error with a custom message. This allows the calling code to handle clipboard failures gracefully.

## Dependencies
This function relies on the Clipboard API, which is part of the Web API and is available in modern browsers. Specifically, it uses:

| Dependency | Purpose |
|:-----------|:--------|
| navigator.clipboard | To access the system clipboard |

## Performance Considerations
The function is asynchronous, which means it won't block the main thread while performing the clipboard operation. This is important for maintaining responsiveness in the user interface.

## References
The `copyTextToClipboard` function is used in the `CodeContainer` component from the file `packages/react-email/src/components/code-container.tsx`. Specifically:

1. It's imported at the top of the file:
   ```typescript
   import { copyTextToClipboard } from '../utils';
   ```

2. It's used in the `handleClipboard` function within `renderClipboardIcon`:
   ```typescript
   await copyTextToClipboard(activeContent[0]!.content);
   ```

This usage suggests that the `copyTextToClipboard` function is part of a larger system for displaying and interacting with code snippets, where users can copy the displayed code to their clipboard.