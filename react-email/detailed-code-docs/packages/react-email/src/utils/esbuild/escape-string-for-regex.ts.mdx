---
title: "escape-string-for-regex.ts"
---

## High-level description
This code defines a utility function `escapeStringForRegex` that escapes special characters in a string to make it safe for use in regular expressions. It's primarily used to prepare strings for use in regex patterns, ensuring that special regex characters are treated as literal characters.

## Symbols

### `escapeStringForRegex`
#### Description
This function takes a string input and returns a new string with all special regex characters escaped. It ensures that the input string can be safely used as a literal match in a regular expression pattern.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| string | string | The input string to be escaped for regex use |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | The input string with all special regex characters escaped |

#### Internal Logic
The function performs two replacement operations:
1. It replaces all special regex characters (`[|\\{}()[\]^$+*?.]`) with their escaped versions by prefixing them with a backslash.
2. It specifically replaces the hyphen character (`-`) with its hexadecimal representation (`\x2d`).

These replacements ensure that all characters that have special meaning in regex patterns are treated as literal characters when the resulting string is used in a regex.

## References
This utility function is used in the `renderingUtilitiesExporter` plugin in the file `packages/react-email/src/utils/esbuild/renderring-utilities-exporter.ts`. Specifically, it's used to escape the file paths of email templates when creating a regex pattern for filtering files in the esbuild plugin.

## Dependencies
This code has no external dependencies. It uses only JavaScript's built-in `String.prototype.replace` method.

## Performance Considerations
The function uses two separate `replace` operations, which could be combined into a single regex for slightly better performance if needed. However, for most use cases, the current implementation should be sufficiently efficient.