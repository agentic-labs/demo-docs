---
title: "static-node-modules-for-vm.ts"
---

## High-level description
This file, `static-node-modules-for-vm.ts`, defines and exports a constant object `staticNodeModulesForVM` that maps Node.js built-in modules to their corresponding imports. This mapping is crucial for providing access to Node.js core modules within a virtual machine (VM) context, where dynamic requires might not resolve properly.

## Symbols

### `staticNodeModulesForVM`
#### Description
`staticNodeModulesForVM` is a constant object that maps the names of Node.js built-in modules (including those with the `node:` prefix) to their imported module objects. This mapping allows for static resolution of these modules when used in a VM context.

#### Inputs
This constant doesn't have inputs as it's a static mapping.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| staticNodeModulesForVM | Object | An object where keys are module names (string) and values are the corresponding imported module objects |

#### Internal Logic
The object is constructed by importing all the listed Node.js core modules and then mapping their names (both with and without the `node:` prefix) to the imported module objects.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:assert | Provides a set of assertion functions for verifying invariants |
| node:async_hooks | Provides an API to track asynchronous resources |
| node:buffer | For handling binary data |
| node:child_process | Provides the ability to spawn child processes |
| node:cluster | Allows easy creation of child processes that all share server ports |
| node:console | Provides a simple debugging console |
| node:constants | Provides commonly used constants |
| node:crypto | Provides cryptographic functionality |
| node:dgram | Provides implementation of UDP datagram sockets |
| node:diagnostics_channel | Provides an API to create named channels for diagnostics information |
| node:dns | Provides functions for name resolution and DNS lookups |
| node:domain | Deprecated module for handling multiple different I/O operations as a single group |
| node:events | For handling and emitting events |
| node:fs | Provides an API for interacting with the file system |
| node:fs/promises | Provides promise-based file system methods |
| node:http | Provides HTTP client and server functionality |
| node:http2 | Provides an HTTP/2 client and server implementation |
| node:https | Provides HTTPS functionality |
| node:inspector | Provides an API for the V8 inspector |
| node:module | Provides a way to work with the module system |
| node:net | Provides an asynchronous network API |
| node:os | Provides operating system-related utility methods |
| node:path | Provides utilities for working with file and directory paths |
| node:perf_hooks | Provides an API for performance measurement |
| node:process | Provides information about, and control over, the current Node.js process |
| node:punycode | Deprecated module for Punycode encoding |
| node:querystring | Provides utilities for parsing and formatting URL query strings |
| node:readline | Provides an interface for reading data from a Readable stream |
| node:repl | Provides a Read-Eval-Print-Loop (REPL) implementation |
| node:stream | Provides an abstract interface for working with streaming data |
| node:string_decoder | Provides an API for decoding Buffer objects into strings |
| node:timers | Provides a set of functions for scheduling functions to be called later |
| node:tls | Provides an implementation of the Transport Layer Security (TLS) and Secure Socket Layer (SSL) protocols |
| node:tty | Provides classes specific to tty processes |
| node:url | Provides utilities for URL resolution and parsing |
| node:util | Provides utility functions useful for programmers |
| node:v8 | Provides methods for interfacing with V8 engine |
| node:vm | Provides a way of executing JavaScript code in a virtual machine |
| node:worker_threads | Provides a way to create multiple environments running on independent threads |
| node:zlib | Provides compression functionality |

## References
This module is referenced in:
1. `packages/react-email/src/utils/get-email-component.ts`: The `staticNodeModulesForVM` object is used to provide access to Node.js core modules within a VM context when rendering email components.

By providing this static mapping, the code ensures that Node.js core modules can be reliably accessed and used within isolated VM contexts, which is crucial for safely executing and rendering email components in the React Email framework.