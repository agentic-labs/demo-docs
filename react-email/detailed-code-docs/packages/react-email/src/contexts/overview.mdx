---
title: "Overview"
---

## High-level description
This code defines a React context and provider for managing email-related data and functionality in a React Email application. It handles hot reloading, email rendering, and provides a centralized way to access and update email metadata and rendering results.

## Code Structure
The main components of this code are:
1. `EmailsContext`: A React context for storing email-related data.
2. `useEmails`: A custom hook for accessing the `EmailsContext`.
3. `EmailsProvider`: A component that provides the `EmailsContext` to its children and manages the state of email metadata and rendering results.

## Symbols

### `EmailsContext`
#### Description
A React context that holds email-related data and functions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | Object or undefined | The context value containing email metadata and rendering functions |

### `useEmails`
#### Description
A custom hook that provides access to the `EmailsContext`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| providerValue | Object | The value of the `EmailsContext` |

#### Internal Logic
- Retrieves the context value using `useContext`
- Throws an error if used outside of an `EmailsProvider`

### `EmailsProvider`
#### Description
A component that provides the `EmailsContext` to its children and manages email-related state.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| initialEmailsDirectoryMetadata | EmailsDirectory | Initial metadata for the emails directory |
| children | React.ReactNode | Child components to be wrapped by the provider |

#### Internal Logic
- Manages state for `emailsDirectoryMetadata` and `renderingResultPerEmailPath`
- Implements hot reloading functionality to update email metadata and rendering results
- Provides a `useEmailRenderingResult` function to access and update email rendering results

## Side Effects
- Uses `useHotreload` hook to listen for file changes and update email metadata and rendering results
- Updates state based on file changes and re-renders affected components

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the UI components |
| getEmailsDirectoryMetadata | Function to retrieve email directory metadata |
| useHotreload | Custom hook for implementing hot reloading functionality |
| renderEmailByPath | Function to render an email by its path |
| getEmailPathFromSlug | Function to get an email path from its slug |

## Error Handling
- Throws an error if `useEmails` is called outside of an `EmailsProvider`
- Throws an error if unable to find the emails directory during hot reloading

## Performance Considerations
- Uses memoization techniques (useState, useEffect) to optimize re-renders
- Implements hot reloading to update only affected components when files change

This code provides a centralized way to manage and access email-related data and functionality throughout the React Email application, with built-in support for hot reloading and efficient state management.