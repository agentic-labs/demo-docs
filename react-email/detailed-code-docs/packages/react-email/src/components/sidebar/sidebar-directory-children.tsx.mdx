---
title: "sidebar-directory-children.tsx"
---

## High-level description
This code defines a React component called `SidebarDirectoryChildren` that renders a collapsible directory structure for email files and subdirectories. It uses Framer Motion for animations and Radix UI for the collapsible functionality. The component displays a list of subdirectories and email files, with the current email highlighted and linked to its preview page.

## Code Structure
The main component `SidebarDirectoryChildren` uses several imported components and utilities to render the directory structure. It maps through subdirectories and email files, rendering them as clickable items with appropriate styling and animations.

## Symbols

### SidebarDirectoryChildren
#### Description
A React component that renders the contents of a directory, including subdirectories and email files.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| emailsDirectoryMetadata | EmailsDirectory | Metadata for the current directory |
| currentEmailOpenSlug | string (optional) | The slug of the currently open email |
| open | boolean | Whether the directory is open or closed |
| isRoot | boolean (optional) | Whether this is the root directory |

#### Internal Logic
1. Determines if the current directory is the base emails directory.
2. Renders a collapsible content section if the directory is open.
3. Maps through subdirectories and renders them using the `SidebarDirectory` component.
4. Maps through email files and renders them as clickable links with appropriate styling and animations.
5. Handles the removal of file extensions for email slugs.
6. Applies animations and styling based on whether an email is currently selected.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| framer-motion | Used for animations |
| @radix-ui/react-collapsible | Provides collapsible functionality |
| next/link | Used for client-side navigation |
| next/navigation | Used to access search params |

## Side Effects
The component uses the `useSearchParams` hook from Next.js, which may cause side effects related to URL parameter reading.

## Performance Considerations
The component uses Framer Motion for animations, which may impact performance if there are many items in the directory structure. The `LayoutGroup` component from Framer Motion is used to manage animations across the entire sidebar.

## Error Handling
There is no explicit error handling in this component. It assumes that the provided props and data structures are valid.

## API/Interface Reference
This component is intended to be used as part of a larger sidebar structure and doesn't expose a public API directly.