---
title: "get-email-path-from-slug.ts"
---

## High-level description
This code defines a server-side function `getEmailPathFromSlug` that resolves a given slug to the full path of an email template file. It handles various file extensions (.tsx, .jsx, .ts, .js) and throws an error if the file cannot be found.

## Symbols

### `getEmailPathFromSlug`
#### Description
This asynchronous function takes a slug as input and returns the full path to the corresponding email template file. It checks for different file extensions and throws an error if the file is not found.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| slug | string | The slug representing the email template file |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| path | string | The full path to the email template file |

#### Internal Logic
1. If the slug already includes a supported file extension (.tsx, .jsx, .ts, .js), it returns the full path by joining the `emailsDirectoryAbsolutePath` with the slug.
2. If the slug doesn't include an extension, it tries to find the file by appending each supported extension and checking if the file exists.
3. If no matching file is found, it throws an error with a detailed message.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:path | For handling file paths |
| node:fs | For checking file existence |

## References
- `emailsDirectoryAbsolutePath`: Imported from '../utils/emails-directory-absolute-path', this constant represents the absolute path to the directory containing email templates.

## Error Handling
The function throws an error with a detailed message if it cannot find the email file based on the provided slug. The error message includes the attempted file extensions.

## Performance Considerations
The function uses synchronous file system operations (`fs.existsSync`), which could potentially impact performance for large directories or frequent calls. However, for typical use cases, this should not be a significant concern.

## TODOs
The function is marked with `// eslint-disable-next-line @typescript-eslint/require-await`, indicating that it's currently defined as async but doesn't contain any await operations. This might be a point for future refactoring or optimization.