---
title: "index.ts"
---

## High-level description
This code defines the command-line interface (CLI) for the React Email package. It uses the Commander.js library to set up various commands for developing, building, starting, and exporting email templates.

## Code Structure
The main program is defined using Commander.js, with separate commands for different functionalities. Each command is associated with a specific action function imported from separate files.

## Symbols

### `program`
#### Description
The main Commander.js program object that defines the CLI structure and commands.

#### Internal Logic
1. Sets up the program name, description, and version.
2. Defines four main commands: `dev`, `build`, `start`, and `export`.
3. Each command is configured with options and associated with an action function.

### `dev` command
#### Description
Starts the preview email development app.

#### Options
| Name | Type | Description |
|:-----|:-----|:------------|
| `-d, --dir &lt;path&gt;` | string | Directory with email templates (default: "./emails") |
| `-p --port &lt;port&gt;` | string | Port to run dev server on (default: "3000") |

#### Action
Calls the `dev` function imported from `./commands/dev`.

### `build` command
#### Description
Copies the preview app onto `.react-email` and builds it.

#### Options
| Name | Type | Description |
|:-----|:-----|:------------|
| `-d, --dir &lt;path&gt;` | string | Directory with email templates (default: "./emails") |
| `-p --packageManager &lt;name&gt;` | string | Package manager to use for installation (default: "npm") |

#### Action
Calls the `build` function imported from `./commands/build`.

### `start` command
#### Description
Runs the built preview app inside `.react-email`.

#### Action
Calls the `start` function imported from `./commands/start`.

### `export` command
#### Description
Builds the templates to the `out` directory.

#### Options
| Name | Type | Description |
|:-----|:-----|:------------|
| `--outDir &lt;path&gt;` | string | Output directory (default: "out") |
| `-p, --pretty` | boolean | Pretty print the output (default: false) |
| `-t, --plainText` | boolean | Set output format as plain text (default: false) |
| `-d, --dir &lt;path&gt;` | string | Directory with email templates (default: "./emails") |
| `-s, --silent` | boolean | Hide spinner with process information (default: false) |

#### Action
Calls the `exportTemplates` function imported from `./commands/export` with the provided options.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| commander | Provides the CLI framework |
| ../../package.json | Used to get the package version |
| ./commands/dev | Implements the `dev` command functionality |
| ./commands/export | Implements the `export` command functionality |
| ./commands/build | Implements the `build` command functionality |
| ./commands/start | Implements the `start` command functionality |

## Configuration
The CLI uses default values for various options, which can be overridden by the user when running the commands.

## Error Handling
The code doesn't implement explicit error handling. Errors would be handled by the individual command implementations or Commander.js itself.

## API/Interface Reference
This CLI exposes the following commands:
| Command | Description |
|:--------|:------------|
| dev | Starts the preview email development app |
| build | Copies and builds the preview app |
| start | Runs the built preview app |
| export | Builds the templates to the output directory |

Each command has its own set of options as described in the Symbols section.