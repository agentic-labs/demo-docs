---
title: "export.spec.ts"
---

## High-level description
This code is a unit test for the `exportTemplates` function from the `export` module. It tests the functionality of exporting email templates to HTML files, specifically focusing on the "vercel-invite-user" template.

## Symbols

### `test('email export', async () =&gt; {...})`
#### Description
This is a Jest test case that verifies the functionality of the `exportTemplates` function.

#### Internal Logic
1. **Arrange**: 
   - Sets up the paths for the email directory and the output directory.
2. **Act**: 
   - Calls the `exportTemplates` function with the specified paths and options.
3. **Assert**:
   - Checks if the output directory exists.
   - Reads the content of a specific exported HTML file and compares it with a snapshot.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| pathToDumpMarkup | string | Path where exported HTML files will be saved |
| pathToEmailsDirectory | string | Path to the directory containing email templates |
| options | object | Configuration options for export (pretty: true, silent: true) |

#### Outputs
No explicit outputs, but the test expects certain side effects and file contents.

## Side Effects
- Creates an output directory for exported HTML files.
- Writes HTML files to the output directory.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| path | For handling file and directory paths |
| fs | For file system operations |
| exportTemplates | The function being tested, imported from '../export' |
| Jest | Testing framework (implied by the use of `test` and `expect`) |

## References
- The `exportTemplates` function from '../export' is the main subject of this test.

## Notes
1. The test uses Jest's snapshot testing feature to compare the exported HTML content with a previously saved snapshot.
2. The paths used in the test are relative to the test file's location, reaching up to the project's root and then into specific directories.
3. The test is designed to run silently (`silent: true` option) to avoid console output during testing.

This test ensures that the `exportTemplates` function correctly processes email templates and generates the expected HTML output, focusing specifically on the "vercel-invite-user" template as a representative example.