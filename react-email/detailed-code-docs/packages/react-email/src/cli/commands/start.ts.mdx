---
title: "start.ts"
---

## High-level description
This code defines a `start` function that launches a React Email preview server. It checks for the existence of a built preview directory, starts the server using npm, and handles process termination.

## Symbols

### `start`
#### Description
An asynchronous function that initiates the React Email preview server. It checks for the existence of a built preview directory, starts the server using npm, and handles process termination.

#### Inputs
This function doesn't take any explicit inputs.

#### Outputs
This function doesn't return any value. It either starts the server or exits the process with an error code.

#### Internal Logic
1. Determines the user's project location using `process.cwd()`.
2. Constructs the path to the built preview directory (`.react-email`).
3. Checks if the built preview directory exists.
4. If the directory doesn't exist, throws an error suggesting to run `email build`.
5. Spawns a child process to run `npm start` in the built preview directory.
6. Sets up a SIGINT handler to kill the child process when the parent process is interrupted.
7. Sets up an exit handler to terminate the parent process when the child process exits.
8. Catches any errors, logs them, and exits the process with code 1.

## Side Effects
- Spawns a child process to run the npm start command.
- May modify the process exit code.
- Logs errors to the console.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:fs | File system operations |
| node:path | Path manipulations |
| node:child_process | Spawning child processes |

## Error Handling
The function is wrapped in a try-catch block. If any error occurs during execution, it's logged to the console, and the process exits with code 1.

## Performance Considerations
This function spawns a child process, which can be resource-intensive. However, it's typically used for development purposes and not in production environments.