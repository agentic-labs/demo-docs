---
title: "Overview"
---

## High-level description
The `packages/react-email/src/cli` directory contains the core command-line interface (CLI) implementation for the React Email library. It provides a set of commands and utilities that enable developers to build, develop, export, and preview React Email templates efficiently.

## What does it do?
This CLI allows developers to:

1. Build a preview application for visualizing and testing email templates.
2. Run a local development server with hot reloading for real-time feedback while designing emails.
3. Export React Email components to static HTML files for deployment.
4. Launch a preview server for a built React Email project.
5. Generate a tree-like representation of the project structure for easy visualization.

The CLI provides an intuitive interface for developers to interact with the React Email library through their terminal, streamlining the email template development process.

## Entry points
The main entry point for the CLI is the `index.ts` file in the `cli` directory. This file sets up the CLI structure using Commander.js and defines the following commands:

1. `dev`: Starts the preview email development app.
2. `build`: Copies the preview app to `.react-email` and builds it.
3. `start`: Runs the built preview app inside `.react-email`.
4. `export`: Builds the templates to the `out` directory.

Each command is associated with a specific action function imported from separate files in the `commands` subdirectory.

## Key Files
1. `commands/build.ts`: Handles the build process for the React Email preview application.
2. `commands/dev.ts`: Manages the development server and hot reloading functionality.
3. `commands/export.ts`: Orchestrates the export of React Email templates to static HTML files.
4. `commands/start.ts`: Launches the preview server for a previously built React Email project.
5. `utils/preview/start-dev-server.ts`: Contains the `startDevServer` function for setting up and running the development server.
6. `utils/preview/hot-reloading/setup-hot-reloading.ts`: Implements hot reloading functionality using WebSocket communication.
7. `utils/tree.ts`: Implements the `tree` function for generating directory tree representations.

## Dependencies
The CLI relies on several external libraries and Node.js built-in modules:

- Commander.js: Provides the CLI framework.
- fs, path, child_process: Node.js built-in modules for file system operations and process management.
- ora: Offers a terminal spinner for visual feedback during long-running processes.
- esbuild: Used for bundling JavaScript code.
- @react-email/render: The core library for rendering React Email components into HTML.
- glob: Used for flexible file pattern matching.
- log-symbols: Provides colored symbols for enhancing console output.
- next: For server-side rendering of React components in the preview app.
- socket.io: Enables real-time communication for hot reloading.
- chokidar: Used for file watching in the development server.
- @babel/core and @babel/parser: For parsing JavaScript and TypeScript files.
- mime-types: Determines correct MIME types for static files.
- chalk: Enhances console output with colored text.

## Configuration
The CLI uses default values for various options, which can be overridden by the user when running the commands. Key configuration points include:

- Email template directory (default: "./emails")
- Output directory for exports (default: "out")
- Development server port (default: 3000)
- Package manager for installation (default: "npm")

Environment variables for the preview application are generated dynamically using the `getEnvVariablesForPreviewApp` function in the utils directory.

The CLI provides a flexible and powerful toolset for developers working with React Email templates, offering a seamless development experience from creation to export and preview.