---
title: "get-imported-modules.spec.ts"
---

## High-level description
This file contains unit tests for the `getImportedModules` function, which is responsible for extracting imported module names from JavaScript/TypeScript source code. The tests cover various import and require scenarios, including ES6 imports, CommonJS requires, and different quotation styles.

## Symbols

### `describe('getImportedModules()', ...)`
#### Description
This is the main test suite for the `getImportedModules` function. It contains multiple test cases to verify the function's behavior under different scenarios.

#### Internal Logic
The test suite uses Jest's `describe` and `it` functions to organize and run the tests. Each test case sets up a specific input and checks the output against the expected result using Jest's `expect` function.

### `it('should work with this test file', ...)`
#### Description
This test case checks if the `getImportedModules` function correctly identifies imports in the current test file itself.

#### Internal Logic
1. Reads the contents of the current file using `fs.readFile`.
2. Calls `getImportedModules` with the file contents.
3. Expects the result to match an array containing 'node:fs' and './get-imported-modules'.

### `it('should work with direct exports', ...)`
#### Description
This test case verifies that the function correctly handles direct exports and re-exports.

#### Internal Logic
1. Defines a string containing various export statements.
2. Calls `getImportedModules` with the string.
3. Expects the result to match an array of imported module names.

### `it('should work with regular imports and double quotes', ...)`
#### Description
This test case checks if the function correctly handles ES6 imports with double quotes.

#### Internal Logic
1. Defines a string containing various import statements with double quotes.
2. Calls `getImportedModules` with the string.
3. Expects the result to match an array of imported module names.

### `it('should work with regular imports and single quotes', ...)`
#### Description
This test case is similar to the previous one but uses single quotes instead of double quotes.

#### Internal Logic
Same as the previous test case, but with single quotes in the input string.

### `it('should work with commonjs require with double quotes', ...)`
#### Description
This test case verifies that the function correctly handles CommonJS require statements with double quotes.

#### Internal Logic
1. Defines a string containing various require statements with double quotes.
2. Calls `getImportedModules` with the string.
3. Expects the result to match an array of imported module names.

### `it('should work with commonjs require with single quotes', ...)`
#### Description
This test case is similar to the previous one but uses single quotes instead of double quotes for CommonJS require statements.

#### Internal Logic
Same as the previous test case, but with single quotes in the input string.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:fs | Used to read the contents of the current file in the first test case |
| ./get-imported-modules | The function being tested |

## References
The `getImportedModules` function is imported from './get-imported-modules', which is likely defined in a separate file in the same directory.

This test file is part of a larger project that seems to involve React and email components, as evidenced by the import statements in some of the test cases. However, the main focus of this file is to test the `getImportedModules` function's ability to extract module names from various import and require statements.