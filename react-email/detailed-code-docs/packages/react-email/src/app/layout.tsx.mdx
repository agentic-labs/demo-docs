---
title: "layout.tsx"
---

## High-level description
This code defines the root layout component for a React Email application using Next.js. It sets up the basic HTML structure, includes global styles, and provides an EmailsProvider context to manage email-related data throughout the application.

## Code Structure
The main component, `RootLayout`, is an async function that fetches email directory metadata and wraps the application with the `EmailsProvider`. It also sets up metadata for the page title and specifies dynamic rendering.

## Symbols

### `RootLayout`
#### Description
An asynchronous React component that serves as the root layout for the application. It fetches email directory metadata and provides it to child components through the `EmailsProvider`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| children | React.ReactNode | Child components to be rendered within the layout |

#### Internal Logic
1. Fetches email directory metadata using `getEmailsDirectoryMetadata`.
2. Throws an error if the email directory is not found.
3. Renders the HTML structure with language set to "en".
4. Applies the `inter` font class to the body.
5. Wraps children with `EmailsProvider`, passing the fetched email directory metadata.

### `metadata`
#### Description
An object of type `Metadata` that sets the title of the page to "React Email".

### `dynamic`
#### Description
A constant set to 'force-dynamic' to ensure the page is dynamically rendered on each request.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| next | For using Next.js features like `Metadata` type |
| react | For creating React components |
| ./globals.css | Global styles for the application |
| ../actions/get-emails-directory-metadata | Function to fetch email directory metadata |
| ../utils/emails-directory-absolute-path | Utility for getting the absolute path of the emails directory |
| ../contexts/emails | EmailsProvider context for managing email-related data |
| ./inter | Font configuration for the Inter typeface |

## Error Handling
The component throws an error if the emails directory specified by `emailsDirectoryAbsolutePath` is not found.

## Performance Considerations
The use of `dynamic = 'force-dynamic'` ensures that the page is always rendered on the server for each request, which may impact performance for high-traffic applications but ensures up-to-date content.