---
title: "Overview"
---

## High-level description
This directory contains the browser-specific rendering functionality for a React email rendering package. It provides functions to render React components into HTML or plain text in a browser environment, along with supporting utilities and tests.

## What does it do?
This code allows developers to take React components and render them into either HTML for display in an email client or plain text for a simpler version of the email. It handles different rendering methods available in various React DOM server implementations and provides options for customizing the output, such as pretty-printing the HTML or converting it to plain text.

## Entry points
The main entry point is `index.ts`, which exports the core rendering functions (`render` and `renderAsync`), options type (`Options`), and plain text selectors (`plainTextSelectors`). Developers would primarily interact with these exports to use the rendering functionality in their applications.

## Key Files

### packages/render/src/browser/render.ts
This file contains the synchronous `render` function, which is responsible for rendering a React component into HTML or plain text. It dynamically imports the appropriate React DOM server module and uses different rendering methods based on availability. The function also handles stream reading, HTML to plain text conversion, and pretty-printing based on provided options.

### packages/render/src/browser/render-async.ts
This file contains the asynchronous `renderAsync` function, which provides an asynchronous way to render React components. It shares similar functionality with `render.ts` in terms of handling different rendering methods, stream reading, and output customization.

### packages/render/src/browser/render-web.spec.tsx
This file contains unit tests for the `render` function in a browser environment. It uses Vitest to mock the `react-dom/server` module and test various rendering scenarios, including handling Next.js 14 error stubs.

### packages/render/src/browser/render-async-web.spec.tsx
This file contains unit tests for the `renderAsync` function, similar to how `render-web.spec.tsx` tests the `render` function. It also uses Vitest and mocks `react-dom/server` to simulate different rendering environments and test error handling.

## Dependencies
- **html-to-text:** This library is used for converting HTML content to plain text, which is useful for generating plain text versions of emails.
- **react-dom/server:** This package provides the server-side rendering functionality for React components. The code dynamically imports either the browser-specific version or the Node.js version depending on the environment.
- **vitest:** This testing framework is used in the test files to run unit tests and mock dependencies.
