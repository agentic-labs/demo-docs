---
title: "pretty.ts"
---

## High-level description
This code defines a utility function `pretty` that beautifies HTML strings using the `js-beautify` library. It sets default formatting options and allows for custom options to be passed in, providing a simple interface for prettifying HTML content.

## Symbols

### `pretty`
#### Description
The `pretty` function is an exported utility that takes an HTML string and optional formatting options, then returns a beautified version of the HTML using the `js-beautify` library.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| str | string | The HTML string to be beautified |
| options | object (optional) | Custom formatting options to override defaults |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | The beautified HTML string |

#### Internal Logic
1. The function uses the `html` method from `js-beautify`.
2. It merges the default options with any custom options provided.
3. It applies the beautification to the input string and returns the result.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| js-beautify | Used for HTML beautification |

### Configuration
The code defines default configuration options for the HTML beautification:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| unformatted | string[] | `["code", "pre", "em", "strong", "span"]` | HTML tags that should not be reformatted |
| indent_inner_html | boolean | `true` | Whether to indent the contents of `&lt;head&gt;` and `&lt;body&gt;` sections |
| indent_char | string | `" "` (space) | Character used for indentation |
| indent_size | number | 2 | Number of indent characters to use for each indentation level |
| sep | string | `"\n"` | Separator used between elements |

## References
The `pretty` function is used in several other files within the project:
- `packages/render/src/browser/render.ts`
- `packages/render/src/node/render-async.ts`
- `packages/render/src/browser/render-async.ts`
- `packages/render/src/node/render.ts`

In these files, `pretty` is used as part of a rendering process, typically applied to the final HTML document when a `pretty` option is set to true.

## Notes
1. The import statement for `js-beautify` uses a default import to avoid issues with ESM, as the library is written in CommonJS.
2. The function is designed to be flexible, allowing users to override default options easily.
3. This utility is part of a larger rendering system, likely used for server-side rendering of React components with optional HTML beautification.