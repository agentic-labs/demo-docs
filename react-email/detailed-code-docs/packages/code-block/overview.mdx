---
title: "Overview"
---

## High-level description
The `packages/code-block` directory contains a React component package for rendering syntax-highlighted code blocks. It utilizes Prism.js for tokenization and styling, offering customizable themes and language support. This package is part of a larger React Email project and is designed to be used in email templates or other React applications that require code display functionality.

## What does it do?
The `CodeBlock` component takes source code as input and renders it with syntax highlighting. It processes the code by:
1. Breaking it down into individual tokens (keywords, comments, strings, etc.)
2. Applying styles based on the selected theme and language
3. Rendering the code with line numbers (optional)

This makes code snippets more readable and visually appealing, especially in technical documentation or email templates containing code examples.

## Entry points
The main entry point for this package is `src/index.ts`, which exports:
- The `CodeBlock` component
- Available themes
- Supported languages

Developers using this package would import these exports to use the code block functionality in their applications.

## Key Files
1. `src/code-block.tsx`: Defines the main `CodeBlock` React component. It handles:
   - Tokenization of the code using Prism.js
   - Applying styles from the selected theme
   - Recursive rendering of individual lines and tokens
   - Handling nested elements

2. `src/themes.ts`: Defines various syntax highlighting themes as TypeScript objects. Each theme maps Prism.js token types to CSS styles, allowing for customizable color schemes.

## Dependencies
- `react`: ^18.0 || ^19.0 || ^19.0.0-rc (peer dependency)
- `prismjs`: 1.29.0 (for syntax highlighting)

Dev dependencies include TypeScript, ESLint, and other tools for development and building.

## Configuration
1. `tsconfig.json`: Configures TypeScript compilation, extending a base configuration for React libraries.
2. `.eslintrc.js`: Sets up ESLint rules, extending a custom configuration for internal React libraries.
3. `package.json`: Defines package metadata, scripts, and dependencies.

Key configuration points:
- The package is set up for both CommonJS and ES module systems.
- It's configured to work with Node.js version 18.0.0 or higher.
- The package is set for public access when published.

## Additional Context
- The package is part of a monorepo setup, as evidenced by workspace references in the dependencies.
- It supports various email clients, including Gmail, Apple Mail, Outlook, Yahoo! Mail, HEY, and Superhuman.
- The package is licensed under the MIT License.
- Recent changes include updating peer dependencies to allow for React 19 release candidates and adding forward ref support.

This package provides a flexible and customizable solution for displaying code snippets in React applications, with a focus on email template use cases. Its integration with Prism.js and support for multiple themes make it a versatile tool for developers needing to showcase code in their projects.