---
title: "preview.spec.tsx"
---

## High-level description
The code defines a React component called `&lt;Preview&gt;` and a utility function `renderWhiteSpace`. The `&lt;Preview&gt;` component is designed to render a hidden preview text for emails, limiting its length to 150 characters and appending whitespace characters to fill the remaining space.

## Code Structure
The code consists of a test suite for the `&lt;Preview&gt;` component and the `renderWhiteSpace` function. The tests cover different scenarios like rendering with simple text, array text, long text, and edge cases for the `renderWhiteSpace` function.

## Symbols

### `describe('&lt;Preview&gt; component', ...)`
#### Description
This block defines a test suite using Jest to test the functionality of the `&lt;Preview&gt;` component.

#### Internal Logic
The test suite includes three test cases:

* **"renders correctly"**: This test case checks if the component renders the provided text within a `&lt;div&gt;` container with specific styles to make it hidden. It uses `toMatchInlineSnapshot` to compare the rendered output with a snapshot.
* **"renders correctly with array text"**: This test case verifies that the component correctly handles children passed as an array of strings, joining them into a single string before rendering.
* **"renders correctly with really long text"**: This test case ensures that the component limits the rendered text length to `PREVIEW_MAX_LENGTH` (150 characters) even when provided with a longer text string.

### `describe('renderWhiteSpace', ...)`
#### Description
This block defines a test suite for the `renderWhiteSpace` utility function.

#### Internal Logic
The test suite includes two test cases:

* **"renders null when text length is greater than or equal to PREVIEW_MAX_LENGTH (150)"**: This test case asserts that the function returns `null` if the input text length is greater than or equal to 150 characters.
* **"renders white space characters when text length is less than PREVIEW_MAX_LENGTH"**: This test case checks if the function returns a `&lt;div&gt;` containing a string of whitespace characters with a length equal to `PREVIEW_MAX_LENGTH` minus the input text length.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @react-email/render | Used to render the `&lt;Preview&gt;` component and obtain the HTML output. |
| jest | Testing framework used to define and run the test suites. |

## Error Handling
The code does not implement specific error handling beyond basic exception raising within the test cases.

## Logging
The code does not implement any logging mechanisms.
