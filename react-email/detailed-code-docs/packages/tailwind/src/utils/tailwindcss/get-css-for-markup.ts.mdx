---
title: "get-css-for-markup.ts"
---

## High-level description
This code defines a utility function `getCssForMarkup` that generates CSS styles for given HTML markup using Tailwind CSS. It processes the markup through Tailwind and PostCSS plugins to produce the final CSS output.

## Code Structure
The main function `getCssForMarkup` uses Tailwind CSS and PostCSS to process the input markup and generate CSS. It configures Tailwind with the provided config and processes a basic CSS string containing Tailwind directives.

## Symbols

### `getCssForMarkup`
#### Description
This function takes HTML markup and an optional Tailwind configuration, processes it through Tailwind CSS and PostCSS plugins, and returns the generated CSS.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| markup | string | The HTML markup to process |
| config | TailwindConfig \| undefined | Optional Tailwind configuration |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| css | string | The generated CSS |

#### Internal Logic
1. Configures Tailwind CSS with the provided config, disabling the preflight core plugin.
2. Sets up a PostCSS processor with Tailwind CSS and postcss-css-variables plugins.
3. Processes a string containing Tailwind directives through the PostCSS processor.
4. Returns the resulting CSS.

## Side Effects
The function sets `global.__OXIDE__` to `undefined` to avoid errors related to Tailwind's potential future use of Oxide for transformations.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| tailwindcss | For processing Tailwind CSS |
| postcss-css-variables | PostCSS plugin for handling CSS variables |
| postcss | For processing CSS |

## Performance Considerations
The function processes CSS for each call, which could be performance-intensive for large markup or frequent calls. Consider caching results if the same markup is processed multiple times.

## TODOs
There's a comment indicating that setting `global.__OXIDE__` to `undefined` may cause problems in future Tailwind updates if they migrate to using Oxide for transformations.