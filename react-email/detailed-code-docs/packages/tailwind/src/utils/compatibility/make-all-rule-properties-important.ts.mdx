---
title: "make-all-rule-properties-important.ts"
---

## High-level description
This code defines a utility function `makeAllRulePropertiesImportant` that takes a CSS rule content string and adds the `!important` declaration to all properties within that rule. This function is used to ensure that certain CSS properties take precedence over others in specific contexts.

## Symbols

### `makeAllRulePropertiesImportant`
#### Description
This function processes a CSS rule content string and appends `!important` to each property declaration that doesn't already have it.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ruleContent | string | A string containing CSS property declarations |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | string | A modified string with `!important` added to each property declaration |

#### Internal Logic
1. Split the input string by semicolons to separate individual property declarations.
2. Map over each declaration:
   - If the declaration already ends with `!important`, trim it and leave as is.
   - Otherwise, trim the declaration and append `!important`.
3. Join the modified declarations back together with semicolons.

## References
This function is used in the `useTailwindStyles` hook from the related file `packages/tailwind/src/hooks/use-tailwind-styles.tsx`. Specifically, it's used to process CSS rules within media queries to ensure they take precedence.

## Performance Considerations
The function uses string manipulation methods like `split`, `map`, and `join`, which are generally efficient for small to medium-sized inputs. However, for very large CSS rule contents, this function might become a performance bottleneck and could potentially be optimized using regular expressions or more efficient string manipulation techniques.

## Side Effects
This function does not have any side effects as it doesn't modify any external state or resources. It purely transforms the input string and returns a new string.