---
title: "escape-class-name.ts"
---

## High-level description
This code defines a utility function `escapeClassName` that escapes special characters in CSS class names to ensure they are valid and safe to use in CSS selectors. It handles edge cases like already escaped characters and provides a robust solution for class name sanitization.

## Symbols

### `escapeClassName`
#### Description
The `escapeClassName` function takes a string input representing a CSS class name and returns a sanitized version of that class name with special characters properly escaped.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| className | string | The CSS class name to be escaped |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | The escaped and sanitized CSS class name |

#### Internal Logic
1. The function uses a regular expression to identify characters that need to be escaped.
2. It employs a look-ahead capturing group to avoid using negative look-behinds, which may not be supported in all JavaScript environments.
3. The regular expression matches any character that is not already escaped and is not an alphanumeric character, hyphen, or underscore.
4. For each match, it checks if the character is a backslash at the beginning of the string (which doesn't need escaping) and handles it accordingly.
5. It prepends a backslash to characters that need escaping, effectively escaping them.

## Performance Considerations
The function uses a single `replace` operation with a regular expression, which is generally efficient for string manipulation. However, for extremely long class names or frequent calls to this function, the regular expression evaluation might become a performance bottleneck.

## Error Handling
This function does not implement explicit error handling. It assumes that the input is a valid string and will return the input as-is if it doesn't contain any characters that need escaping.

## Side Effects
This function has no side effects. It's a pure function that takes an input and returns a transformed output without modifying any external state.

## TODOs
There are no explicit TODOs in the code. However, potential improvements could include:
1. Adding input validation to ensure `className` is a string.
2. Optimizing for performance if used in high-frequency scenarios.
3. Considering edge cases like empty strings or very long class names.