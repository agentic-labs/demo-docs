---
title: "Overview"
---

## High-level description
The `benchmarks/preview-server/src/utils` directory contains utility functions for running and interacting with a Node.js server in the context of benchmarking a React Email application. These utilities are specifically designed for testing the performance of the server, such as measuring startup time and initial page load.

## What does it do?
This directory provides helper functions to streamline the benchmarking process. It enables the execution of a CLI script that starts a development server, monitors its output to determine when it's ready, and fetches specific pages for performance measurement. The utilities handle tasks like spawning child processes, parsing server output for URLs, and managing the server lifecycle.

## Key Files

### benchmarks/preview-server/src/utils/run-server-and-fetch-preview-page.ts
This file contains the `runServerAndFetchPreviewPage` function, which is responsible for starting the server, waiting for it to be ready, fetching a preview page, and then shutting down the server. This function is particularly useful for measuring the time it takes for the server to start up and serve the first page.

### benchmarks/preview-server/src/utils/run-server.ts
This file defines the `runServer` function. This function is responsible for starting the server and extracting the URL where the server is running. It provides a way to start the server programmatically and obtain the necessary information to interact with it.
