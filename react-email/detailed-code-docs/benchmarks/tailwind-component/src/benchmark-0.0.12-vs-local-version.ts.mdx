---
title: "benchmark-0.0.12-vs-local-version.ts"
---

## High-level description
This code benchmarks the performance of two versions of a Tailwind component in a React email rendering context. It compares the local version of the Tailwind component against version 0.0.12, running 100 iterations of each and saving the results to a JSON file.

## Code Structure
The main function sets up and runs the benchmark, while the top-level code executes the main function and handles the results.

## Symbols

### `main`
#### Description
This asynchronous function sets up and runs the benchmark comparing two versions of the Tailwind component.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| bench | Bench | The benchmark object containing the results |

#### Internal Logic
1. Creates a new `Bench` instance with 100 iterations.
2. Adds two benchmark tasks:
   - "local": Renders the email using the local Tailwind component.
   - "0.0.12": Renders the email using version 0.0.12 of the Tailwind component.
3. Runs the benchmark.
4. Returns the benchmark object.

### Top-level code
#### Description
Executes the `main` function and handles the results by writing them to a file and logging a table to the console.

#### Internal Logic
1. Calls the `main` function.
2. When the promise resolves:
   - Writes the benchmark results to a JSON file named "bench-results-100-iterations.json".
   - Logs a table of the benchmark results to the console.
3. If an error occurs, it logs the error to the console.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @react-email/render | Provides the `render` function for rendering React email components |
| fs | Used to write the benchmark results to a file |
| tinybench | Provides the `Bench` class for running benchmarks |
| ./emails/with-tailwind.js | Contains the `EmailWithTailwind` component being benchmarked |
| @react-email/tailwind | Provides the local version of the Tailwind component |
| tailwind-0.0.12 | Provides version 0.0.12 of the Tailwind component |

## Performance Considerations
This code is specifically designed to measure and compare the performance of two versions of a Tailwind component in the context of React email rendering. The use of 100 iterations helps to provide a more accurate performance comparison by reducing the impact of any temporary system fluctuations.