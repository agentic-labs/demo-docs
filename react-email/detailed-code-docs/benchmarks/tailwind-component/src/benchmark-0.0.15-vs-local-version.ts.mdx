---
title: "benchmark-0.0.15-vs-local-version.ts"
---

## High-level description
This code is a benchmark script that compares the performance of two versions of the Tailwind component in React Email: version 0.0.15 and the local version. It uses the Tinybench library to run performance tests and outputs the results to a JSON file and the console.

## Code Structure
The main function `main()` sets up and runs the benchmark, while the script's execution is wrapped in a promise chain that handles the results and potential errors.

## Symbols

### `main()`
#### Description
This asynchronous function sets up and runs the benchmark tests using Tinybench.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| bench | Bench | The Tinybench instance with benchmark results |

#### Internal Logic
1. Creates a new Tinybench instance with 100 iterations.
2. Adds two benchmark tests:
   - "local": Renders the email using the local Tailwind component.
   - "0.0.15": Renders the email using Tailwind version 0.0.15.
3. Runs the benchmark tests.
4. Returns the Tinybench instance.

### Promise chain (anonymous)
#### Description
This chain handles the execution of the `main()` function and processes its results.

#### Internal Logic
1. Calls the `main()` function.
2. On success:
   - Writes the benchmark results to a JSON file named "bench-results-100-iterations.json".
   - Logs a table of the benchmark results to the console.
3. On error, logs the error to the console.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:fs | Used for writing benchmark results to a file |
| @react-email/render | Provides the `render` function for email components |
| tinybench | Benchmarking library used to run performance tests |
| tailwind-0.0.15 | Version 0.0.15 of the Tailwind component |
| @react-email/tailwind | Local version of the Tailwind component |
| ./emails/with-tailwind.js | Email component used for benchmarking |

## Performance Considerations
This script is specifically designed to measure and compare the performance of two versions of the Tailwind component. It uses 100 iterations for each test to ensure a reliable performance measurement.