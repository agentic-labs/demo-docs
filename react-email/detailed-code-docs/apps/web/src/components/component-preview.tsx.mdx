---
title: "component-preview.tsx"
---

## High-level description
The `ComponentPreview` component renders an iframe that displays a preview of a UI component. It dynamically adjusts the iframe's height to fit the content and applies styling based on the active view (desktop or mobile).

## Symbols

### `ComponentPreview`
#### Description
This functional component renders an iframe element that displays a preview of a UI component. It takes in the HTML content to be displayed, the active view (desktop or mobile), and an optional className as props. The component dynamically adjusts the iframe's height to fit the content using a resize event listener.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| activeView | string | The active view, either "desktop" or "mobile", used to apply specific styling. |
| className | string (optional) | Additional CSS class names to apply to the iframe. |
| html | string | The HTML content to be displayed in the iframe. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | `React.ReactElement` | An iframe element displaying the component preview with dynamic height adjustment. |

#### Internal Logic
1. **`iframeRef`:** A ref is created using `React.useRef` to reference the iframe element.
2. **`useEffect`:** The `useEffect` hook is used to attach a resize event listener to the iframe when the component mounts and detach it when it unmounts.
3. **`handleResize`:** This function calculates the appropriate height for the iframe based on the content's dimensions and sets the iframe's height accordingly.
4. **`classNames`:** The `classNames` function is used to conditionally apply CSS classes based on the `activeView` prop.
5. **`iframe`:** The component renders an iframe element with the provided `className`, `html` content, and a title. The `iframeRef` is attached to the iframe to access it within the component.

#### Side Effects
- Attaches and removes a resize event listener to the iframe element.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Used for building the UI component. |
| classnames | Used for conditionally applying CSS classes. |

