---
title: "data_monitoring_alerts_mock.py"
---

Here's a detailed documentation of the target file:

## High-level description
This file contains a mock implementation of the `DataMonitoringAlerts` class for testing purposes. It overrides certain methods of the original class to provide controlled behavior during unit tests.

## Code Structure
The `DataMonitoringAlertsMock` class inherits from `DataMonitoringAlerts` and overrides several methods to provide mock functionality. It uses `MockAlertsAPI` and `MockDbtRunner` to simulate the behavior of the actual components.

## Symbols

### `DataMonitoringAlertsMock`
#### Description
A mock class that extends `DataMonitoringAlerts` for testing purposes. It overrides certain methods to provide controlled behavior during unit tests.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| selector_filter | FiltersSchema | Filter schema for selecting alerts (default: empty FiltersSchema) |
| force_update_dbt_package | bool | Flag to force update of dbt package (default: False) |
| disable_samples | bool | Flag to disable samples (default: False) |
| send_test_message_on_success | bool | Flag to send test message on success (default: False) |
| global_suppression_interval | int | Global suppression interval for alerts (default: 0) |
| override_config | bool | Flag to override configuration (default: False) |

#### Internal Logic
1. Initializes the parent class with mock configuration and tracking.
2. Sets up a `MockAlertsAPI` instance.
3. Overrides several methods to provide mock functionality:
   - `_init_internal_dbt_runner`: Returns a `MockDbtRunner` instance.
   - `_download_dbt_package_if_needed`: Does nothing (mock implementation).
   - `get_latest_invocation`: Returns an empty dictionary.
   - `_get_warehouse_info`: Returns None.
   - `get_elementary_database_and_schema`: Returns a fixed string.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| elementary.config.config | Importing Config class |
| elementary.monitor.data_monitoring.alerts.data_monitoring_alerts | Importing DataMonitoringAlerts class |
| elementary.monitor.data_monitoring.schema | Importing FiltersSchema |
| tests.mocks.api.alerts_api_mock | Importing MockAlertsAPI |
| tests.mocks.dbt_runner_mock | Importing MockDbtRunner |

This mock class is designed to be used in unit tests for the `DataMonitoringAlerts` functionality, allowing for controlled testing environments without relying on actual external components or data sources.