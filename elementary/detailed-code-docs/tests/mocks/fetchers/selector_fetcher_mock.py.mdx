---
title: "selector_fetcher_mock.py"
---

## High-level description
This code defines a `MockSelectorFetcher` class, which is a mock implementation of the `SelectorFetcher` class for testing purposes. It initializes the mock fetcher with a `MockDbtRunner` instance, allowing for controlled testing of selector-related functionality without relying on actual dbt operations.

## Code Structure
The `MockSelectorFetcher` class inherits from `SelectorFetcher` and overrides its initialization to use a mock dbt runner.

## References
- `SelectorFetcher` from `elementary.monitor.fetchers.selector.selector`
- `MockDbtRunner` from `tests.mocks.dbt_runner_mock`

## Symbols

### `MockSelectorFetcher`
#### Description
A mock implementation of the `SelectorFetcher` class used for testing. It initializes with a `MockDbtRunner` instance to simulate dbt operations without actually running them.

#### Inputs
This class doesn't define any explicit inputs beyond those inherited from `SelectorFetcher`.

#### Internal Logic
1. Creates an instance of `MockDbtRunner`.
2. Calls the superclass (`SelectorFetcher`) constructor with the mock dbt runner.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| elementary.monitor.fetchers.selector.selector | Provides the base `SelectorFetcher` class |
| tests.mocks.dbt_runner_mock | Provides the `MockDbtRunner` class for simulating dbt operations |

## Related Code Context

### SelectorFetcher (from elementary/monitor/fetchers/selector/selector.py)
The `SelectorFetcher` class is a subclass of `FetcherClient` and provides a method `get_selector_results` that uses a dbt runner to execute the `ls` command with a given selector.

### MockDbtRunner (from tests/mocks/dbt_runner_mock.py)
The `MockDbtRunner` class is a mock implementation of `SubprocessDbtRunner`. It initializes with predefined mock project and profiles directories, and sets `run_deps_if_needed` to `False`.

This mock class is used to simulate dbt operations in a controlled testing environment without actually running dbt commands or requiring a real dbt project setup.

By using `MockSelectorFetcher` with `MockDbtRunner`, tests can be written to verify the behavior of selector-related functionality without the need for a real dbt environment or execution of actual dbt commands. This allows for faster, more isolated, and more predictable tests of the selector fetching logic.