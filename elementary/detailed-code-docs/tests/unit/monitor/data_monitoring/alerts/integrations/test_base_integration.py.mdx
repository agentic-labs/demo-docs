---
title: "test_base_integration.py"
---

## High-level description
This file contains unit tests for the `BaseIntegration` class, specifically focusing on the `_get_alert_template` method. The tests verify that the correct template is returned for different types of alerts.

## Code Structure
The file consists of two pytest fixtures and one test function. The fixtures provide mock objects for the test, while the test function checks the behavior of the `_get_alert_template` method for various alert types.

## Symbols

### `test_get_alert_template`
#### Description
This function tests the `_get_alert_template` method of the `BaseIntegrationMock` class for different types of alerts.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| base_integration_mock | BaseIntegrationMock | A mock object of the BaseIntegration class |
| alerts_data_mock | AlertsDataMock | A mock object containing various types of alert data |

#### Internal Logic
The test function calls `_get_alert_template` with different alert types and asserts that the correct template name is returned for each:
1. dbt test
2. elementary test
3. model
4. snapshot
5. source freshness
6. grouped by table

### `base_integration_mock`
#### Description
This is a pytest fixture that returns an instance of `BaseIntegrationMock`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| return value | BaseIntegrationMock | An instance of the BaseIntegrationMock class |

### `alerts_data_mock`
#### Description
This is a pytest fixture that returns an instance of `AlertsDataMock`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| return value | AlertsDataMock | An instance of the AlertsDataMock class |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| pytest | Testing framework used for writing and running the tests |
| tests.mocks.data_monitoring.alerts.integrations.alerts_data_mock.AlertsDataMock | Provides mock alert data for testing |
| tests.mocks.data_monitoring.alerts.integrations.base_integration_mock.BaseIntegrationMock | Provides a mock implementation of the BaseIntegration class |

## References
The test file references the following classes and methods:
- `BaseIntegrationMock._get_alert_template`
- Various alert types from `AlertsDataMock`: dbt_test, elementary_test, model, snapshot, source_freshness, grouped_by_table

Based on the related code snippet provided, we can see that the `BaseIntegrationMock` class implements the `_get_alert_template` method, which is being tested in this file. The mock class returns specific strings for each type of alert, which correspond to the assertions in the test function.