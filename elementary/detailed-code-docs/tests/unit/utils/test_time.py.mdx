---
title: "test_time.py"
---

## High-level description
This file contains unit tests for time-related utility functions in the `elementary.utils.time` module. The tests cover functionality for formatting datetime objects, calculating time deltas, and converting times between different timezones.

## Symbols

### `test_datetime_strftime_without_timezone`
#### Description
Tests the `datetime_strftime` function without including timezone information.

#### Internal Logic
1. Creates a datetime object for January 1, 2010, at 01:01:01.001.
2. Calls `datetime_strftime` with `include_timezone=False`.
3. Asserts that the returned string matches the expected format without timezone.

### `test_datetime_strftime_with_timezone`
#### Description
Tests the `datetime_strftime` function including timezone information.

#### Internal Logic
1. Creates a datetime object for January 1, 2010, at 01:01:01.001 with UTC timezone.
2. Calls `datetime_strftime` with `include_timezone=True`.
3. Asserts that the returned string matches the expected format with UTC timezone.

### `test_get_formatted_timedelta_days_delta`
#### Description
Tests the `get_formatted_timedelta` function for a time delta of multiple days.

#### Internal Logic
1. Calls `get_formatted_timedelta` with 173000 seconds (2 days, 0 hours, 3 minutes, 20 seconds).
2. Asserts that the returned string matches the expected format.

### `test_get_formatted_timedelta_hours_delta`
#### Description
Tests the `get_formatted_timedelta` function for a time delta of multiple hours.

#### Internal Logic
1. Calls `get_formatted_timedelta` with 43200 seconds (12 hours).
2. Asserts that the returned string matches the expected format.

### `test_get_formatted_timedelta_minutes_delta`
#### Description
Tests the `get_formatted_timedelta` function for a time delta of multiple minutes.

#### Internal Logic
1. Calls `get_formatted_timedelta` with 3001 seconds (50 minutes, 1 second).
2. Asserts that the returned string matches the expected format.

### `test_get_formatted_timedelta_seconds_delta`
#### Description
Tests the `get_formatted_timedelta` function for a time delta of seconds only.

#### Internal Logic
1. Calls `get_formatted_timedelta` with 12 seconds.
2. Asserts that the returned string matches the expected format.

### `test_convert_time_to_timezone`
#### Description
Tests the `convert_time_to_timezone` function for various scenarios.

#### Internal Logic
1. Tests handling of datetime without timezone (assumed as UTC):
   - Creates a naive datetime.
   - Converts it using `convert_time_to_timezone`.
   - Asserts that the original datetime has no timezone and the converted one is UTC.

2. Tests default conversion to UTC:
   - Creates a datetime with UTC+01:00 timezone.
   - Converts it using `convert_time_to_timezone`.
   - Asserts that the timezone changed to UTC and the hour adjusted accordingly.

3. Tests conversion to a specific timezone (UTC+02:00):
   - Creates a datetime with UTC+01:00 timezone.
   - Converts it to "Etc/GMT-2" timezone using `convert_time_to_timezone`.
   - Asserts that the timezone changed to +02 and the hour adjusted accordingly.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| datetime | For working with date and time objects |
| dateutil.tz | For timezone handling |
| elementary.utils.time | Module containing the functions being tested |

## Error Handling
This test file does not implement specific error handling mechanisms. It relies on the default assertion behavior of the testing framework to catch any discrepancies between expected and actual results.