---
title: "test-main-warehouse.yml"
---

## High-level description
This GitHub Actions workflow file defines a CI/CD process to test the main warehouse platform. It is triggered on pull requests to the master branch that modify specific paths or can be manually dispatched. The workflow uses a reusable workflow to run tests for a PostgreSQL-based warehouse.

## Code Structure
The workflow consists of a single job named "test" that utilizes a reusable workflow defined in another file.

## Symbols

### Workflow
#### Description
This GitHub Actions workflow is named "Test main warehouse platform" and is designed to run tests for the main warehouse platform using PostgreSQL.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A | N/A | This workflow doesn't define explicit inputs, but it is triggered by specific events. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A | N/A | This workflow doesn't define explicit outputs. |

#### Internal Logic
1. The workflow is triggered on pull requests to the master branch that modify files in the `elementary/` directory or the `pyproject.toml` file.
2. It can also be manually triggered using the `workflow_dispatch` event.
3. The workflow defines a single job named "test" that uses a reusable workflow.
4. The reusable workflow is located at `./.github/workflows/test-warehouse.yml`.
5. It passes the `warehouse-type` parameter as "postgres" to the reusable workflow.
6. All secrets from the calling workflow are passed to the reusable workflow using `secrets: inherit`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ./.github/workflows/test-warehouse.yml | Reusable workflow for running warehouse tests |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| warehouse-type | string | postgres | Specifies the type of warehouse to test |

Note: The configuration is passed as an input to the reusable workflow.

## TODOs
There are no explicit TODOs in this workflow file.