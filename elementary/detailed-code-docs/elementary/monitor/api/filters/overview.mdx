---
title: "Overview"
---

## High-level description
The `elementary/monitor/api/filters` directory houses the logic for generating filters used in the Elementary data monitoring system. These filters allow users to categorize and drill down into test results, test runs, and model run data within the monitoring interface. 

The directory primarily consists of two files:
- `filters.py`: Contains the `FiltersAPI` class responsible for generating the filters.
- `schema.py`: Defines the data structures (`FilterSchema`, `FiltersSchema`) for representing filters.

## What does it do?
The code defines a mechanism to create filters that categorize data related to tests and model runs. Imagine you have a dashboard showing the results of various data quality checks (tests) and the execution history of data processing jobs (model runs). This code generates filter options like "Failed Tests," "Successful Runs," or "Warnings" that you can click on to see only the relevant subset of data.

The filtering logic considers different aspects of the data:
- **Test Results:** Filters based on the outcome of data quality checks (e.g., pass, fail, warning).
- **Test Runs:** Filters based on the overall status of a set of tests executed together.
- **Model Runs:** Filters based on the success or failure of data processing jobs.

## Key Files
### elementary/monitor/api/filters/filters.py
This file contains the `FiltersAPI` class, which is the core component for filter generation. It fetches data about test results, test runs, and model runs, then processes this data to create filter objects. Each filter object represents a specific criterion, such as "Failed Tests" or "Successful Model Runs."

### elementary/monitor/api/filters/schema.py
This file defines the structure of the filter objects using Pydantic schemas. It ensures that the generated filters adhere to a predefined format, making it easier to use them consistently within the monitoring system.

## Dependencies
- `elementary.clients.api.api_client`: Provides the base class for interacting with the Elementary API.
- `elementary.monitor.api.filters.schema`: Defines the schemas for the filter objects.
- `elementary.monitor.api.models.schema`: Defines schemas for models and model runs.
- `elementary.monitor.api.totals_schema`: Defines the schema for aggregated test results.
- `elementary.monitor.fetchers.models.schema`: Defines the schema for artifacts like models and sources.
- `elementary.utils.log`: Provides logging functionality.
- `typing`: Used for type hinting.
- `elementary.utils.pydantic_shim`: Imports the `BaseModel` class for data validation using Pydantic. 
