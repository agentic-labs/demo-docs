---
title: "Overview"
---

## High-level description
This directory contains the API models and schemas for the Elementary monitoring system. It defines the data structures and provides methods for fetching and processing data related to dbt models, sources, exposures, and test coverages. The code is organized to support a comprehensive monitoring and reporting system for data pipelines or analytics platforms.

## What does it do?
The code in this directory performs several key functions:

1. Defines data structures (schemas) for representing various aspects of the monitoring system, such as model runs, test results, and artifacts (models, sources, exposures).

2. Provides an API (`ModelsAPI`) for fetching and processing data related to dbt models, sources, exposures, and test coverages. This includes methods to retrieve model runs, normalize artifact data, and calculate test coverage.

3. Implements data normalization and processing logic to standardize the format of different artifacts and aggregate statistics for model runs.

4. Supports filtering and grouping of data based on various criteria, such as time ranges, tags, or upstream dependencies.

5. Offers a reporting API (`ReportAPI`) that aggregates data from various sources to generate comprehensive reports on the state of the data pipeline or analytics platform.

## Key Files

1. `schema.py`: This file defines the core data models using Pydantic. It includes schemas for normalized artifacts, model runs, and various other components of the monitoring system. These schemas provide a structured way to represent and validate data throughout the system.

2. `models.py`: This file contains the `ModelsAPI` class, which is responsible for fetching and processing data related to dbt models, sources, exposures, and test coverages. It provides methods to retrieve and normalize this data, making it easier to use in other parts of the Elementary monitoring system.

## Dependencies
The code relies on several external libraries and internal modules:

1. Pydantic: Used for data validation and settings management in the schema definitions.
2. elementary.utils: Various utility functions and classes used throughout the code.
3. elementary.clients.api.api_client: Provides the base API client functionality.
4. elementary.monitor.fetchers: Contains data fetchers for various components of the monitoring system.
5. elementary.clients.dbt.base_dbt_runner: Used for executing dbt operations.

## Configuration
The APIs in this directory use various configuration options, mainly through method parameters. These include:

1. Time range specifications (e.g., `days_back` in `get_models_runs`)
2. Filtering options (e.g., `exclude_elementary_models` in `get_models`)
3. Data selection criteria (e.g., `upstream_node_ids` in `get_exposures`)

These configuration options allow users of the API to customize the data retrieval and processing according to their specific needs.

In summary, this directory provides the core data structures and APIs for fetching, processing, and aggregating monitoring data in the Elementary system. It serves as a crucial component in building a comprehensive monitoring and reporting solution for data pipelines and analytics platforms.