---
title: "elementary.yml"
---

## High-level description
This YAML file defines the structure and configuration for the Elementary data source in a dbt project. It specifies various tables within the Elementary schema and applies a unique constraint test to the 'unique_id' column of each table.

## Code Structure
The file is structured as a dbt source definition, containing a single source named 'elementary' with multiple tables. Each table has a 'unique_id' column that is tested for uniqueness.

## Symbols

### elementary (source)
#### Description
Defines the Elementary data source within the dbt project. The schema is dynamically set to the target schema of the dbt project.

#### Internal Logic
- Sets the schema to `"{{ target.schema }}"`, which is a Jinja template that will be replaced with the actual target schema at runtime.
- Defines six tables: dbt_models, dbt_tests, dbt_sources, dbt_snapshots, dbt_metrics, and dbt_exposures.
- For each table, it specifies a 'unique_id' column with a uniqueness test.

### Tables (dbt_models, dbt_tests, dbt_sources, dbt_snapshots, dbt_metrics, dbt_exposures)
#### Description
Each table represents a different aspect of the dbt project structure or metadata.

#### Internal Logic
- Each table has a 'unique_id' column.
- The 'unique_id' column is tested using the 'elementary_cli.unique_if_exists' test, which likely ensures uniqueness if the column exists.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| elementary_cli | Provides the 'unique_if_exists' test used on the 'unique_id' columns |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| version | integer | 2 | Specifies the version of the dbt YAML configuration |

This configuration file is crucial for setting up the Elementary data source in a dbt project. It ensures that each table has a unique identifier column and applies consistent testing across all tables. The use of the target schema allows for flexibility in deployment across different environments.