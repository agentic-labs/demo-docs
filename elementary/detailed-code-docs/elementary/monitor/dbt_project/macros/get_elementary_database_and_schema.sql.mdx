---
title: "get_elementary_database_and_schema.sql"
---

## High-level description
This macro retrieves the database and schema name for the current target in dbt. It prioritizes using the database name if it's defined, otherwise, it returns only the schema name.

## Symbols
### `get_elementary_database_and_schema`
#### Description
This macro retrieves the database and schema name for the current target in dbt. It constructs the full database and schema name, separated by a dot if the database is defined. Otherwise, it returns only the schema name.

#### Inputs
This macro has no explicit inputs.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (database.schema) or (schema) | string | Returns a string representing either the full database and schema name separated by a dot or just the schema name if the database is not defined. |

#### Internal Logic
1. **Retrieve database and schema:** It uses `elementary.target_database()` to get the database name and `target.schema` to get the schema name of the current target.
2. **Conditional return:** If the database name is not empty, it returns the concatenated string of "database.schema". Otherwise, it returns only the schema name.

## References
- `elementary.target_database()`: This macro likely comes from a package named "elementary" and is used to retrieve the target database name.
- `target.schema`: This is a built-in dbt variable that holds the schema name of the current target.

## Dependencies
This macro likely depends on the "elementary" dbt package for the `elementary.target_database()` macro. 
