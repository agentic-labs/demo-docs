---
title: "base_integration.py"
---

## High-level description
The `BaseIntegration` class in `base_integration.py` defines an abstract base class for integrating Elementary data monitoring alerts with external communication platforms like Slack or Microsoft Teams. It provides a blueprint for sending alerts and test messages, handling different alert types, and customizing message templates.

## Code Structure
The `BaseIntegration` class acts as a parent class for concrete integration classes like `SlackIntegration` and `TeamsIntegration`. It defines abstract methods for initializing the client, retrieving alert templates, sending alerts and test messages, and handling fallback scenarios. These methods are implemented by the child classes to provide specific integration logic.

## References
This class references the following alert model classes:
- `TestAlertModel`
- `ModelAlertModel`
- `SourceFreshnessAlertModel`
- `GroupedByTableAlerts`

## Symbols
### `BaseIntegration`
#### Description
This abstract base class defines the common interface and partial implementation for integrating Elementary data monitoring alerts with external platforms.

#### Inputs
This class does not have explicit inputs.

#### Outputs
This class does not have explicit outputs.

#### Internal Logic
The class defines several abstract methods that need to be implemented by concrete integration classes:
- `_initial_client`: Initializes the client for the specific integration platform.
- `_get_alert_template`: Retrieves the appropriate message template based on the alert type.
- `_get_dbt_test_template`: Retrieves the message template for dbt test alerts.
- `_get_elementary_test_template`: Retrieves the message template for Elementary test alerts.
- `_get_model_template`: Retrieves the message template for model alerts.
- `_get_snapshot_template`: Retrieves the message template for snapshot alerts.
- `_get_source_freshness_template`: Retrieves the message template for source freshness alerts.
- `_get_group_by_table_template`: Retrieves the message template for alerts grouped by table.
- `_get_fallback_template`: Retrieves a fallback message template in case of formatting errors.
- `send_alert`: Sends the alert to the specified channel on the integration platform.
- `send_test_message`: Sends a test message to the specified channel on the integration platform.

The `_get_alert_template` method uses a series of `isinstance` checks to determine the type of alert and call the corresponding template retrieval method.

## Dependencies
This class depends on the `abc` module for abstract base class functionality.

## Error Handling
This class does not implement specific error handling beyond raising `NotImplementedError` for abstract methods.

## Logging
This class does not implement logging.
