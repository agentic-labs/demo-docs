---
title: "Overview"
---

## High-level description
This directory contains schema definitions for alerts in the Elementary monitoring system. It defines data structures and validation logic for various types of alerts, including test alerts, model alerts, and source freshness alerts. The schemas are implemented using Pydantic, ensuring type safety and data validation throughout the system.

## What does it do?
The code in this directory provides a structured way to represent and validate alert data in the Elementary monitoring system. It defines schemas for different types of alerts, each with specific attributes and validation rules. These schemas are used to:

1. Standardize the format of alert data across the system.
2. Validate incoming alert data to ensure consistency and correctness.
3. Provide a common interface for handling different types of alerts.
4. Support the creation and management of pending alerts.

The schemas allow the system to handle alerts in a type-safe manner, reducing the likelihood of errors and improving the overall reliability of the monitoring process.

## Key Files

### alert_data.py
This file defines the core alert data schemas:

- `BaseAlertDataSchema`: A base class for all alert types, providing common fields and methods.
- `TestAlertDataSchema`: Specific schema for test-related alerts.
- `ModelAlertDataSchema`: Schema for model-related alerts.
- `SourceFreshnessAlertDataSchema`: Schema for source freshness alerts.

These schemas include detailed information about each alert type, such as test results, model metadata, and source freshness metrics.

### pending_alerts.py
This file defines the schema for pending alerts:

- `AlertTypes`: An enumeration of supported alert types.
- `AlertStatus`: An enumeration of possible alert statuses.
- `PendingAlertSchema`: The main schema for pending alerts, which includes common fields and a union of specific alert data schemas.

The `PendingAlertSchema` provides validation logic to ensure the consistency of alert data and handles the parsing of specific alert types.

## Dependencies
The schemas in this directory rely on the following key dependencies:

1. Pydantic: Used for data validation and serialization. The code uses a custom `pydantic_shim` module, likely for version compatibility.
2. datetime: For handling date and time operations in alert timestamps.
3. typing: For type hinting and improving code readability.
4. enum: Used to define enumeration classes for alert types and statuses.

## Configuration
The schemas use Pydantic's configuration options to customize their behavior:

- `smart_union`: Enabled to improve handling of union types.
- `use_enum_values`: Set to use enum values for serialization.

These configuration options are set in the `Config` inner class of the `PendingAlertSchema`.

The alert schemas also include various optional fields, allowing for flexibility in alert data representation. For example, the `TestAlertDataSchema` includes optional fields for test parameters, severity, and metadata.

In summary, this directory provides a robust and flexible foundation for handling alert data in the Elementary monitoring system. The schemas ensure data consistency and type safety, while also allowing for easy extension and customization of alert types and attributes.