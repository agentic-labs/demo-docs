---
title: "Overview"
---

## High-level description
The `elementary/monitor/fetchers/models` directory is responsible for fetching various types of dbt-related data, such as models, sources, exposures, and test coverages. It uses a `dbt_runner` to interact with dbt and retrieve the data, then parses it into structured formats using Pydantic models defined in the `schema.py` file.

## What does it do?
This code defines how Elementary interacts with dbt to fetch metadata about your dbt project. It fetches information about your dbt models, sources, exposures, and their test coverages. This information is then parsed and structured into a format that can be easily used by other parts of Elementary for monitoring and analysis.

## Key Files
### models.py
This file defines the `ModelsFetcher` class, which is the main entry point for fetching dbt metadata. It provides methods for fetching different types of data, such as:

- `get_models_runs`: Fetches historical data about model runs.
- `get_models`: Fetches information about dbt models.
- `get_sources`: Fetches information about dbt sources.
- `get_exposures`: Fetches information about dbt exposures.
- `get_test_coverages`: Fetches information about the test coverage of your dbt models.

### schema.py
This file defines the Pydantic models used to structure the data fetched by `ModelsFetcher`. These models ensure that the data is in a consistent and predictable format. Some of the key models defined in this file are:

- `ModelRunSchema`: Represents a single run of a dbt model.
- `ModelSchema`: Represents a dbt model.
- `SourceSchema`: Represents a dbt source.
- `ExposureSchema`: Represents a dbt exposure.
- `ModelTestCoverage`: Represents the test coverage information for a model.

## Dependencies
- `elementary.clients.fetcher.fetcher`: Provides the base `FetcherClient` class.
- `elementary.monitor.fetchers.models.schema`: Provides the Pydantic models for structuring the fetched data.
- `elementary.utils.log`: Provides logging functionality.
- `elementary.utils.pydantic_shim`: Provides compatibility layer for Pydantic v1 and v2.
- `elementary.utils.schema`: Defines `ExtendedBaseModel`.
- `elementary.utils.time`: Provides `convert_partial_iso_format_to_full_iso_format` function.
