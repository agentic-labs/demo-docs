---
title: "test_alert.py"
---

Here's a documentation of the `TestAlertModel` class in the target file:

## High-level description
The `TestAlertModel` class represents a test alert in the Elementary monitoring system. It extends the `AlertModel` base class and provides specific attributes and methods for test-related alerts.

## Code Structure
The `TestAlertModel` class inherits from `AlertModel` and adds test-specific attributes and methods. It uses type hints and optional fields extensively to provide a clear structure for test alert data.

## Symbols

### TestAlertModel
#### Description
This class represents a test alert, containing information about the test, its results, and associated metadata.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | str | Unique identifier for the alert |
| test_unique_id | str | Unique identifier for the test |
| elementary_unique_id | str | Elementary-specific unique identifier |
| test_name | str | Name of the test |
| severity | str | Severity level of the test result |
| test_type | str | Type of the test (e.g., "dbt_test" or "elementary_test") |
| test_sub_type | str | Sub-type of the test |
| test_short_name | str | Short name or alias for the test |
| alert_class_id | str | Identifier for the alert class |
| test_results_description | Optional[str] | Description of the test results |
| test_results_query | Optional[str] | Query used for the test |
| table_name | Optional[str] | Name of the table being tested |
| model_unique_id | Optional[str] | Unique identifier of the associated model |
| test_description | Optional[str] | Description of the test |
| other | Optional[Dict] | Additional test-related information |
| test_params | Optional[Dict] | Parameters used for the test |
| test_meta | Optional[Dict] | Metadata associated with the test |
| test_rows_sample | Optional[List[Dict]] | Sample of test result rows |
| column_name | Optional[str] | Name of the column being tested |
| detected_at | Optional[datetime] | Timestamp of when the alert was detected |
| database_name | Optional[str] | Name of the database |
| schema_name | Optional[str] | Name of the schema |
| owners | Optional[List[str]] | List of owners associated with the alert |
| tags | Optional[List[str]] | List of tags associated with the alert |
| subscribers | Optional[List[str]] | List of subscribers to the alert |
| status | Optional[str] | Status of the alert |
| model_meta | Optional[Dict] | Metadata associated with the model |
| suppression_interval | Optional[int] | Interval for alert suppression |
| timezone | Optional[str] | Timezone information |
| report_url | Optional[str] | URL for the alert report |
| alert_fields | Optional[List[str]] | List of alert fields |
| elementary_database_and_schema | Optional[str] | Elementary database and schema information |

#### Internal Logic
The class initializes all the input parameters and sets up additional properties such as `table_full_name`, `test_display_name`, `test_sub_type_display_name`, `is_elementary_test`, `unified_meta`, and `data`.

#### Properties
- `table_full_name`: Returns the full name of the table (database.schema.table).
- `test_display_name`: Returns a formatted display name for the test.
- `test_sub_type_display_name`: Returns a formatted display name for the test sub-type.
- `is_elementary_test`: Returns True if the test is an Elementary test, False otherwise.
- `unified_meta`: Returns a dictionary combining model_meta and test_meta.
- `data`: Returns a dictionary containing all the alert data.
- `concise_name`: Returns a concise name for the alert, combining test name and sub-type.
- `summary`: Returns a summary string for the alert.

#### Methods
- `display_name(str_value: str) -&gt; str`: Static method to format a string into a display name.
- `get_report_link() -&gt; Optional[ReportLinkData]`: Returns a ReportLinkData object for the test runs report.

## Dependencies
- `datetime`: For handling date and time operations.
- `typing`: For type hinting.
- `elementary.monitor.alerts.alert`: For the base `AlertModel` class.
- `elementary.monitor.data_monitoring.alerts.integrations.utils.report_link`: For handling report links.

## Error Handling
The class doesn't implement specific error handling, relying on the base class and standard Python error handling mechanisms.

This documentation provides an overview of the `TestAlertModel` class, its purpose, structure, and key components. It should help developers understand how to use and extend this class within the Elementary monitoring system.