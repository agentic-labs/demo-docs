---
title: "Overview"
---

## High-level description
The `elementary/clients/gcs` directory houses the code responsible for interacting with Google Cloud Storage (GCS). Its primary function is to facilitate the upload of reports generated by Elementary to a designated GCS bucket. Additionally, it can manage bucket website updates, ensuring that the latest report is readily accessible.

## What does it do?
This code acts as a bridge between Elementary and Google Cloud Storage. Imagine you have a report you want to share online. This code takes that report and uploads it to your designated storage space on Google Cloud, making it accessible via a unique web address. It also handles updating this online location whenever a new report is available.

## Entry points
The main entry point for interacting with this code is the `GCSClient` class defined in `client.py`. This class provides a high-level interface for uploading reports, managing bucket websites, and handling GCS credentials.

## Key Files
### elementary/clients/gcs/client.py
This file contains the `GCSClient` class, which serves as the primary interface for interacting with Google Cloud Storage. 

Here's a breakdown of its key functionalities:

- **Initialization (`__init__`)**: Sets up the client with configuration settings and an optional tracking object.
- **Report Upload (`send_report`)**: Uploads a report file to the specified GCS bucket and optionally updates the associated bucket website.
- **Bucket Website URL Retrieval (`get_bucket_website_url`)**: Generates the URL for accessing the report on the bucket website.
- **Client Creation (`get_client`)**: Initializes and returns a Google Cloud Storage client object.
- **Credential Management (`get_credentials`)**: Retrieves Google Cloud credentials based on the provided configuration.

Here's an example of how to use the `GCSClient` to upload a report:

```python
from elementary.clients.gcs.client import GCSClient

# Assuming you have a `config` object with GCS settings
gcs_client = GCSClient(config)

# Upload a report
success, bucket_website_url = gcs_client.send_report(
    local_html_file_path="path/to/report.html",
    remote_bucket_file_path="reports/latest_report.html",
)

if success:
    print(f"Report uploaded successfully to: {bucket_website_url}")
else:
    print("Report upload failed.")
```

## Dependencies
The `elementary/clients/gcs` directory relies on several external libraries:

- **`google.auth`**: Handles Google Cloud authentication, ensuring secure access to GCS resources.
- **`google.cloud.storage`**: Provides the necessary tools for interacting with Google Cloud Storage, including uploading and managing files.
- **`elementary.config.config`**: Used to access configuration settings required for connecting to GCS.
- **`elementary.tracking.tracking_interface`**: Allows for optional integration with tracking systems to monitor GCS operations.
- **`elementary.utils.bucket_path`**: Assists in handling bucket path operations, ensuring files are stored correctly.
- **`elementary.utils.log`**: Provides logging functionality for recording events and errors during GCS interactions. 
