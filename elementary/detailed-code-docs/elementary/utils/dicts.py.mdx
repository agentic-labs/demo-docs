---
title: "dicts.py"
---

## High-level description
This code defines utility functions for manipulating dictionaries in Python. It includes functions for flattening nested dictionaries and merging attributes from multiple dictionaries into a single list.

## Code Structure
This code consists of two functions: `flatten_dict_by_key` and `merge_dicts_attribute`. Both functions operate independently and are not interconnected.

## Symbols

### `flatten_dict_by_key`
#### Description
This function flattens a nested dictionary by merging the top-level keys with the keys of a specified nested dictionary. If the specified key doesn't exist in the nested dictionary, it returns the original dictionary without raising an error.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| nested_dict | Dict | The input nested dictionary to be flattened. |
| flatten_by_key | str | The key of the nested dictionary to be merged with the top-level dictionary. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
|  | Dict | The flattened dictionary with the nested dictionary's values merged into the top level. |

#### Internal Logic
1. Creates a new dictionary `flatten_dict` by unpacking the original `nested_dict` and the nested dictionary specified by `flatten_by_key`.
2. Removes the nested dictionary specified by `flatten_by_key` from the `flatten_dict`.
3. Returns the flattened dictionary.

### `merge_dicts_attribute`
#### Description
This function merges the values of a specific attribute from a list of dictionaries into a single list. It handles cases where the attribute value is a list or a single element.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dicts | List[Dict] | A list of dictionaries containing the attribute to be merged. |
| attribute_key | str | The key of the attribute to be merged from each dictionary. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
|  | List | A list containing all the values of the specified attribute from the input dictionaries. |

#### Internal Logic
1. Initializes an empty list `merged_attribute`.
2. Iterates through each dictionary in the `dicts` list.
3. For each dictionary, retrieves the value of the specified `attribute_key`.
4. If the attribute value is a list, extends the `merged_attribute` with the non-None elements of the list.
5. If the attribute value is not a list and not None, appends it to the `merged_attribute`.
6. Returns the `merged_attribute` list.
