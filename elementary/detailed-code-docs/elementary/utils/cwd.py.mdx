---
title: "cwd.py"
---

## High-level description
This code defines a context manager named `with_chdir` that allows temporarily changing the current working directory within a Python `with` statement. 

It provides a convenient way to execute code in a specific directory and ensures that the working directory is restored to its original state after the code block is executed, even if exceptions occur.

## Symbols

### `with_chdir`
#### Description
This context manager function temporarily changes the current working directory using `os.chdir`. It stores the original working directory and restores it when exiting the `with` block.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| path | str | The target directory path to change into. |

#### Outputs
This is a context manager, it doesn't return any specific value, it yields control to the code block within the `with` statement.

#### Internal Logic
1. **Entry:** 
    - It retrieves the current working directory using `os.getcwd()` and stores it in the `curdir` variable.
    - It then changes the current working directory to the provided `path` using `os.chdir(path)`.
    - It yields control to the code block within the `with` statement.
2. **Exit:**
    - In the `finally` block, it ensures that the current working directory is restored back to the original directory stored in `curdir`, regardless of whether the code block executed successfully or raised an exception.

#### Side Effects
This function modifies the process's current working directory.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| os | Used for interacting with the operating system, specifically for getting and setting the current working directory. |
| contextlib | Used for creating the `contextmanager` decorator, which simplifies the creation of context managers. |
