---
title: "useChatMessages.ts"
---

## High-level description
The `useChatMessages` hook is a custom React hook that provides access to chat-related data from the Recoil state. It retrieves the current thread ID, messages, and the first user interaction from the Recoil state and returns them as an object.

## Symbols

### `useChatMessages`
#### Description
This function is a custom React hook that retrieves chat-related data from the Recoil state using the `useRecoilValue` hook.

#### Inputs
This hook doesn't take any input parameters.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| threadId | string \| undefined | The current thread ID |
| messages | IStep[] | An array of chat messages |
| firstInteraction | string \| undefined | The first user interaction |

#### Internal Logic
1. Uses `useRecoilValue` to retrieve values from Recoil atoms:
   - `currentThreadIdState` for the current thread ID
   - `messagesState` for the chat messages
   - `firstUserInteraction` for the first user interaction
2. Returns an object containing these values

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| recoil | State management library used to access Recoil state |
| ./state | Module containing Recoil atom definitions |

## References
This hook is used in various components throughout the application, such as:
- `Chat` component in `frontend/src/components/organisms/chat/index.tsx`
- `ThreadHistory` component in `frontend/src/components/organisms/sidebar/threadHistory/index.tsx`
- `ScrollContainer` component in `frontend/src/components/molecules/messages/ScrollContainer.tsx`
- `WelcomeScreen` component in `frontend/src/components/organisms/chat/welcomeScreen/index.tsx`
- `Messages` component in `frontend/src/components/organisms/chat/Messages/index.tsx`
- `ChatProfiles` component in `frontend/src/components/molecules/chatProfiles.tsx`

These components use the `useChatMessages` hook to access chat-related data and render the appropriate UI elements based on the current chat state.