---
title: "useConfig.ts"
---

## High-level description
The `useConfig` hook is a custom React hook that manages and provides access to the Chainlit configuration. It fetches the configuration data from the server, stores it in the Recoil state, and returns the configuration along with other relevant information such as the current language.

## Code Structure
The `useConfig` hook utilizes the `useRecoilState` hook to manage the `configState`, and the `useApi` hook to fetch the configuration data from the server. It also uses the `useAuth` hook to check authentication status and the `useEffect` hook to update the configuration when data is received.

## Symbols

### useConfig
#### Description
This custom hook manages the Chainlit configuration and provides access to it.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| accessToken | string (optional) | An optional access token for authentication |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| config | IChainlitConfig | The Chainlit configuration object |
| error | Error | Any error that occurred during the API call |
| isLoading | boolean | Indicates if the configuration is still loading |
| language | string | The current language (from navigator.language or 'en-US') |

#### Internal Logic
1. It uses `useRecoilState` to manage the `configState`.
2. It retrieves authentication status using `useAuth`.
3. It determines the current language.
4. It uses `useApi` to fetch the configuration data from the server.
5. When data is received, it updates the `configState` using `useEffect`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | For React hooks (useEffect) |
| recoil | For state management (useRecoilState) |
| ./api | For API hooks (useApi, useAuth) |
| ./state | For Recoil state (configState) |
| ./types | For type definitions (IChainlitConfig) |

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.