---
title: "Overview"
---

## High-level description
This directory contains custom React hooks that facilitate API interactions and authentication management for a React application using the Chainlit API. The hooks leverage SWR (stale-while-revalidate) for efficient data fetching and caching, and Recoil for state management.

## What does it do?
The hooks in this directory provide a streamlined way for developers to interact with the Chainlit API and manage authentication in their React applications. Here's a breakdown of the main functionalities:

1. API Interactions: The `useApi` hook allows developers to make API requests easily, handling authentication tokens and leveraging SWR for efficient data fetching and caching.

2. Authentication Management: The `useAuth` hook manages the entire authentication process, including user login state, token handling, and logout functionality.

These hooks abstract away the complexities of API interactions and authentication, allowing developers to focus on building features rather than dealing with low-level API and auth logic.

## Key Files

### api.ts
This file defines the `useApi` hook, which is the primary method for making API requests in the application. It integrates with the Chainlit API client and handles authentication tokens.

Key features:
- Uses SWR for efficient data fetching and caching
- Integrates with Chainlit API client
- Handles authentication tokens
- Provides a convenient interface for making API requests

Example usage:
```typescript
const { data, error } = useApi('/some-endpoint', options);
```

### auth.ts
This file contains the `useAuth` hook, which manages the authentication state and provides authentication-related functionality.

Key features:
- Manages user authentication state
- Handles access tokens
- Provides login and logout functionality
- Integrates with Recoil for state management

Example usage:
```typescript
const { user, isAuthenticated, logout } = useAuth();
```

## Dependencies
1. react: Used for React hooks and context.
2. recoil: Employed for state management, particularly for authentication-related states.
3. swr: Utilized for data fetching and caching in the `useApi` hook.
4. jwt_decode: Used in the `useAuth` hook for decoding JWT tokens.

## Configuration
The hooks use various configuration options and environment variables:

1. Authentication Configuration:
   - Fetched using the `useApi` hook in `useAuth`
   - Includes settings like `requireLogin`

2. Environment Variables:
   - The hooks likely depend on environment variables for API endpoints and other configuration, though these are not explicitly shown in the provided code.

3. Recoil Atoms and Selectors:
   - Various Recoil atoms and selectors are used for managing authentication state, including `accessTokenState`, `userState`, and others.

4. SWR Configuration:
   - The `useApi` hook accepts SWR configuration options, allowing customization of SWR behavior.

These hooks provide a robust foundation for API interactions and authentication management in a React application using Chainlit. They abstract away many complexities, offering a clean and easy-to-use interface for developers. The use of SWR and Recoil ensures efficient data management and state handling, contributing to a performant and scalable application architecture.