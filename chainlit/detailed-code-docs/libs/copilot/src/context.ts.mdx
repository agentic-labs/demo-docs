---
title: "context.ts"
---

## High-level description
This code defines a React context for a widget component, providing a way to share an access token across the widget's component tree. It creates a context with a default value and exports both the context and the default value for use in other parts of the application.

## Symbols

### `IWidgetContext`
#### Description
An interface that defines the shape of the context object. It contains an optional `accessToken` property.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| accessToken | string \| undefined | An optional access token for authentication |

### `defaultContext`
#### Description
An object that provides the default value for the `WidgetContext`. It initializes the `accessToken` as `undefined`.

### `WidgetContext`
#### Description
A React context created using `createContext` from React. It is initialized with the `defaultContext` and typed with `IWidgetContext`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Used to import the `createContext` function for creating the React context |

## References
The `WidgetContext` is used in other parts of the application, specifically:
1. In `appWrapper.tsx`, where it's used to provide the context value to the component tree.
2. In `app.tsx` and `chat/index.tsx`, where the context is consumed using `useContext` to access the `accessToken`.
3. In `chat/messages/index.tsx`, where it's also consumed to access the `accessToken` for API calls.

These usages demonstrate how the `WidgetContext` is utilized to share the `accessToken` across different components in the widget application.