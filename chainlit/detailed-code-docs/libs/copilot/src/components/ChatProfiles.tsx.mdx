---
title: "ChatProfiles.tsx"
---

## High-level description
The `ChatProfiles` component is responsible for rendering and managing chat profiles in a Chainlit application. It allows users to select different chat profiles and handles the logic for switching between them, including clearing the chat and confirming profile changes when necessary.

## Code Structure
The main `ChatProfiles` component uses several hooks from the Chainlit React client to manage state and interactions. It renders a `SelectInput` for profile selection and a `NewChatDialog` for confirming profile changes.

## References
- `ChainlitContext`: Used to access the API client.
- `useChatInteract`: Used for clearing the chat.
- `useChatMessages`: Used to check for first interaction.
- `useChatSession`: Used to manage chat profiles.
- `useConfig`: Used to access the application configuration.

## Symbols

### ChatProfiles
#### Description
This is the main component that renders the chat profile selector and handles profile changes.

#### Inputs
This component doesn't take any props.

#### Outputs
Returns a JSX element containing the chat profile selector and a new chat dialog.

#### Internal Logic
1. Retrieves the current chat profile and configuration using hooks.
2. Sets the initial chat profile if none is selected.
3. Renders nothing if there are no chat profiles or only one profile.
4. Creates an array of items for the `SelectInput` component, including profile names and icons.
5. Handles profile changes, opening a confirmation dialog if it's the first interaction.
6. Renders the `SelectInput` for profile selection and the `NewChatDialog` for confirmation.

## Side Effects
- Clears the chat when confirming a new profile.
- Sets the chat profile in the session state.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @chainlit/app | Provides UI components and utilities |
| @chainlit/react-client | Provides hooks for interacting with the Chainlit client |
| lodash/size | Used to check the size of the chat profiles array |
| react | Core React library |

## Configuration
The component relies on the `config` object from the `useConfig` hook, which should contain a `chatProfiles` array.

## Error Handling
The component includes a basic error check to ensure a chat profile is selected before confirming a new chat.

## API/Interface Reference
This component doesn't expose an API but interacts with the Chainlit client through various hooks.