---
title: "action.py"
---

Here's a detailed documentation of the `backend/chainlit/action.py` file:

## High-level description
This file defines the `Action` class, which represents an interactive action that can be sent to the UI. Actions are used to create clickable elements in the user interface, allowing for user interaction within the chat interface.

## Code Structure
The `Action` class is the main symbol in this file. It is a dataclass that inherits from `DataClassJsonMixin`, allowing for easy serialization and deserialization to/from JSON.

## Symbols

### Action
#### Description
The `Action` class represents an interactive element that can be displayed in the UI. It contains properties that define the action's behavior and appearance.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the action, used in the action_callback |
| value | str | The value associated with the action |
| label | str | The label displayed to the user (defaults to empty string) |
| description | str | A description shown when hovering over the action (defaults to empty string) |
| forId | Optional[str] | Internal use only, should not be set manually |
| id | str | Unique identifier for the action (defaults to a UUID) |
| collapsed | bool | Whether to show the action in a drawer menu (defaults to False) |

#### Internal Logic
1. The `__post_init__` method is called after the class is initialized. It logs a telemetry event for the action initialization.
2. The `send` method is an asynchronous function that sends the action to the UI. It sets the `forId` attribute and emits an "action" event with the action's data.
3. The `remove` method is an asynchronous function that removes the action from the UI by emitting a "remove_action" event.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| uuid | Generating unique identifiers for actions |
| typing | Type hinting |
| chainlit.context | Accessing the global context |
| chainlit.telemetry | Logging telemetry events |
| dataclasses_json | JSON serialization for dataclasses |
| pydantic.dataclasses | Enhanced dataclass functionality |

## Error Handling
This file does not implement specific error handling mechanisms. Errors would be propagated to the caller.

## Logging
The file uses the `trace_event` function from `chainlit.telemetry` to log events for action initialization, sending, and removal.

## Performance Considerations
The `Action` class uses `dataclasses` and `pydantic`, which provide efficient object creation and validation. The use of UUIDs for default IDs ensures uniqueness but may have a small performance impact if many actions are created rapidly.

## Side Effects
When the `send` and `remove` methods are called, they emit events to the UI, which can cause changes in the user interface.

---

This file is crucial for implementing interactive elements in the Chainlit UI. It allows developers to create custom actions that users can interact with, enhancing the functionality and user experience of Chainlit applications.