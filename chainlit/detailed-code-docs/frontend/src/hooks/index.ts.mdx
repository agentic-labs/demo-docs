---
title: "index.ts"
---

## High-level description
This code exports two custom React hooks: `useIsDarkMode` and `useUpload`. These hooks provide reusable functionality for determining the current theme mode and handling file uploads, respectively, which can be easily imported and used across different components in the frontend application.

## Symbols

### `useIsDarkMode`
#### Description
`useIsDarkMode` is a custom React hook that determines whether the current theme is in dark mode.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isDarkMode | boolean | Returns `true` if the current theme is in dark mode, `false` otherwise |

#### Internal Logic
The hook uses the `useTheme` hook from Material-UI to access the current theme. It then checks if the `theme.palette.mode` is set to 'dark' and returns the result as a boolean.

### `useUpload`
#### Description
`useUpload` is a custom React hook that provides file upload functionality using the react-dropzone library.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onError | function | Optional callback for handling upload errors |
| onResolved | function | Callback for handling successfully uploaded files |
| options | DropzoneOptions | Optional configuration for the dropzone |
| spec | FileSpec | Specification for file upload constraints |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| getInputProps | function | Function to get props for the file input element |
| getRootProps | function | Function to get props for the root dropzone element |
| isDragActive | boolean | Indicates if a drag operation is currently active over the dropzone |

#### Internal Logic
1. Defines an `onDrop` callback using `useCallback` to handle file drops and rejections.
2. Processes the `accept` property from the `spec` to create a compatible format for react-dropzone.
3. Uses the `useDropzone` hook to create the dropzone functionality with the specified options.
4. Returns an object with methods and state for use in components.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @mui/material | Provides the `useTheme` hook for accessing the current theme |
| react | Core React library (implied by the use of hooks) |
| react-dropzone | Provides the `useDropzone` hook and related types for file upload functionality |

## Error Handling
The `useUpload` hook includes basic error handling for file rejections, such as file size limits and invalid file types. These errors are communicated through the `onError` callback if provided.

## Performance Considerations
The `onDrop` callback in `useUpload` is memoized using `useCallback` to prevent unnecessary re-renders, optimizing performance when the hook is used in components.

This documentation provides a comprehensive overview of the exported hooks and their functionality, which should help developers understand and use these hooks effectively in the frontend application.