---
title: "ThreadList.tsx"
---

## High-level description
The `ThreadList` component is responsible for rendering a list of chat threads in the sidebar of a chat application. It displays threads grouped by time periods, allows navigation between threads, and provides functionality to delete threads.

## Code Structure
The `ThreadList` component is the main export of this file. It uses various MUI components and custom components to render the thread list. The component relies on hooks from `@chainlit/react-client` for chat-related functionality and uses React Router for navigation.

## Symbols

### `ThreadList`
#### Description
A functional component that renders a list of chat threads, grouped by time periods.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| threadHistory | ThreadHistory | Object containing thread data |
| error | string | Error message, if any |
| fetchThreads | function | Function to fetch thread data |
| isFetching | boolean | Indicates if threads are being fetched |
| isLoadingMore | boolean | Indicates if more threads are being loaded |

#### Internal Logic
1. Renders a loading skeleton if `isFetching` or `isLoadingMore` is true.
2. Displays an error message if `error` is present.
3. Shows an info message if there are no threads.
4. Renders a list of threads grouped by time periods (Today, Yesterday, Previous 7 days, Previous 30 days).
5. Each thread is displayed as a link with a chat bubble icon and the thread name.
6. Highlights the currently selected thread.
7. Provides a delete button for the selected thread.
8. Shows a loading indicator at the bottom when loading more threads.

#### Side Effects
- Navigates to the home page when deleting the current thread.
- Clears the chat when deleting the current or resumed thread.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @mui/material | UI components |
| @mui/icons-material | Icons |
| @chainlit/react-client | Chat-related hooks and types |
| react-router-dom | Navigation |
| lodash | Utility functions |

## Error Handling
The component displays an error message using MUI's `Alert` component if an error occurs during thread fetching.

## Internationalization
The component uses a custom `Translator` component for internationalized text, supporting multiple languages for various UI elements.

## Performance Considerations
The component uses `lodash` functions like `map` and `size` for efficient data manipulation. It also implements lazy loading of threads, showing a loading indicator when fetching more threads.

This documentation provides a comprehensive overview of the `ThreadList` component, its functionality, and its role in the chat application's sidebar.