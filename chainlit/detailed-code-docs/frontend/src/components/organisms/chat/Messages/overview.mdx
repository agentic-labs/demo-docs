---
title: "Overview"
---

## High-level description
This directory contains React components responsible for rendering and managing the chat messages interface in a frontend application. The main components are `MessageContainer` and `Messages`, which work together to display chat messages, handle user interactions, and manage the overall state of the chat interface.

## What does it do?
The code in this directory creates a chat interface that:
1. Displays chat messages, including user inputs and system responses
2. Handles user feedback on messages (e.g., likes or dislikes)
3. Manages the loading state of the chat
4. Renders interactive elements and actions within the chat
5. Supports file uploads
6. Integrates with a translation system for internationalization
7. Manages the overall state of the chat using Recoil

The interface is designed to be flexible, allowing for various types of content to be displayed within the chat, such as text, HTML, LaTeX, and custom elements. It also provides a mechanism for users to interact with the chat through predefined actions.

## Key Files

### container.tsx
This file contains the `MessageContainer` component, which is responsible for:
- Rendering the chat interface, including messages, actions, and elements
- Managing the state of the chat interface
- Handling user interactions, such as file uploads and element clicks
- Providing context for child components

Key features of `MessageContainer`:
- Uses memoization to optimize performance
- Integrates with configuration options for features like data persistence and LaTeX rendering
- Handles error display using toast notifications

Example usage:
```jsx
&lt;MessageContainer
  askUser={askUserData}
  loading={isLoading}
  actions={availableActions}
  elements={chatElements}
  messages={chatMessages}
  onFeedbackUpdated={handleFeedbackUpdate}
  onFeedbackDeleted={handleFeedbackDeletion}
  callAction={executeAction}
/&gt;
```

### index.tsx
This file contains the `Messages` component, which serves as the main entry point for the chat messages interface. It:
- Manages the overall state of chat messages
- Handles user feedback on messages
- Interacts with the chat API for updating and deleting feedback
- Renders the `MessageContainer` component with the necessary props

Key features of `Messages`:
- Uses Recoil for state management
- Integrates with a translation system for internationalization
- Handles API interactions for feedback management

Example usage:
```jsx
&lt;Messages /&gt;
```

## Dependencies
The components in this directory rely on several external libraries and frameworks:

1. React (v18.0.0 or later): Core library for building the user interface
2. Recoil (v0.7.7 or later): State management library for React applications
3. react-router-dom (v6.0.0 or later): Routing library for React applications
4. sonner (v0.3.0 or later): Toast notification library for displaying messages to users
5. @chainlit/react-client: Custom library providing hooks and types for chat functionality

These dependencies were chosen to provide a robust foundation for building a complex chat interface with efficient state management, routing capabilities, and user notifications.

## Configuration
The components use configuration options provided by a custom `useConfig` hook. Key configuration options include:

- `dataPersistence`: Enables feedback functionality when true
- `features.unsafe_allow_html`: Allows HTML rendering in messages when true
- `features.latex`: Enables LaTeX rendering in messages when true
- `ui.default_collapse_content`: Sets the default collapse state for content
- `ui.name`: Specifies the UI name for display purposes

These configuration options allow for customization of the chat interface behavior and appearance without modifying the component code directly.

The components in this directory form a crucial part of the chat interface, managing the display and interaction with chat messages. They are designed to be flexible and performant, with careful consideration given to optimization techniques such as memoization and state management. The use of Recoil for state management and integration with a custom chat client library suggests that this is part of a larger, more complex chat application with advanced features and scalability in mind.