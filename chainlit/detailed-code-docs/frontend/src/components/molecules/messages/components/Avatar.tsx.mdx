---
title: "Avatar.tsx"
---

## High-level description
This code defines a React component called `MessageAvatar` that renders an avatar for a message author in a chat interface. It uses Material-UI components and integrates with the Chainlit context to fetch and display appropriate avatar images based on the author and chat profile settings.

## Code Structure
The `MessageAvatar` component is the main export of this file. It uses several hooks (`useContext`, `useMemo`, `useChatSession`, `useConfig`) to access necessary data and compute the avatar URL. The component then renders a Material-UI `Avatar` component wrapped in a `Tooltip`.

## Symbols

### MessageAvatar
#### Description
A React functional component that renders an avatar for a message author.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| author | string (optional) | The name of the message author |
| hide | boolean (optional) | Whether to hide the avatar image |

#### Internal Logic
1. Retrieves the Chainlit API client, chat profile, and configuration using hooks.
2. Computes the selected chat profile based on the current chat profile name.
3. Determines the avatar URL based on whether the author is an assistant or not, and whether a custom icon is set for the selected chat profile.
4. Renders a Material-UI Avatar component with the computed avatar URL, wrapped in a Tooltip displaying the author's name.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library for building the component |
| @mui/material | Material-UI components (Tooltip, Avatar) |
| @chainlit/react-client | Custom hooks and context for Chainlit integration |

## Performance Considerations
The component uses `useMemo` to memoize the computation of `selectedChatProfile` and `avatarUrl`, which helps optimize performance by avoiding unnecessary recalculations when the component re-renders.

___

This component plays a crucial role in visualizing the identity of message authors in a chat interface, adapting to different chat profiles and handling both assistant and user avatars. It integrates closely with the Chainlit API and configuration to provide a flexible and customizable avatar display system.