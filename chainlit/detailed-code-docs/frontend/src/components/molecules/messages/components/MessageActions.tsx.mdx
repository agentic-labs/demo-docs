---
title: "MessageActions.tsx"
---

## High-level description
The `MessageActions` component renders a set of action buttons associated with a message in a chat-like interface. It displays actions directly or in a dropdown menu, depending on their configuration, and handles filtering and visibility based on the message's state and action properties.

## Code Structure
The `MessageActions` component uses `ActionButton` for individual actions and `ActionDrawerButton` for collapsed actions. It filters and organizes actions based on their properties and the associated message's state.

## References
- `IAction` and `IStep` types from 'client-types/'
- `ActionButton` component
- `ActionDrawerButton` component

## Symbols

### MessageActions
#### Description
A functional component that renders action buttons for a given message, including both displayed and collapsed actions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | IStep | The message object associated with the actions |
| actions | IAction[] | An array of action objects to be rendered |

#### Outputs
Returns a React component or null if no actions should be displayed.

#### Internal Logic
1. Filters actions based on their `forId` property and the message's ID.
2. Separates actions into displayed and collapsed (drawer) actions.
3. Determines whether to show actions based on the presence of displayable actions and the message's streaming state.
4. Renders a Stack component containing:
   - Displayed actions as individual `ActionButton` components
   - An `ActionDrawerButton` for collapsed actions, if any exist

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @mui/material | UI components (Box, Stack) |
| client-types | Type definitions (IAction, IStep) |

## Side Effects
This component does not have any notable side effects. It purely renders based on the provided props.

## Performance Considerations
The component filters the actions array multiple times, which could be optimized for large arrays by combining the filtering operations.

___

### `scopedActions`
#### Description
Filters the input actions to include only those relevant to the current message.

___

### `displayedActions`
#### Description
Further filters `scopedActions` to include only non-collapsed actions.

___

### `drawerActions`
#### Description
Filters `scopedActions` to include only collapsed actions.

___

### `show`
#### Description
A boolean value determining whether any actions should be displayed, based on the presence of displayable or drawer actions.

___

This component efficiently organizes and displays message actions, providing a clean and intuitive user interface for interacting with message-specific options. It handles both directly displayed actions and those grouped into a dropdown menu, adapting to different action configurations and message states.