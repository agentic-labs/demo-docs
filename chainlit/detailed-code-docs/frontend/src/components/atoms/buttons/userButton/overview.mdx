---
title: "Overview"
---

## High-level description
This directory contains components related to the user button functionality in the frontend of the application. It includes three main files: `avatar.tsx`, `index.tsx`, and `menu.tsx`, which together create a user interaction point with an avatar display and an associated dropdown menu.

## What does it do?
The user button component provides a visual representation of the current user (or a default icon if no user is logged in) and offers quick access to user-related actions. When clicked, it opens a menu that allows users to:

1. View their account information
2. Switch between light and dark themes
3. Access API keys (if configured)
4. Log out of the application

This component is typically placed in the header or navigation area of the application, providing a consistent and accessible way for users to manage their session and preferences.

## Key Files

1. `avatar.tsx`: 
   - Defines the `UserAvatar` component
   - Displays the user's profile picture, initials, or a default icon
   - Utilizes authentication information to determine what to display

2. `index.tsx`:
   - Contains the main `UserButton` component
   - Manages the state of the dropdown menu (open/closed)
   - Combines the `UserAvatar` and `UserMenu` components

3. `menu.tsx`:
   - Implements the `UserMenu` component
   - Renders a dropdown menu with user-related actions
   - Handles theme switching, API key access, and logout functionality

## Dependencies
The components in this directory rely on several external libraries and internal modules:

1. React: Core library for building the components
2. Material-UI (@mui/material, @mui/icons-material): Provides UI components and icons
3. Recoil: Used for state management, particularly for theme settings
4. @chainlit/react-client: Custom library providing authentication and configuration hooks
5. react-router-dom: Used for navigation within the application

## Configuration
The `UserMenu` component uses configuration options to determine its behavior:

- `config.userEnv`: An array that, if present, enables the display of an API keys menu item

The components also rely on the authentication state and user information provided by the `useAuth` hook from `@chainlit/react-client`.

Here's an example of how the `UserButton` component might be used in a larger application context:

```jsx
import React from 'react';
import { AppBar, Toolbar } from '@mui/material';
import { UserButton } from './components/atoms/buttons/userButton';
import { Logo } from './components/Logo';
import { NewChatButton } from './components/NewChatButton';

const Header = () =&gt; {
  return (
    &lt;AppBar position="static"&gt;
      &lt;Toolbar&gt;
        &lt;Logo /&gt;
        &lt;NewChatButton /&gt;
        &lt;div style={{ flexGrow: 1 }} /&gt;
        &lt;UserButton /&gt;
      &lt;/Toolbar&gt;
    &lt;/AppBar&gt;
  );
};

export default Header;
```

In this example, the `UserButton` is placed in the header of the application, providing easy access to user-related actions and information.

The components in this directory work together to create a cohesive user interaction point:

1. The `UserAvatar` component in `avatar.tsx` handles the visual representation of the user.
2. The `UserButton` component in `index.tsx` manages the state of the menu and combines the avatar and menu components.
3. The `UserMenu` component in `menu.tsx` provides the dropdown functionality with various user actions.

This modular approach allows for easy maintenance and potential reuse of components in other parts of the application if needed.