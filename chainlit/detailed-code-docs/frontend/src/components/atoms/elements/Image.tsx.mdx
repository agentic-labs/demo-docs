---
title: "Image.tsx"
---

## High-level description
The `ImageElement` component is a React component that renders an image with loading state management and download functionality. It's designed to display images within a frame, show a loading skeleton while the image is loading, and provide a download option for inline images.

## Code Structure
The main component `ImageElement` uses the `useState` hook for managing the loading state. It also imports and uses the `FrameElement` component to wrap the image. The `handleImageClick` function is defined outside the component for handling image downloads.

## References
- `IImageElement` from 'client-types/'
- `FrameElement` from './Frame'
- `Skeleton` from '@mui/material/Skeleton'

## Symbols

### `handleImageClick`
#### Description
A utility function that creates a temporary link element to trigger a file download when clicked.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | The filename for the downloaded image |
| src | string | The source URL of the image |

#### Internal Logic
1. Creates a temporary `&lt;a&gt;` element
2. Sets its `href`, `target`, and `download` attributes
3. Appends the element to the document body
4. Triggers a click on the element
5. Removes the element from the document body

### `ImageElement`
#### Description
A React component that renders an image with loading state and optional download functionality.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| element | IImageElement | An object containing image properties |

#### Internal Logic
1. Uses `useState` to manage the loading state of the image
2. Renders a `Skeleton` component while the image is loading
3. Renders an `img` element with the following features:
   - Lazy loading
   - Loading state management
   - Click handler for inline images to trigger download
   - Styling based on the `display` property of the element
4. Wraps the image in a `FrameElement` component

## Side Effects
- The component manipulates the DOM when triggering a download for inline images.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | For using React hooks and components |
| @mui/material | For using the Skeleton component |
| client-types | For the IImageElement type definition |

## Performance Considerations
- The component uses lazy loading for images, which can improve performance by deferring the loading of off-screen images.
- The loading state management ensures that a skeleton is shown while the image is loading, providing a better user experience.

This documentation provides a comprehensive overview of the `ImageElement` component, its functionality, and its usage within the larger application context. The component is designed to be flexible, handling different display modes and providing a smooth loading experience for images.