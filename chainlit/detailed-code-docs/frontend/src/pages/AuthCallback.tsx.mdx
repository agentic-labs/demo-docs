---
title: "AuthCallback.tsx"
---

## High-level description
The `AuthCallback` component is responsible for handling the authentication callback process in a React application. It extracts the access token from the URL query parameters, sets it in the application's auth state, and redirects the user to the home page upon successful authentication.

## Code Structure
The `AuthCallback` component uses React hooks to manage side effects and navigation. It interacts with the authentication state and URL parameters to complete the login process.

## References
- `useAuth` hook from `@chainlit/react-client`
- `useQuery` hook from `hooks/query`
- React Router's `useNavigate` hook

## Symbols

### AuthCallback
#### Description
A functional React component that handles the authentication callback process.

#### Inputs
This component doesn't accept any props.

#### Outputs
This component doesn't return any visible UI elements (returns `null`).

#### Internal Logic
1. Extracts the access token from URL query parameters using the `useQuery` hook.
2. Sets the access token in the auth state using the `setAccessToken` function from the `useAuth` hook.
3. Monitors the `user` state and navigates to the home page ('/') when a user is authenticated.

## Side Effects
- Sets the access token in the application's auth state.
- Navigates to the home page upon successful authentication.

___

### `useQuery`
#### Description
A custom hook that provides access to URL query parameters.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | URLSearchParams | An object containing the parsed URL query parameters |

___

### `useAuth`
#### Description
A custom hook that provides authentication-related functionality and state.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | object \| null | The current authenticated user or null if not authenticated |
| setAccessToken | function | A function to set the access token |

___

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library for building the component |
| react-router-dom | Provides routing functionality, specifically the `useNavigate` hook |
| @chainlit/react-client | Provides the `useAuth` hook for authentication management |

## Error Handling
This component doesn't implement explicit error handling. It relies on the error handling mechanisms of the hooks it uses.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /login/callback | GET | access_token (query parameter) | N/A | The endpoint that this component is designed to handle. It expects an access_token in the URL query parameters. |