---
title: "Login.tsx"
---

## High-level description
This code defines a React component for a login page. It handles user authentication through various methods, including password-based login and OAuth providers. The component also manages navigation and error handling during the login process.

## Code Structure
The `Login` component is the main export. It uses several hooks and components to manage state, handle authentication, and render the login interface. The component interacts with an API client to perform authentication operations and uses React Router for navigation.

## References
- `AuthLogin` component from 'components/molecules/auth'
- `Logo` component from 'components/atoms/logo'
- `Translator` component from 'components/i18n'
- `useQuery` hook from 'hooks/query'
- `ChainlitContext` and `useAuth` from 'client-types/*'

## Symbols

### Login
#### Description
The main component that renders the login page and handles authentication logic.

#### Internal Logic
1. Initializes state and retrieves configuration using hooks.
2. Defines handlers for header-based and password-based authentication.
3. Uses effects to handle initial navigation and error setting.
4. Renders the `AuthLogin` component with appropriate props and handlers.

#### Side Effects
- Navigates to different routes based on authentication status and configuration.
- Sets access token upon successful authentication.
- Updates error state.

### handleHeaderAuth
#### Description
Asynchronous function to handle header-based authentication.

#### Internal Logic
1. Calls the `headerAuth` method of the API client.
2. Sets the access token if successful.
3. Navigates to the home page.
4. Sets an error message if authentication fails.

### handlePasswordLogin
#### Description
Asynchronous function to handle password-based authentication.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| email | string | User's email |
| password | string | User's password |
| callbackUrl | string | URL to navigate to after successful login |

#### Internal Logic
1. Creates a FormData object with the email and password.
2. Calls the `passwordAuth` method of the API client.
3. Sets the access token if successful.
4. Navigates to the callback URL.
5. Sets an error message if authentication fails.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-router-dom | Routing and navigation |
| formik | Form handling (used in AuthLogin component) |
| yup | Form validation (used in AuthLogin component) |

## Error Handling
The component sets error messages in the state when authentication fails. These errors are then displayed to the user through the `AuthLogin` component.

## API/Interface Reference
The component interacts with an API client (accessed through `ChainlitContext`) that provides the following methods:
| Method | Description |
|:-------|:------------|
| headerAuth | Performs header-based authentication |
| passwordAuth | Performs password-based authentication |
| getOAuthEndpoint | Retrieves the OAuth endpoint for a given provider |

Note: The actual implementation of these methods is not provided in the given code.