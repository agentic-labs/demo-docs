---
title: "router.ts"
---

## High-level description
The `getRouterBasename` function in `frontend/src/utils/router.ts` is a utility function that retrieves the base path for the router. It does this by looking for a specific meta tag in the HTML document and returning its content, which represents the root path for the application's routing.

## Symbols

### getRouterBasename
#### Description
This function retrieves the router's base name by searching for a meta tag with the property "og:root_path" in the HTML document. If found, it returns the content of this meta tag. If not found, it returns an empty string.

#### Inputs
This function doesn't take any inputs.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| basename | string | The base name for the router, either the content of the "og:root_path" meta tag or an empty string |

#### Internal Logic
1. The function uses `document.querySelector` to find a meta tag with the property "og:root_path".
2. If the meta tag is found and its content attribute is a string, the function returns the content.
3. If the meta tag is not found or its content is not a string, the function returns an empty string.

## References
The `getRouterBasename` function is used in several other parts of the codebase:

1. In `frontend/src/AppWrapper.tsx`, it's used to construct the correct paths for login and callback routes.
2. In `frontend/src/api/index.ts`, it's used to determine the correct base URL for API requests.
3. In `frontend/src/router.tsx`, it's used to set the basename for the React Router.

These usages indicate that this function plays a crucial role in ensuring that the application's routing and API requests work correctly, especially when the app is not hosted at the root of a domain.

## Dependencies
The function relies on the browser's `document` object to query the DOM for the meta tag.

## Performance Considerations
This function performs a DOM query, which is generally fast but could potentially be optimized if called frequently. Consider caching the result if it's used multiple times in the application.