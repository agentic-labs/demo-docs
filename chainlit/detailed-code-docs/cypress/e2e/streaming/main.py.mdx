---
title: "main.py"
---

## High-level description
This code demonstrates the usage of Chainlit's streaming capabilities for messages and steps. It showcases token-by-token streaming, sequence streaming, and streaming within a tool step, using predefined lists of tokens and sequences.

## Symbols

### `main()`
#### Description
This asynchronous function is the entry point for the Chainlit chat application. It demonstrates three different streaming scenarios: token-by-token streaming, sequence streaming, and streaming within a tool step.

#### Inputs
None

#### Outputs
None

#### Internal Logic
1. Token-by-token streaming:
   - Creates a new `cl.Message` object.
   - Iterates through `token_list`, streaming each token with a 0.2-second delay.
   - Sends the completed message.

2. Sequence streaming:
   - Creates another `cl.Message` object.
   - Iterates through `sequence_list`, streaming each sequence with a 0.2-second delay.
   - Sends the completed message.

3. Tool step streaming:
   - Creates a `cl.Step` object of type "tool" named "tool1".
   - Iterates through `token_list`, streaming each token with a 0.2-second delay.
   - Sends the completed step.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| chainlit | Provides the framework for building chat-based applications with streaming capabilities |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| token_list | list | ["the ", "quick ", "brown ", "fox"] | List of tokens for token-by-token streaming |
| sequence_list | list | ["the", "the quick", "the quick brown", "the quick brown fox"] | List of sequences for sequence streaming |

## API/Interface Reference
| Decorator | Description |
|:----------|:------------|
| @cl.on_chat_start | Indicates that the `main()` function should be executed when a chat session starts |

## Symbols

### `cl.Message`
#### Description
A class from the Chainlit library used to create and manage chat messages.

#### Methods Used
- `stream_token(token, is_sequence=False)`: Streams a token or sequence to the message.
- `send()`: Sends the completed message to the chat interface.

### `cl.Step`
#### Description
A class from the Chainlit library used to create and manage steps in the chat process.

#### Methods Used
- `stream_token(token)`: Streams a token to the step.
- `send()`: Sends the completed step to the chat interface.

### `cl.sleep(seconds)`
#### Description
An asynchronous function from the Chainlit library that introduces a delay in the execution.

This code serves as a demonstration of Chainlit's streaming capabilities, showing how to create interactive, token-by-token or sequence-by-sequence chat experiences, as well as how to incorporate streaming into tool steps. The use of sleep functions simulates real-time processing or generation of content.