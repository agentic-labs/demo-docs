---
title: "spec.cy.ts"
---

## High-level description
This Cypress test file verifies that the Emitter can be found from different contexts: async, make_async, and async_from_sync. It sets up a test server before running the test and checks for the presence of specific content in three steps.

## Symbols

### `describe('Context should be reachable', () =&gt; {...})`
#### Description
This is the main test suite that groups the test for checking the reachability of the Emitter from different contexts.

#### Internal Logic
1. Sets up the test environment by running a test server before the tests.
2. Contains a single test case to verify the Emitter's reachability.

### `before(() =&gt; {...})`
#### Description
This hook runs before the test suite and sets up the test environment.

#### Internal Logic
Calls the `runTestServer()` function to start the test server.

### `it('should find the Emitter from async, make_async and async_from_sync contexts', () =&gt; {...})`
#### Description
This test case verifies that the Emitter can be found from three different contexts: async, make_async, and async_from_sync.

#### Internal Logic
1. Checks that there are exactly 3 elements with the class 'step'.
2. Verifies the content of each step:
   - First step should contain 'emitter from async found!'
   - Second step should contain 'emitter from make_async found!'
   - Third step should contain 'emitter from async_from_sync found!'

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| cypress | End-to-end testing framework |
| runTestServer | Custom function to set up the test server |

## References
The test file references the following external symbols:
- `runTestServer`: Imported from '../../support/testUtils'

## Notes on related code
The `runTestServer` function is defined in the related file `cypress/support/testUtils.ts`. It performs the following actions:
1. Determines the test name from the current spec file path.
2. Executes a command to run a TypeScript file (`run.ts`) with the test name and execution mode as arguments.
3. Visits the root URL ('/') after starting the server.

This function is crucial for setting up the test environment before running the actual test cases.