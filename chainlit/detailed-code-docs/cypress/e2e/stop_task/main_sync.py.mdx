---
title: "main_sync.py"
---

## High-level description
This code defines a Chainlit application that handles incoming messages asynchronously. It demonstrates the use of synchronous and asynchronous functions within the message handling process, including a simulated delay using a synchronous function.

## Symbols

### `sync_function()`
#### Description
A synchronous function that introduces a delay of 1 second using `time.sleep()`.

#### Internal Logic
The function uses `time.sleep(1)` to pause execution for 1 second.

### `message(message: cl.Message)`
#### Description
An asynchronous function decorated with `@cl.on_message` that handles incoming messages in the Chainlit application.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | cl.Message | The incoming message object from Chainlit |

#### Internal Logic
1. Sends an initial message with content "Message 1".
2. Calls the synchronous `sync_function()` using `cl.make_async()` to convert it to an asynchronous operation.
3. Sends a second message with content "Message 2".

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| time | Used for introducing a delay in the `sync_function` |
| chainlit | The main framework for building the chat application |

## Error Handling
This code does not implement explicit error handling mechanisms.

## Performance Considerations
The use of `cl.make_async(sync_function)()` allows the synchronous `sync_function` to be executed asynchronously, preventing it from blocking the event loop. This is important for maintaining responsiveness in the Chainlit application, especially when dealing with potentially slow operations.