---
title: "main.py"
---

## High-level description
This code creates a Plotly bar chart and sends it as part of a Chainlit message when a chat session starts. It demonstrates the integration of Plotly visualizations within a Chainlit-based chat application.

## Symbols

### `start()`
#### Description
This asynchronous function is triggered at the start of a chat session. It creates a simple bar chart using Plotly and sends it as an inline element in a Chainlit message.

#### Inputs
This function doesn't take any explicit inputs.

#### Outputs
This function doesn't return any value but sends a Chainlit message with a Plotly chart.

#### Internal Logic
1. Creates a Plotly `Figure` object with a bar chart showing values [2, 1, 3].
2. Wraps the figure in a Chainlit `Plotly` element.
3. Sends a Chainlit `Message` containing the Plotly chart as an inline element.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| plotly.graph_objects | Used to create the bar chart visualization |
| chainlit | Used for creating and sending interactive chat messages |

## Code Structure
The code is structured as a single function decorated with `@cl.on_chat_start`, which is a Chainlit decorator that specifies when the function should be executed.

## References
- `cl.on_chat_start`: Chainlit decorator for specifying chat start behavior
- `cl.Plotly`: Chainlit class for wrapping Plotly figures
- `cl.Message`: Chainlit class for creating chat messages

## API/Interface Reference
While this code doesn't explicitly define an API, it integrates with Chainlit's chat interface:

| Event | Handler | Description |
|:------|:--------|:------------|
| Chat Start | `start()` | Sends a message with a Plotly bar chart when a chat session begins |

This code serves as an example of how to integrate Plotly visualizations into a Chainlit-based chat application, demonstrating the creation of a simple bar chart and its inclusion in a chat message.