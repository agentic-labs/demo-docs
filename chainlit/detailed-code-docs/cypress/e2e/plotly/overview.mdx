---
title: "Overview"
---

## High-level description
This directory contains files related to testing and configuring a Plotly chart integration within a Chainlit-based chat application. It includes a Cypress test specification, a Python script for creating and sending a Plotly chart, and a Chainlit configuration file.

## What does it do?
The code in this directory sets up and tests a feature where a Plotly bar chart is automatically displayed when a chat session starts in a Chainlit application. Here's a breakdown of the workflow:

1. When a user starts a chat session, the application creates a simple bar chart using Plotly.
2. This chart is then wrapped in a Chainlit Plotly element and sent as part of a chat message.
3. The chart appears inline within the chat interface.
4. A Cypress test suite verifies that this chart is correctly displayed in the web application.

The configuration file sets various parameters for the Chainlit project, including enabling features like the prompt playground and multi-modal file upload, and customizing the user interface.

## Key Files

1. `main.py`: This Python script contains the core functionality for creating and sending the Plotly chart. It defines an asynchronous function `start()` that is triggered at the beginning of each chat session. This function creates a bar chart using Plotly and sends it as an inline element in a Chainlit message.

2. `spec.cy.ts`: This Cypress test specification file contains a test suite that verifies the correct display of the inline Plotly chart. It sets up a test server and checks for the presence of a single step containing the chart in the DOM.

3. `.chainlit`: This TOML configuration file defines various settings for the Chainlit project, including feature toggles, UI customization, and metadata. It controls aspects such as telemetry, session management, and theming.

## Dependencies
- Plotly: Used for creating the bar chart visualization.
- Chainlit: Provides the framework for the chat application and handles the integration of the Plotly chart.
- Cypress: Used for end-to-end testing of the web application.

## Configuration
The `.chainlit` file contains numerous configuration options, including:

- Telemetry: Enabled by default
- Session timeout: Set to 3600 seconds (1 hour)
- Caching: Disabled for third parties
- Prompt playground: Enabled
- Multi-modal file upload: Enabled with a maximum of 20 files and 500MB total size
- UI customization: Sets the chatbot name to "Chatbot" and configures default behavior for content display

These settings can be adjusted to modify the behavior and appearance of the Chainlit application.

In summary, this directory contains the necessary components to implement, configure, and test a feature that displays a Plotly chart at the start of a chat session in a Chainlit application. The test suite ensures that this functionality works as expected in the web interface.