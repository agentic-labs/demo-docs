---
title: "Overview"
---

## High-level description
This directory contains integration tests for the RAG (Retrieval-Augmented Generation) utilities in the MindsDB project. The tests focus on file loading and splitting functionalities, which are crucial components of the RAG pipeline. The directory includes test data and Python test files that verify the correct behavior of the FileLoader and FileSplitter classes.

## What does it do?
The tests in this directory ensure that the RAG utilities can correctly handle various file types and perform necessary operations on them:

1. File Loading: It verifies that different file types (PDF, CSV, HTML, Markdown, and plain text) can be loaded and converted into a suitable document representation for vector databases.

2. Document Splitting: It checks that loaded documents can be split into smaller chunks based on their content and structure, which is essential for efficient retrieval and processing in RAG systems.

3. Error Handling: The tests also cover error scenarios and failover mechanisms to ensure robustness in the RAG pipeline.

## Key Files

1. `data/`: This subdirectory contains test data files, including a simple HTML document used for testing HTML parsing and content extraction.

2. `test_file_loader.py`: This file contains unit tests for the FileLoader class. It verifies that various file types (PDF, CSV, HTML, Markdown, and plain text) can be correctly loaded and their content extracted.

3. `test_file_splitter.py`: This file includes unit tests for the FileSplitter class. It ensures that documents of different types (PDF, Markdown, HTML, and plain text) can be split into smaller chunks correctly, and that error handling and failover mechanisms work as expected.

## Dependencies
The tests rely on several external libraries and frameworks:

1. `unittest.mock`: Used for mocking in tests.
2. `langchain_core.documents`: Provides the Document class for representing text documents.
3. `langchain_text_splitters`: Offers various text splitting algorithms used in the FileSplitter.
4. MindsDB's custom modules:
   - `mindsdb.integrations.utilities.rag.loaders.file_loader`: Contains the FileLoader class.
   - `mindsdb.integrations.utilities.rag.splitters.file_splitter`: Provides the FileSplitter and FileSplitterConfig classes.

## Configuration
The tests use specific file paths for test data:

- `./tests/integrations/utilities/rag/data/test.pdf`
- `./tests/integrations/utilities/rag/data/movies.csv`
- `./tests/integrations/utilities/rag/data/test.html`
- `./mindsdb/integrations/handlers/langchain_handler/README.md`
- `./tests/integrations/utilities/rag/data/test.txt`

These paths are hardcoded in the test files and should be maintained to ensure test consistency.

The FileSplitter tests use various configuration options to test different splitting behaviors, such as enabling or disabling failover mechanisms.

In summary, this directory plays a crucial role in ensuring the reliability and correctness of the RAG utilities in MindsDB, particularly in handling diverse file types and preparing documents for efficient retrieval and processing in RAG systems.