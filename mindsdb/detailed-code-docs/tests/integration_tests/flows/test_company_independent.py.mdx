---
title: "test_company_independent.py"
---

## High-level description
This file contains integration tests for company-independent functionality in MindsDB. It tests various operations such as creating databases, views, and models, as well as querying data across different company IDs to ensure proper isolation and functionality.

## Code Structure
The main class `TestCompanyIndependent` inherits from `HTTPHelperMixin` and contains multiple test methods. Each method tests a specific aspect of the system, such as initial state, adding databases, creating views, and working with models. The tests use both HTTP and MongoDB interfaces to interact with MindsDB.

## Symbols

### `TestCompanyIndependent`
#### Description
A test class that contains integration tests for company-independent functionality in MindsDB.

#### Internal Logic
1. Sets up initial state and configuration
2. Tests database creation and listing
3. Tests adding and querying data databases
4. Tests creating and using ML engines
5. Tests creating, using, and dropping views
6. Tests creating and querying models
7. Tests MongoDB interface functionality

### `get_string_params`
#### Description
A utility function that converts a dictionary of parameters into a string representation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| parameters | dict | A dictionary of parameter key-value pairs |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | str | A string representation of the parameters |

### `get_db_names`
#### Description
Retrieves a list of database names for a given company ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| company_id | int | The ID of the company (optional) |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| db_names | list | A list of database names |

### `get_tables_in`
#### Description
Retrieves a list of table names for a given database and company ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| table | str | The name of the database |
| company_id | int | The ID of the company |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| table_names | list | A list of table names |

### `get_ml_engines`
#### Description
Retrieves a list of ML engine names for a given company ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| company_id | int | The ID of the company (optional) |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| engine_names | list | A list of ML engine names |

### `assert_list`
#### Description
Asserts that two lists contain the same elements, regardless of order.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| a | list | First list to compare |
| b | list | Second list to compare |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| pytest | Testing framework |
| pymongo | MongoDB client library |
| mindsdb.api.executor.data_types.response_type | Response type constants |
| tests.utils.http_test_helpers | HTTP testing utilities |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| OVERRIDE_CONFIG | dict | {...} | Configuration overrides for MindsDB |
| API_LIST | list | ["http", 'mongodb'] | List of APIs to test |
| CONFIG | dict | {} | Configuration loaded from file |
| CID_A | int | 1 | Company ID for testing company A |
| CID_B | int | 2 | Company ID for testing company B |

## Error Handling
The tests use assertions to check for expected behavior and raise exceptions when unexpected results occur.

## Logging
No explicit logging is implemented in this test file.

## TODOs
None present in the code.