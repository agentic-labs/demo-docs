---
title: "Overview"
---

## High-level description
This directory contains integration tests for MindsDB, focusing on various flows, functionalities, and metrics. It includes tests for HTTP and MySQL APIs, time series predictions, specific tutorials, core features, and metrics functionality.

## What does it do?
The integration tests in this directory verify the correct functioning of MindsDB's components and workflows across different scenarios. They cover:

1. Creating and managing databases and models
2. Making predictions using various model types (e.g., time series, text sentiment)
3. Testing API endpoints (HTTP, MySQL)
4. Verifying tutorial functionality and specific use cases
5. Testing integration with external services like OpenAI and HuggingFace
6. Checking ML task queue behavior
7. Validating company-independent operations
8. Ensuring proper metrics collection and reporting

These tests ensure that MindsDB's core functionalities work as expected across different interfaces, scenarios, and configurations.

## Entry points
The main entry points for the tests are individual test files, each focusing on specific aspects of MindsDB:

1. `flows/test_http.py`: Tests HTTP API functionality
2. `flows/test_mysql_api.py` and `flows/test_mysql_bin_api.py`: Test MySQL API in text and binary modes
3. `flows/test_ts_predictions.py`: Tests time series prediction capabilities
4. `flows/test_ml_task_queue.py`: Verifies ML task queue functionality
5. `flows/test_company_independent.py`: Checks company-independent operations
6. Tutorial-specific tests like `flows/test_predict_text_sentiment_huggingface_tutorial.py` and `flows/test_predict_text_sentiment_openai_tutorial.py`
7. `metrics/test_metrics.py`: Tests metrics functionality, particularly for HTTP API requests

Each test file typically contains a main test class that inherits from `HTTPHelperMixin` or other base classes, providing utility methods for interacting with MindsDB's APIs.

## Key Files

1. `flows/conftest.py`: Contains pytest fixtures and utility functions used across multiple test files. It sets up the test environment, manages Docker containers, and provides helper functions for database interactions.

2. `flows/ps.py`: Provides utility functions for working with network connections and processes, focusing on port usage checks.

3. `flows/config/`: Contains configuration files (`config.json` and `docker_config.json`) used to set up the test environment with appropriate settings for databases, APIs, and other MindsDB components.

4. `metrics/test_metrics.py`: Contains tests for metrics functionality, including HTTP metrics and Prometheus multiprocess directory population.

These files work together to create a comprehensive test suite that covers various aspects of MindsDB's functionality, ensuring its reliability and correctness across different use cases, interfaces, and configurations.

## Dependencies
The test suite relies on several external libraries and frameworks:

1. pytest: The main testing framework used throughout the test suite
2. docker: Used for managing Docker containers in the test environment
3. requests: For making HTTP requests to the MindsDB API
4. pandas: Used for data manipulation and analysis in some tests
5. psutil: For process and system monitoring
6. mysql-connector-python: Used in MySQL API tests
7. mindsdb: The main library being tested

## Configuration
The test suite uses configuration files and environment variables to set up the test environment:

1. `flows/config/config.json`: Main configuration file for integration tests
2. `flows/config/docker_config.json`: Configuration for Docker-based tests
3. Environment variables: Used for sensitive information like API keys and Prometheus multiprocess directory settings

Key configuration options include:
- Database connection details
- API endpoints
- Authentication settings
- Feature toggles for different components of MindsDB
- Prometheus multiprocess directory settings

The tests are designed to be flexible, allowing for easy configuration changes to test different scenarios and environments. Some tests, like those in `metrics/test_metrics.py`, use specific configuration overrides:

```python
OVERRIDE_CONFIG = {
    'tasks': {'disable': True},
    'jobs': {'disable': True}
}
API_LIST = ["http"]
```

These configurations ensure that the tests focus on specific aspects of MindsDB's functionality while disabling others for more targeted testing.