---
title: "query_generator.py"
---

## High-level description
This code defines a `QueryGenerator` class that provides static methods for generating SQL queries used in MindsDB Actions. It includes methods for creating databases, ML engines, models, and simple select queries, with a focus on flexibility and parameterization.

## Symbols

### `QueryGenerator`
#### Description
A helper class containing static methods for generating various SQL queries used in MindsDB Actions.

### `QueryGenerator.create_database_query`
#### Description
Generates a CREATE DATABASE query with the given parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| database_name | str | The name of the database to create |
| engine | str | The database engine to use |
| parameters | dict | A dictionary of parameters for the engine |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | str | The generated SQL query as a string |

#### Internal Logic
1. Formats the parameters dictionary into a string.
2. Constructs the CREATE DATABASE query using the provided inputs.

### `QueryGenerator.create_ml_engine_query`
#### Description
Generates a CREATE ML ENGINE query with the given parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ml_engine_name | str | The name of the ML Engine to create |
| engine | str | The ML Engine to use |
| parameters | dict | A dictionary of parameters for the engine |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | str | The generated SQL query as a string |

#### Internal Logic
1. Formats the parameters dictionary into a string.
2. Constructs the CREATE ML ENGINE query using the provided inputs.
3. Adds a USING clause if parameters are provided.

### `QueryGenerator.create_model`
#### Description
Generates a CREATE MODEL query with the given parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| model_name | str | The name of the model to create |
| target_var | str | The target variable to predict |
| parameters | dict | A dictionary of parameters for the model |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | str | The generated SQL query as a string |

#### Internal Logic
1. Formats the parameters dictionary into a string.
2. Constructs the CREATE MODEL query using the provided inputs.

### `QueryGenerator.simple_select_query`
#### Description
Generates a simple SELECT query with the given parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| table_name | str | The name of the table to query |
| columns | list | A list of columns to SELECT (optional, defaults to ["*"]) |
| limit | int | The number of rows to LIMIT the query to (optional, defaults to 10) |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | str | The generated SQL query as a string |

#### Internal Logic
1. Joins the columns list into a string.
2. Adds a LIMIT clause if a limit is provided.
3. Constructs the SELECT query using the provided inputs.

## References
This code is likely used in conjunction with other parts of the MindsDB system, particularly those related to database operations, ML engine creation, and model management.

## Dependencies
No external libraries are explicitly imported in this file. The code relies on Python's built-in types and string formatting.