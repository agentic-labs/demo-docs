---
title: "tests_start.py"
---

## High-level description
This code defines a load testing setup using Locust for testing database connections to MindsDB Cloud. It specifically focuses on PostgreSQL connection behavior and includes user authentication to MindsDB Cloud before running the tests.

## Code Structure
The main class `DBConnectionUser` inherits from Locust's `HttpUser` and sets up the test environment, including authentication to MindsDB Cloud. It uses configuration values from environment variables and defines the task to be executed during the load test.

## Symbols

### `DBConnectionUser`
#### Description
A Locust user class that represents a user connecting to MindsDB Cloud and performing PostgreSQL connection tests.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| *args | tuple | Variable positional arguments passed to the parent class |
| **kwargs | dict | Variable keyword arguments passed to the parent class |

#### Internal Logic
1. Sets the task to be performed (PostgreSQLConnectionBehavior)
2. Defines wait time between tasks (5 to 15 seconds)
3. Loads configuration from environment variables
4. Sets the host for the HTTP client
5. In the constructor, attempts to log in to MindsDB Cloud using provided credentials

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| locust | Provides the load testing framework |
| tests.load.test_postgresql | Contains the PostgreSQLConnectionBehavior task |
| tests.utils.config | Provides utility for reading configuration from environment variables |
| mindsdb.utilities.log | Provides logging functionality |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| INTEGRATIONS_CONFIG | JSON (env var) | N/A | Contains MindsDB Cloud configuration including host, user, and password |

## Error Handling
The code implements basic error handling in the constructor. If login to MindsDB Cloud fails, it logs an error message but does not stop the execution.

## Logging
The code uses the MindsDB logging utility to log errors during the login process.

## TODOs
There are no explicit TODOs in the code.