---
title: "base_ml_test.py"
---

## High-level description
This file defines a base test class `BaseMLAPITest` for API-based ML engines. It extends the `BaseExecutorTest` class and provides a method to retrieve API keys from environment variables.

## Code Structure
The `BaseMLAPITest` class inherits from `BaseExecutorTest` and adds a static method `get_api_key` for retrieving API keys.

## Symbols

### `BaseMLAPITest`
#### Description
A base test class for API-based ML engines that extends `BaseExecutorTest`.

#### Internal Logic
This class doesn't contain any specific test logic but serves as a foundation for other test classes that work with API-based ML engines.

### `get_api_key`
#### Description
A static method that retrieves an API key from environment variables.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| env_var | str | The name of the environment variable containing the API key |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| api_key | str | The API key retrieved from the environment variable |

#### Internal Logic
The method uses `os.environ.get()` to retrieve the value of the specified environment variable.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| os | Used to access environment variables |
| ..executor_test_base | Imports BaseExecutorTest class |

## References
This class is referenced and used as a base class in several other test files, including:
- `test_anyscale_endpoints_handler.py`
- `test_minds_endpoint_handler.py`
- `test_stabilityai.py`
- `test_anthropic.py`
- `test_leonardo_ai.py`
- `test_clipdrop.py`

These test files extend `BaseMLAPITest` to create specific test cases for different ML engines and APIs.