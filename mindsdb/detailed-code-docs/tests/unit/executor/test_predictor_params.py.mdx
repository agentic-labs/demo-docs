---
title: "test_predictor_params.py"
---

## High-level description
This file contains unit tests for the predictor parameters functionality in the MindsDB executor. It focuses on testing the ability to pass parameters to predictors during both join operations and inline predictions.

## Code Structure
The main test class `Test` inherits from `BaseExecutorMockPredictor`. It contains two test methods that verify the correct handling of predictor parameters in different scenarios.

## Symbols

### Test
#### Description
A test class that inherits from `BaseExecutorMockPredictor`. It contains test methods for verifying the functionality of predictor parameters.

### test_use_predictor_params
#### Description
This method tests the use of predictor parameters in a join operation between a data source and a predictor.

#### Internal Logic
1. Sets up mock data for a PostgreSQL integration.
2. Configures a mock predictor with specific attributes.
3. Executes a SQL query that joins the data source with the predictor, passing parameters.
4. Verifies that the predictor receives the correct parameters.

### test_use_predictor_params (second occurrence)
#### Description
This method tests the use of predictor parameters in an inline prediction query.

#### Internal Logic
1. Uses the same mock predictor setup as the previous test.
2. Executes a SQL query for inline prediction with parameters.
3. Verifies that the predictor receives the correct parameters.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| unittest.mock | Used for mocking the PostgreSQL handler |
| pandas | Used for creating test data |
| mindsdb_sql | Used for parsing SQL queries |
| mindsdb.api.mysql.mysql_proxy.utilities.lightwood_dtype | Used for specifying data types in the mock predictor |
| tests.unit.executor_test_base | Provides the base test class with mocking capabilities |

## Error Handling
The tests use assertions to verify the correct behavior of the predictor parameter passing. If the parameters are not correctly passed or processed, the assertions will fail, indicating an error in the implementation.

___

This test file is crucial for ensuring that the MindsDB executor correctly handles predictor parameters in different query scenarios. It verifies that parameters can be passed both in join operations and inline predictions, and that these parameters are correctly received by the predictor. The use of mocking allows for isolated testing of this functionality without relying on actual database connections or predictor implementations.