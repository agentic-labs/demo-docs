---
title: "integrations.py"
---

Here's a high-level description and documentation of the `IntegrationController` class in the target file:

## High-level description

The `IntegrationController` class manages integrations in MindsDB. It handles the loading, initialization, and caching of integration handlers, as well as operations like adding, modifying, and deleting integrations. The class also provides methods to retrieve integration information and create temporary handlers for testing connections.

## Code Structure

The `IntegrationController` class contains several methods for managing integrations, including:
- Methods for loading and initializing handler modules
- Methods for adding, modifying, and deleting integrations
- Methods for retrieving integration information
- Methods for creating and managing handlers

The class uses a `HandlersCache` for caching database handlers and a file system store for managing integration files.

## Symbols

### IntegrationController

#### Description
The main class for managing integrations in MindsDB.

#### Internal Logic
- Initializes by loading handler modules
- Manages a cache of handlers
- Handles CRUD operations for integrations
- Provides methods to retrieve integration information and create handlers

### HandlersCache

#### Description
A cache for database handlers that keeps connections open for a specified time-to-live (TTL) period.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ttl | int | Time-to-live for cached handlers in seconds |

#### Internal Logic
- Maintains a dictionary of handlers with their expiration times
- Runs a cleaner thread to remove expired handlers
- Provides methods to set, get, and delete handlers from the cache

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| threading | Used for thread-safe operations and background cleaning |
| importlib | Used for dynamically importing handler modules |
| sqlalchemy | Used for database operations |

## Error Handling
The class includes error handling for various scenarios, such as:
- Handling import errors when loading handler modules
- Dealing with missing or invalid integration records
- Managing exceptions during handler creation and operations

## Performance Considerations
- Uses caching to keep database connections open, reducing connection overhead
- Implements a background cleaning process to manage cached handlers
- Uses thread-safe operations for concurrent access to shared resources

The `IntegrationController` class is a central component in managing integrations within MindsDB, providing a comprehensive set of methods for working with various data sources and ML engines.