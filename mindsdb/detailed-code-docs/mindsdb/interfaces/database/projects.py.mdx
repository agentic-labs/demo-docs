---
title: "projects.py"
---

Here's a high-level description and documentation of the `Project` class and `ProjectController` in the `mindsdb/interfaces/database/projects.py` file:

## High-level description

This file defines the `Project` class and `ProjectController` class, which are responsible for managing projects within the MindsDB system. Projects are containers for models, views, and other database objects. The `Project` class represents individual projects and provides methods for creating, updating, and querying project-related data. The `ProjectController` class manages the lifecycle of projects, including creation, retrieval, and deletion.

## Code Structure

The main symbols in the code are:

1. `Project`: Represents a single project and provides methods for interacting with project data.
2. `ProjectController`: Manages the lifecycle of projects and provides methods for creating, retrieving, and deleting projects.

These classes interact with the database through SQLAlchemy ORM models defined in the `db` module.

## Symbols

### Project

#### Description
The `Project` class represents a single project in the MindsDB system. It provides methods for creating, updating, and querying project-related data, such as models, views, and tables.

#### Methods

1. `from_record(db_record: db.Project) -&gt; Project`
   - Creates a `Project` instance from a database record.

2. `create(name: str)`
   - Creates a new project in the database.

3. `save()`
   - Commits changes to the database.

4. `delete()`
   - Deletes the project from the database.

5. `drop_model(name: str)`
   - Deletes a model from the project.

6. `drop_view(name: str)`
   - Deletes a view from the project.

7. `create_view(name: str, query: str)`
   - Creates a new view in the project.

8. `update_view(name: str, query: str)`
   - Updates an existing view in the project.

9. `delete_view(name: str)`
   - Deletes a view from the project.

10. `query_view(query: ASTNode) -&gt; ASTNode`
    - Queries a view in the project.

11. `get_model(name: str)`
    - Retrieves a model from the project.

12. `get_model_by_id(model_id: int)`
    - Retrieves a model from the project by its ID.

13. `get_models(active: bool = True, with_secrets: bool = True)`
    - Retrieves all models in the project.

14. `get_agents()`
    - Retrieves all agents in the project.

15. `get_views()`
    - Retrieves all views in the project.

16. `get_view(name)`
    - Retrieves a specific view from the project.

17. `get_tables()`
    - Retrieves all tables (models, views, and agents) in the project.

18. `get_columns(table_name: str)`
    - Retrieves columns for a specific table in the project.

### ProjectController

#### Description
The `ProjectController` class manages the lifecycle of projects in the MindsDB system. It provides methods for creating, retrieving, and deleting projects.

#### Methods

1. `get_list() -&gt; List[Project]`
   - Retrieves a list of all projects.

2. `get(id: Optional[int] = None, name: Optional[str] = None, deleted: bool = False) -&gt; Project`
   - Retrieves a project by ID or name.

3. `add(name: str) -&gt; Project`
   - Creates a new project.

## Dependencies
The code relies on several external libraries and internal modules:

- SQLAlchemy for database operations
- MindsDB SQL parser and AST nodes
- Various MindsDB internal modules for handling models, views, and database operations

## Error Handling
The code uses custom exceptions like `EntityExistsError` and `EntityNotExistsError` to handle cases where projects or related objects already exist or are not found.

## Performance Considerations
The `get_tables()` method is profiled, indicating that it might be a performance-critical operation. It uses an `OrderedDict` to maintain the order of tables while providing fast lookup.

This documentation provides an overview of the main components and functionality of the `projects.py` file. For more detailed information on specific methods or usage, refer to the inline comments and method signatures in the code.