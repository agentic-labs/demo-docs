---
title: "task.py"
---

## High-level description
This code defines a base class `BaseTask` for task management in the MindsDB system. It provides a foundation for creating specific task types with common functionality such as task identification, error handling, and a placeholder for the main execution logic.

## Code Structure
The `BaseTask` class is the main symbol in this code. It contains methods that can be used or overridden by child classes to implement specific task behaviors.

## Symbols

### BaseTask
#### Description
`BaseTask` is an abstract base class for tasks in the MindsDB system. It provides a structure for task identification and error handling, with a placeholder for the main execution logic.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| task_id | Not specified | Identifier for the task |
| object_id | Not specified | Identifier for the object associated with the task |

#### Internal Logic
The class initializes with `task_id` and `object_id`. It defines an abstract `run` method to be implemented by subclasses and a `set_error` method for error handling.

### BaseTask.run
#### Description
An abstract method that should be implemented by subclasses to define the main execution logic of the task.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| stop_event | Not specified | An event to signal when the task should stop |

#### Internal Logic
This method raises a `NotImplementedError`, indicating that it should be overridden by subclasses.

### BaseTask.set_error
#### Description
A method to update the task record with an error message.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | str | The error message to be set |

#### Internal Logic
1. Retrieves the task record from the database using `task_id`.
2. Updates the `last_error` field of the task record with the provided message.
3. Commits the changes to the database session.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb.interfaces.storage.db | Provides database access for task management |

## Error Handling
The `set_error` method is provided for error handling. It allows tasks to update their status with error messages in the database.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.