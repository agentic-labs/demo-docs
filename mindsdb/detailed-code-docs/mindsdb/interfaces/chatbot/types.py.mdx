---
title: "types.py"
---

## High-level description
This file defines the core data structures and types used in the chatbot interface of MindsDB. It includes classes for representing chat messages, function definitions, and a custom exception for bot-related errors.

## Symbols

### `BotException`
#### Description
A custom exception class for bot-related errors. It inherits from the built-in `Exception` class.

### `ChatBotMessage`
#### Description
Represents a message sent and received by chatbots. It encapsulates the message type, content, sender, recipient, and timestamp.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| type | ChatBotMessage.Type | The type of message (DIRECT or CHANNEL) |
| text | str | The actual content of the message |
| user | str | The user who sent the message |
| destination | str | The user or channel that received the message (optional) |
| sent_at | dt.datetime | The timestamp of when the message was sent (optional) |

#### Internal Logic
- The `Type` enum is nested within the `ChatBotMessage` class and defines two message types: DIRECT and CHANNEL.
- If `sent_at` is not provided, it defaults to the current time using `dt.datetime.now()`.

### `Function`
#### Description
Represents a function that can be used by the chatbot, including its name, description, and callback.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the function |
| description | str | A description of what the function does |
| callback | callable | The actual function to be called |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| enum | Used for defining the `Type` enum in `ChatBotMessage` |
| datetime | Used for handling timestamps in `ChatBotMessage` |

## References
This file is referenced and used in other parts of the codebase:
- `mindsdb/interfaces/chatbot/model_executor.py` uses `BotException` for error handling.
- `mindsdb/interfaces/chatbot/chatbot_task.py` uses `ChatBotMessage` for message handling and processing.
- `mindsdb/integrations/libs/realtime_chat_handler.py` references `ChatBotMessage` in its interface definition.

These types form the foundation for the chatbot functionality in MindsDB, providing structured ways to represent messages, functions, and handle bot-specific exceptions across the chatbot interface.