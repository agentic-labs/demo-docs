---
title: "add_shard.py"
---

## High-level description
This code defines a responder for the MongoDB "_addShard" command in MindsDB's MongoDB API. It's designed to handle requests for adding a shard to a MongoDB cluster, providing a simple positive response.

## Code Structure
The code defines a single `Responce` class (note the typo in "Responce") that inherits from the `Responder` class. An instance of this class is then created as the `responder` object.

## References
This code references:
- `mindsdb.api.mongo.classes.Responder`
- `mindsdb.api.mongo.functions.is_true`

## Symbols

### Responce
#### Description
A class that defines the response for the "_addShard" command in MongoDB. It inherits from the `Responder` class and specifies when to respond and what the response should be.

#### Inputs
This class doesn't explicitly define any inputs, but it uses the following class attributes:

| Name | Type | Description |
|:-----|:-----|:------------|
| when | dict | Defines the condition for when this responder should be used |
| result | dict | Specifies the response to be returned |

#### Internal Logic
The class sets up two key attributes:
1. `when`: A dictionary that uses the `helpers.is_true` function to check if the `_addShard` command is present and true in the incoming query.
2. `result`: A dictionary with a single key-value pair indicating a successful operation (`"ok": 1`).

### responder
#### Description
An instance of the `Responce` class, created to be used as the responder for "_addShard" commands.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb.api.mongo.classes | Provides the base `Responder` class |
| mindsdb.api.mongo.functions | Provides helper functions, specifically `is_true` |

## Notes
1. There's a typo in the class name "Responce" which should be "Response".
2. The `is_true` function is used to determine when this responder should be activated, but its implementation is not provided in the given code.
3. This responder always returns a success response (`"ok": 1`) regardless of the actual shard addition process, which might not be ideal for all scenarios.
4. The code doesn't actually perform any shard addition operations; it only provides a positive response when the command is received.