---
title: "jobs.py"
---

## High-level description
This code defines Flask-RESTx resources for managing jobs within projects in the MindsDB API. It provides endpoints for listing, creating, retrieving, deleting jobs, and fetching job history. The code interacts with a JobsController to perform these operations and includes error handling and API metrics tracking.

## Code Structure
The code defines three main resource classes: JobsResource, JobResource, and JobsHistory. These classes handle different endpoints related to job management. The JobsController is used to interact with the underlying job management system.

## Symbols

### JobsResource
#### Description
This class handles endpoints for listing and creating jobs within a project.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| project_name | str | The name of the project |

#### Internal Logic
- GET: Lists all jobs in a project using JobsController.get_list()
- POST: Creates a new job in a project, parsing and validating the input data before calling JobsController.add()

### JobResource
#### Description
This class handles endpoints for retrieving and deleting individual jobs.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| project_name | str | The name of the project |
| job_name | str | The name of the job |

#### Internal Logic
- GET: Retrieves a specific job using JobsController.get()
- DELETE: Deletes a specific job using JobsController.delete()

### JobsHistory
#### Description
This class handles the endpoint for retrieving the history of job calls.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| project_name | str | The name of the project |
| job_name | str | The name of the job |

#### Internal Logic
- GET: Retrieves the history of a specific job using JobsController.get_history()

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| flask | Web framework for handling HTTP requests |
| flask_restx | Extension for Flask to build REST APIs |
| mindsdb.api.http.namespaces.configs.projects | Namespace configuration |
| mindsdb.api.http.utils | Utility functions for HTTP responses |
| mindsdb.metrics.metrics | API endpoint metrics tracking |
| mindsdb.interfaces.jobs.jobs_controller | Job management functionality |

## Error Handling
The code implements error handling for various scenarios:
- Missing required parameters in job creation
- Job not found when retrieving or deleting

Errors are returned using the `http_error` function, which likely creates a standardized error response.

## API/Interface Reference
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| /&lt;project_name&gt;/jobs | GET | List all jobs in a project |
| /&lt;project_name&gt;/jobs | POST | Create a new job in a project |
| /&lt;project_name&gt;/jobs/&lt;job_name&gt; | GET | Retrieve a specific job |
| /&lt;project_name&gt;/jobs/&lt;job_name&gt; | DELETE | Delete a specific job |
| /&lt;project_name&gt;/jobs/&lt;job_name&gt;/history | GET | Get history of job calls |

## Performance Considerations
The code uses the `@api_endpoint_metrics` decorator to track the performance of API endpoints. This allows for monitoring of response times and potentially identifying performance bottlenecks.