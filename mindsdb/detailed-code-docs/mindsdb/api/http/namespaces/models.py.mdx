---
title: "models.py"
---

## High-level description
This file defines the API endpoints for managing models within projects in the MindsDB system. It provides functionality for listing, creating, retrieving, updating, and deleting models, as well as making predictions and describing models.

## Code Structure
The code is organized into several Flask-RESTx resource classes, each handling different operations on models within projects. The main classes are `ModelsList`, `ModelResource`, `ModelPredict`, and `ModelDescribe`, each corresponding to different API endpoints.

## Symbols

### ModelsList
#### Description
Handles listing all models and creating new models within a project.

#### Methods
1. get
   - Description: Lists all models in a project
   - Inputs: project_name (str)
   - Outputs: List of models

2. post
   - Description: Creates a new model and trains it
   - Inputs: project_name (str), query (str)
   - Outputs: Created model details

### ModelResource
#### Description
Handles operations on individual models within a project.

#### Methods
1. get
   - Description: Retrieves a specific model by name and version
   - Inputs: project_name (str), model_name (str)
   - Outputs: Model details

2. put
   - Description: Updates a model
   - Inputs: project_name (str), model_name (str), problem_definition (dict)
   - Outputs: Updated model details

3. delete
   - Description: Deletes a model
   - Inputs: project_name (str), model_name (str)
   - Outputs: None

### ModelPredict
#### Description
Handles making predictions using a specific model.

#### Methods
1. post
   - Description: Makes predictions using a model
   - Inputs: project_name (str), model_name (str), data (dict or str)
   - Outputs: Predictions

### ModelDescribe
#### Description
Handles describing a specific model.

#### Methods
1. get
   - Description: Describes a model
   - Inputs: project_name (str), model_name (str), attribute (optional)
   - Outputs: Model description

## Dependencies
- Flask and Flask-RESTx for API routing and documentation
- SQLAlchemy for database operations
- Pandas for data manipulation
- MindsDB internal modules for session management, model operations, and error handling

## Error Handling
The code uses custom HTTP error responses for various error scenarios, such as project or model not found, invalid queries, and internal server errors.

## Logging
The code uses the MindsDB logging system to log various operations and error scenarios.

## API/Interface Reference
The API endpoints are defined using Flask-RESTx decorators and are organized under the `/projects/&lt;project_name&gt;/models` path. Each endpoint is documented using the `@ns_conf.doc` decorator.

## Performance Considerations
The code uses database queries to retrieve and manipulate model data, which could be performance-critical for large datasets or frequent requests. Proper indexing and query optimization should be considered for production use.