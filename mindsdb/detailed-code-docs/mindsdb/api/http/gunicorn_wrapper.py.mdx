---
title: "gunicorn_wrapper.py"
---

## High-level description
This code defines a `StandaloneApplication` class that wraps a Gunicorn application. It provides a way to configure and run a WSGI application using Gunicorn programmatically, allowing for customization of Gunicorn settings.

## Code Structure
The `StandaloneApplication` class inherits from `gunicorn.app.base.BaseApplication` and overrides two methods: `load_config` and `load`. These methods are used to configure and load the WSGI application, respectively.

## Symbols

### `StandaloneApplication`
#### Description
A class that wraps a WSGI application and Gunicorn configuration options, allowing for programmatic setup and execution of a Gunicorn server.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| app | WSGI application | The WSGI application to be served |
| options | dict | Optional dictionary of Gunicorn configuration options |

#### Internal Logic
1. The `__init__` method initializes the class with the WSGI application and optional configuration options.
2. The `load_config` method filters and applies the provided options to the Gunicorn configuration.
3. The `load` method returns the WSGI application to be served by Gunicorn.

### `StandaloneApplication.__init__`
#### Description
Initializes the `StandaloneApplication` instance with the given WSGI application and configuration options.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| app | WSGI application | The WSGI application to be served |
| options | dict | Optional dictionary of Gunicorn configuration options |

### `StandaloneApplication.load_config`
#### Description
Filters and applies the provided configuration options to the Gunicorn configuration.

#### Internal Logic
1. Creates a dictionary of valid configuration options by filtering the input options.
2. Applies each valid option to the Gunicorn configuration using `self.cfg.set()`.

### `StandaloneApplication.load`
#### Description
Returns the WSGI application to be served by Gunicorn.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| application | WSGI application | The WSGI application to be served |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| gunicorn.app.base | Provides the base class for creating a standalone Gunicorn application |

## References
This code is referenced in the `mindsdb/api/http/start.py` file, where it is used to run the MindsDB HTTP API using Gunicorn when the server option is set to 'gunicorn'. The `StandaloneApplication` is instantiated with the Flask app and a set of Gunicorn options, and then its `run()` method is called to start the server.