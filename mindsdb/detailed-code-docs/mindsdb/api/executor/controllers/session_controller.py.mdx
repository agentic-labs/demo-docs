---
title: "session_controller.py"
---

Here's a high-level description and documentation of the `SessionController` class:

## High-level description

The `SessionController` class manages server sessions for MindsDB. It initializes and maintains various controllers and components needed for handling database operations, model management, agent interactions, and other MindsDB functionalities. This class serves as a central point for managing the state and resources associated with a user's session.

## Code Structure

The `SessionController` class initializes and holds references to several controller objects, including:

- `model_controller`: Manages ML models
- `integration_controller`: Handles database integrations
- `database_controller`: Manages database operations
- `skills_controller`: Handles skills for agents
- `function_controller`: Manages custom functions
- `kb_controller`: Controls knowledge base operations
- `datahub`: Manages data access and operations
- `agents_controller`: Handles agent-related operations

It also maintains session-specific information such as username, authentication status, database, and prepared statements.

## Symbols

### SessionController

#### Description
The main class for managing server sessions in MindsDB.

#### Inputs
- `api_type` (str, optional): The type of API being used (default is 'http')

#### Internal Logic
1. Initializes various controller objects and session properties
2. Sets up the configuration
3. Initializes the datahub

#### Methods

##### register_stmt
Registers a prepared statement.

##### unregister_stmt
Unregisters a prepared statement.

##### inc_packet_sequence_number
Increments the packet sequence number.

##### to_json
Converts session information to a JSON-serializable format.

##### from_json
Updates session information from a JSON-serializable format.

## Dependencies
- `Config`: Configuration management
- Various controller classes (`ModelController`, `DatabaseController`, etc.)
- `integration_controller` from `mindsdb.interfaces.database.integrations`

## Configuration
The class uses the `Config` object to access MindsDB configuration settings.

This class is central to managing user sessions and coordinating various components of the MindsDB system. It provides a unified interface for accessing different functionalities and maintaining session state.