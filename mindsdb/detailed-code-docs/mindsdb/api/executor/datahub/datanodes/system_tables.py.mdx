---
title: "system_tables.py"
---

## High-level description
This code defines a set of system tables for an information schema in a database system. It includes tables for schemata, tables, columns, events, routines, plugins, engines, key column usage, statistics, character sets, and collations. The code provides a structure for storing and retrieving metadata about the database system.

## Code Structure
The code defines a base `Table` class and several subclasses representing different system tables. Each table class specifies its columns and may include methods for retrieving data. The `InformationSchemaDataNode` class acts as a container for all these tables and provides methods for accessing and querying them.

## Symbols

### `Table`
#### Description
A base class for all system tables.

#### Attributes
- `deletable`: Boolean, indicates if the table can be deleted
- `visible`: Boolean, indicates if the table is visible
- `kind`: String, type of the table (default: 'table')

### `SchemataTable`
#### Description
Represents the SCHEMATA table in the information schema.

#### Attributes
- `name`: String, name of the table ('SCHEMATA')
- `columns`: List of column names

#### Methods
##### `get_data`
Retrieves data for the SCHEMATA table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| inf_schema | object | Information schema object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| df | pandas.DataFrame | DataFrame containing SCHEMATA data |

### `TablesTable`
#### Description
Represents the TABLES table in the information schema.

#### Attributes
- `name`: String, name of the table ('TABLES')
- `columns`: List of column names

#### Methods
##### `get_data`
Retrieves data for the TABLES table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | ASTNode | SQL query object |
| inf_schema | object | Information schema object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| df | pandas.DataFrame | DataFrame containing TABLES data |

### `ColumnsTable`
#### Description
Represents the COLUMNS table in the information schema.

#### Attributes
- `name`: String, name of the table ('COLUMNS')
- `columns`: List of column names

#### Methods
##### `get_data`
Retrieves data for the COLUMNS table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| inf_schema | object | Information schema object |
| query | ASTNode | SQL query object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| df | pandas.DataFrame | DataFrame containing COLUMNS data |

### Other Table Classes
The file defines several other table classes (e.g., `EventsTable`, `RoutinesTable`, `PluginsTable`, etc.) with similar structures, each representing a specific system table in the information schema.

## Dependencies
The code relies on several external libraries and modules:
| Dependency | Purpose |
|:-----------|:--------|
| pandas | Data manipulation and storage |
| mindsdb_sql | SQL parsing and AST manipulation |
| mindsdb.integrations.utilities.sql_utils | SQL utility functions |
| mindsdb.api.executor.datahub.classes.tables_row | Table row definitions |
| mindsdb.utilities | Logging utilities |

## Error Handling
The code includes basic error handling, primarily using try-except blocks to catch and log exceptions when retrieving data from various sources.

## Logging
The code uses the `log` module from `mindsdb.utilities` for logging purposes.

This code provides a comprehensive structure for representing and querying system tables in an information schema, which is crucial for database metadata management and introspection.