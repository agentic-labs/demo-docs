---
title: "project_datanode.py"
---

Here's a comprehensive documentation for the `ProjectDataNode` class in the target file:

## High-level description
The `ProjectDataNode` class is a specialized data node for handling project-related operations in MindsDB. It manages project-specific tables, models, and views, and provides methods for querying and manipulating data within a project context.

## Code Structure
The `ProjectDataNode` class inherits from `DataNode` and implements various methods to handle project-specific operations. It interacts with the project, integration controller, and information schema to perform its functions.

## Symbols

### ProjectDataNode
#### Description
A class that represents a project-specific data node in MindsDB. It handles operations related to tables, models, and views within a project.

#### Inputs
- `project`: The project object
- `integration_controller`: The integration controller object
- `information_schema`: The information schema object

#### Internal Logic
The class initializes with the given project, integration controller, and information schema. It provides methods for retrieving project tables, checking table existence, getting table columns, making predictions, and executing queries within the project context.

### get_type
#### Description
Returns the type of the data node, which is 'project'.

#### Outputs
- `type` (str): The type of the data node ('project')

### get_tables
#### Description
Retrieves all tables in the project and formats them as a list of `TablesRow` objects.

#### Outputs
- `result` (list): A list of `TablesRow` objects representing the project tables

### has_table
#### Description
Checks if a given table exists in the project.

#### Inputs
- `table_name` (str): The name of the table to check

#### Outputs
- `bool`: True if the table exists, False otherwise

### get_table_columns
#### Description
Retrieves the columns of a given table in the project.

#### Inputs
- `table_name` (str): The name of the table

#### Outputs
- `list`: A list of dictionaries containing column information

### predict
#### Description
Makes predictions using a specified model within the project.

#### Inputs
- `model_name` (str): The name of the model to use for prediction
- `df`: The input data for prediction
- `version` (optional): The model version to use
- `params` (optional): Additional parameters for prediction

#### Outputs
- The prediction results from the ML handler

### query
#### Description
Executes various types of queries (SELECT, UPDATE, DELETE) within the project context.

#### Inputs
- `query` (optional): The query object to execute
- `native_query` (optional): A native SQL query string
- `session`: The current session object

#### Outputs
- For SELECT queries: A tuple containing a pandas DataFrame and column information
- For UPDATE and DELETE queries: An empty DataFrame and an empty list

#### Internal Logic
- Handles different query types (UPDATE, DELETE, SELECT) for project tables, views, and knowledge base tables
- Processes queries to the 'models' table by adding a project filter
- Executes view queries by fetching the view metadata and running the associated query
- Handles queries to knowledge base tables

## Dependencies
The class depends on various MindsDB modules and external libraries:
- pandas
- mindsdb_sql
- MindsDB's utility functions and exceptions

## Error Handling
The class raises exceptions for various error scenarios:
- `EntityNotExistsError`: When a queried table doesn't exist in the project
- `NotImplementedError`: For unsupported operations on project objects
- `Exception`: For general errors, such as when a model is not found or is obsolete

## Performance Considerations
The class doesn't implement specific optimizations, but it leverages the underlying project and integration controller implementations for efficient data handling and query execution.