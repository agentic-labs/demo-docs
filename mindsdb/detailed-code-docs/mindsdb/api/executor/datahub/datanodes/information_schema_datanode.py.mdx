---
title: "information_schema_datanode.py"
---

Here's a comprehensive documentation for the provided code:

## High-level description
This code defines the `InformationSchemaDataNode` class, which is responsible for managing and querying information schema data in a MindsDB system. It provides access to various system tables and handles queries for metadata about databases, tables, and columns across different data sources.

## Code Structure
The `InformationSchemaDataNode` class inherits from `DataNode` and contains methods for initializing the data node, retrieving tables and columns, and executing queries. It interacts with other components of the MindsDB system, such as the integration controller, project controller, and database controller.

## Symbols

### `InformationSchemaDataNode`
#### Description
This class represents the information schema data node in MindsDB. It manages access to system tables and handles queries for metadata about databases, tables, and columns.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| session | Session | The current session object |

#### Internal Logic
1. Initializes controllers and data nodes for various MindsDB components.
2. Populates a dictionary of system tables.
3. Provides methods for accessing and querying data from these tables.

### `InformationSchemaDataNode.__getitem__`
#### Description
Allows dictionary-style access to data nodes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | str | The name of the data node to retrieve |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data_node | DataNode | The requested data node |

### `InformationSchemaDataNode.get`
#### Description
Retrieves a data node by name, handling various types of data sources.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the data node to retrieve |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data_node | DataNode | The requested data node |

### `InformationSchemaDataNode.has_table`
#### Description
Checks if a table exists in the information schema.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tableName | str | The name of the table to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| exists | bool | True if the table exists, False otherwise |

### `InformationSchemaDataNode.get_table_columns`
#### Description
Retrieves the columns of a specified table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tableName | str | The name of the table |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| columns | List[Dict] | List of column information dictionaries |

### `InformationSchemaDataNode.get_integrations_names`
#### Description
Retrieves the names of all integrations.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| names | List[str] | List of integration names |

### `InformationSchemaDataNode.get_projects_names`
#### Description
Retrieves the names of all projects.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| names | List[str] | List of project names |

### `InformationSchemaDataNode.get_tables`
#### Description
Retrieves all visible tables in the information schema.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tables | Dict[str, Table] | Dictionary of table names and their corresponding Table objects |

### `InformationSchemaDataNode.query`
#### Description
Executes a query on the information schema.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | ASTNode | The query to execute |
| session | Session | The current session object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | pandas.DataFrame | The query result data |
| columns_info | List[Dict] | Information about the columns in the result |

### `InformationSchemaDataNode._get_empty_table`
#### Description
Creates an empty DataFrame for a given table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| table | Table | The table object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| df | pandas.DataFrame | An empty DataFrame with the table's columns |

## Dependencies
- pandas
- mindsdb_sql
- mindsdb.api.executor.datahub.datanodes.datanode
- mindsdb.api.executor.datahub.datanodes.integration_datanode
- mindsdb.api.executor.datahub.datanodes.project_datanode
- mindsdb.api.executor
- mindsdb.interfaces.database.projects
- mindsdb.utilities
- Various system and MindsDB-specific tables

## Error Handling
The code includes basic error handling, such as raising exceptions for non-existent tables or unsupported queries. However, more comprehensive error handling could be implemented for robustness.

## Logging
The code uses the MindsDB logging utility for error logging.

## Performance Considerations
The code uses pandas DataFrames for data manipulation, which can be memory-intensive for large datasets. Consider optimizing queries and data handling for large-scale deployments.

This documentation provides an overview of the `InformationSchemaDataNode` class and its main components. For more detailed information about specific methods or tables, refer to the inline comments and docstrings in the code.