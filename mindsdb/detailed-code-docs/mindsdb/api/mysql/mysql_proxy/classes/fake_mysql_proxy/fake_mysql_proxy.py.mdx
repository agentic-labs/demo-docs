---
title: "fake_mysql_proxy.py"
---

## High-level description
This code defines a `FakeMysqlProxy` class that inherits from `MysqlProxy`. It's designed to simulate a MySQL proxy connection for testing or development purposes, providing a minimal set of attributes and methods to mimic a real MySQL proxy without actually connecting to a database.

## Code Structure
The `FakeMysqlProxy` class inherits from `MysqlProxy` and initializes various attributes to simulate a MySQL proxy connection. It uses dummy objects and empty functions to create a minimal working environment.

## Symbols

### `empty_fn()`
#### Description
A placeholder function that does nothing. Used to provide a default value for `server.hook_before_handle`.

### `class Dummy`
#### Description
An empty class used to create placeholder objects for `request` and `server`.

### `class FakeMysqlProxy(MysqlProxy)`
#### Description
A class that simulates a MySQL proxy connection for testing or development purposes.

#### Inputs
This class doesn't take any inputs during initialization.

#### Internal Logic
1. Initializes dummy objects for `request`, `client_address`, and `server`.
2. Sets default values for various attributes:
   - `charset`: 'utf8'
   - `charset_text_type`: CHARSET_NUMBERS['utf8_general_ci']
   - `client_capabilities`: None
   - `connection_id`: None
3. Creates a `SessionController` instance and sets its database to 'mindsdb'.

### `is_cloud_connection()`
#### Description
A method that returns a dictionary indicating whether the connection is a cloud connection.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| return value | dict | A dictionary with a single key 'is_cloud' set to False |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb.api.executor.controllers.SessionController | Used to create a session for the fake proxy |
| mindsdb.api.mysql.mysql_proxy.libs.constants.mysql.CHARSET_NUMBERS | Used to set the charset text type |
| mindsdb.api.mysql.mysql_proxy.mysql_proxy.MysqlProxy | Base class for FakeMysqlProxy |

## Notes
This class is likely used for testing or development purposes where a full MySQL proxy connection is not needed or desired. It provides a minimal set of attributes and methods to simulate a MySQL proxy connection without actually connecting to a database.