---
title: "Overview"
---

## High-level description
The `mindsdb/api/mysql/mysql_proxy/classes/fake_mysql_proxy` directory contains code for implementing a fake MySQL proxy. This is primarily used for testing or development purposes, providing a simulated environment that mimics a real MySQL proxy connection without actually connecting to a database.

## What does it do?
This directory implements a `FakeMysqlProxy` class that simulates a MySQL proxy connection. It provides a minimal set of attributes and methods to mimic a real MySQL proxy, allowing developers to test or develop against a proxy-like interface without the need for an actual database connection. This can be useful in scenarios where you want to isolate your testing environment or when you need to simulate specific proxy behaviors without the overhead of a real database connection.

The fake proxy sets up dummy objects and default values for various attributes that would typically be present in a real MySQL proxy connection. It also includes a method to check if the connection is a cloud connection (which always returns false for this fake proxy).

## Key Files

1. `__init__.py`:
   - Acts as the initialization module for the `FakeMysqlProxy` class.
   - Imports the `FakeMysqlProxy` class from the `fake_mysql_proxy` module.
   - Makes `FakeMysqlProxy` available for external use through the `__all__` list.

2. `fake_mysql_proxy.py`:
   - Contains the main implementation of the `FakeMysqlProxy` class.
   - Defines helper classes and functions used by `FakeMysqlProxy`.
   - Implements the `FakeMysqlProxy` class, which inherits from `MysqlProxy`.

## Dependencies
The `FakeMysqlProxy` class relies on several dependencies:

1. `mindsdb.api.executor.controllers.SessionController`:
   - Used to create a session for the fake proxy.
   - Version: Not specified in the provided code.

2. `mindsdb.api.mysql.mysql_proxy.libs.constants.mysql.CHARSET_NUMBERS`:
   - Used to set the charset text type.
   - Version: Not specified in the provided code.

3. `mindsdb.api.mysql.mysql_proxy.mysql_proxy.MysqlProxy`:
   - Base class for `FakeMysqlProxy`.
   - Version: Not specified in the provided code.

These dependencies are likely chosen to maintain consistency with the real MySQL proxy implementation while providing a simplified, fake version for testing and development purposes.

## Configuration
The `FakeMysqlProxy` class sets up some default configurations:

1. Charset: 'utf8'
2. Charset text type: CHARSET_NUMBERS['utf8_general_ci']
3. Default database: 'mindsdb'

These configurations are hardcoded in the `FakeMysqlProxy` class and are not externally configurable.

Here's a code snippet showing how these configurations are set:

```python
class FakeMysqlProxy(MysqlProxy):
    def __init__(self):
        self.charset = 'utf8'
        self.charset_text_type = CHARSET_NUMBERS['utf8_general_ci']
        # ... other initializations ...
        self.session = SessionController()
        self.session.database = 'mindsdb'
```

This fake proxy provides a simplified environment for testing and development, allowing developers to work with a proxy-like interface without the complexities of a real MySQL connection. It can be particularly useful for unit testing, mocking database interactions, or developing features that interact with the MySQL proxy layer without requiring a full database setup.