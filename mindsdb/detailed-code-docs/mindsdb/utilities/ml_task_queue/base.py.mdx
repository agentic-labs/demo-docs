---
title: "base.py"
---

## High-level description
This code defines a `BaseRedisQueue` class that provides a method to wait for a successful Redis ping. It's a utility class designed to be used as a base for Redis-based queue implementations in the MindsDB project.

## Symbols

### `BaseRedisQueue`
#### Description
A base class for Redis-based queue implementations. It provides a method to wait for a successful Redis ping.

#### Internal Logic
The class contains a single method `wait_redis_ping` which delegates the actual implementation to an imported function `wait_redis_ping` from the `utils` module.

### `BaseRedisQueue.wait_redis_ping`
#### Description
A method that waits for a successful Redis ping within a specified timeout period.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| self | BaseRedisQueue | The instance of the class |
| timeout | int | The maximum number of seconds to wait for a successful ping (default: 30) |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | The method doesn't return a value |

#### Internal Logic
This method calls the `wait_redis_ping` function from the `utils` module, passing `self.db` (presumably a Redis database connection) and the `timeout` parameter.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb.utilities.ml_task_queue.utils | Imports the `wait_redis_ping` function |

## Error Handling
The `wait_redis_ping` method can raise a `RedisConnectionError` if the Redis ping doesn't return `True` within the specified timeout period. This error is not handled within the method itself but is expected to be handled by the caller.

## References
- The `wait_redis_ping` function from `mindsdb.utilities.ml_task_queue.utils` is used to implement the core functionality of the `wait_redis_ping` method.
- The `self.db` attribute is used but not defined in this file, suggesting it should be set by subclasses or during initialization.

This base class provides a foundation for implementing Redis-based queues in the MindsDB project, with a focus on ensuring Redis connectivity before performing operations.