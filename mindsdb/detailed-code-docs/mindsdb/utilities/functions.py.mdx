---
title: "functions.py"
---

Here's a documentation of the provided code:

## High-level description
This code defines utility functions for MindsDB, including argument parsing, process marking, version checking, and encryption/decryption. It also includes functions for handling database integrations and model operations.

## Code Structure
The main symbols in this code are standalone functions, with some dependencies on external modules and the MindsDB configuration. The functions are not tightly interconnected, but some may be used together in larger operations within MindsDB.

## Symbols

### `args_parse()`
#### Description
Parses command-line arguments for the MindsDB server.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| args | argparse.Namespace | Parsed command-line arguments |

### `get_handler_install_message(handler_name)`
#### Description
Generates an installation message for a specific handler, considering whether MindsDB is running in a Docker environment or not.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handler_name | str | Name of the handler to install |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | str | Installation instructions for the handler |

### `cast_row_types(row, field_types)`
#### Description
Casts the types of values in a row based on the specified field types.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| row | dict | Row data to be cast |
| field_types | dict | Mapping of field names to their types |

### `mark_process(name: str, custom_mark: str = None)`
#### Description
Decorator function to mark the start and end of a process execution.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | Name of the process |
| custom_mark | str | Optional custom mark for the process |

### `get_versions_where_predictors_become_obsolete()`
#### Description
Retrieves a list of MindsDB versions where predictors should be retrained.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| success | bool | Whether the operation was successful |
| versions | list | List of version strings |

### `init_lexer_parsers()`
#### Description
Initializes the lexer and parser for MindsDB SQL queries.

### `resolve_table_identifier(identifier: Identifier, default_database: str = None)`
#### Description
Resolves a table identifier into database and table names.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identifier | Identifier | Table identifier to resolve |
| default_database | str | Default database name |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| database_name | str | Resolved database name |
| table_name | str | Resolved table name |

### `resolve_model_identifier(identifier: Identifier)`
#### Description
Resolves a model identifier into database name, model name, and version.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identifier | Identifier | Model identifier to resolve |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| database_name | str | Resolved database name |
| model_name | str | Resolved model name |
| model_version | int | Resolved model version |

### `encrypt(string: bytes, key: str)`
#### Description
Encrypts a byte string using a given key.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| string | bytes | Byte string to encrypt |
| key | str | Encryption key |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| encrypted | bytes | Encrypted byte string |

### `decrypt(encrypted: bytes, key: str)`
#### Description
Decrypts an encrypted byte string using a given key.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| encrypted | bytes | Encrypted byte string |
| key | str | Decryption key |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| decrypted | bytes | Decrypted byte string |

## Dependencies
- argparse
- datetime
- functools
- hashlib
- base64
- os
- textwrap
- cryptography.fernet
- collections.abc
- requests
- mindsdb_sql
- mindsdb.utilities.fs
- mindsdb.utilities.log
- mindsdb.utilities.config

## Error Handling
The code includes basic error handling, primarily using try-except blocks to catch and log errors. Some functions may raise exceptions for invalid inputs or failed operations.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.