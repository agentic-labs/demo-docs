---
title: "2022-07-22_6e834843e7e9_training_time.py"
---

## High-level description
This code represents an Alembic migration script for a database schema change in the MindsDB project. It adds two new columns, 'training_start_at' and 'training_stop_at', to the 'predictor' table to track the start and end times of model training.

## Symbols

### `upgrade()`
#### Description
This function defines the changes to be applied to the database schema when upgrading to this revision.

#### Internal Logic
1. Uses a batch alter table operation on the 'predictor' table.
2. Adds two new columns:
   - 'training_start_at': A DateTime column to store the start time of training.
   - 'training_stop_at': A DateTime column to store the end time of training.

### `downgrade()`
#### Description
This function defines the changes to be applied to the database schema when downgrading from this revision.

#### Internal Logic
1. Uses a batch alter table operation on the 'predictor' table.
2. Drops the two columns added in the upgrade function:
   - 'training_stop_at'
   - 'training_start_at'

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| alembic | Database migration tool used for managing schema changes |
| sqlalchemy | SQL toolkit and ORM used for database operations |
| mindsdb.interfaces.storage.db | MindsDB-specific database interface (imported but not directly used in this script) |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| revision | string | '6e834843e7e9' | Unique identifier for this migration |
| down_revision | string | 'b5b53e0ea7f8' | Identifier of the previous migration in the sequence |
| branch_labels | None | None | Used for branching in migration history |
| depends_on | None | None | Specifies dependencies on other migrations |

## Notes
1. This migration is part of a sequence, with 'b5b53e0ea7f8' being the previous migration.
2. The script uses Alembic's batch operations, which are typically used for databases that don't support transactional DDL.
3. The import of `mindsdb.interfaces.storage.db` is marked with a `# noqa` comment, indicating that it's intentionally imported without being used directly in this file.
4. The script includes auto-generated comments from Alembic, suggesting that manual adjustments might be necessary in some cases.