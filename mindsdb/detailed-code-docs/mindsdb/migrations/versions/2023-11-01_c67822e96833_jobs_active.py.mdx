---
title: "2023-11-01_c67822e96833_jobs_active.py"
---

## High-level description
This code represents an Alembic migration script for adding an 'active' column to the 'jobs' table in a database schema. It defines both upgrade and downgrade operations to add and remove the column, respectively.

## Symbols

### `upgrade()`
#### Description
This function defines the database schema changes to be applied when upgrading the database.

#### Internal Logic
1. Uses `op.batch_alter_table()` to start a batch operation on the 'jobs' table.
2. Adds a new column named 'active' of type Boolean to the 'jobs' table.

### `downgrade()`
#### Description
This function defines the database schema changes to be applied when downgrading the database.

#### Internal Logic
1. Uses `op.batch_alter_table()` to start a batch operation on the 'jobs' table.
2. Removes the 'active' column from the 'jobs' table.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| alembic | Provides database migration tools and utilities |
| sqlalchemy | Used for defining database schema and operations |
| mindsdb.interfaces.storage.db | Imported but not directly used in this script |

## References
This migration script references the 'jobs' table, which is defined in the related `mindsdb/interfaces/storage/db.py` file. The `Jobs` class in that file represents the 'jobs' table and already includes an 'active' column with a default value of True:

```python
class Jobs(Base):
    __tablename__ = "jobs"
    # ... other columns ...
    active = Column(Boolean, default=True)
    # ... other columns ...
```

This migration script appears to be adding the 'active' column to an existing 'jobs' table that didn't previously have this column. This ensures that older database schemas are updated to include the 'active' column, aligning them with the current `Jobs` class definition.