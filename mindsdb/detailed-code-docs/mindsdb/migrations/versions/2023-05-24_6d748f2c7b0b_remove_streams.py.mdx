---
title: "2023-05-24_6d748f2c7b0b_remove_streams.py"
---

## High-level description
This code defines an Alembic migration script to remove the 'stream' table from the database. It includes both upgrade and downgrade operations, allowing for the removal and recreation of the table respectively.

## Symbols

### `upgrade()`
#### Description
This function defines the upgrade operation for the migration, which removes the 'stream' table from the database.

#### Internal Logic
The function uses the `op.drop_table()` method to remove the 'stream' table from the database.

### `downgrade()`
#### Description
This function defines the downgrade operation for the migration, which recreates the 'stream' table in the database.

#### Internal Logic
The function uses the `op.create_table()` method to recreate the 'stream' table with its original structure and columns.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| alembic | Used for database migrations |
| sqlalchemy | Used for defining database schema |
| mindsdb.interfaces.storage.db | Imported but not directly used in this file |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| revision | str | '6d748f2c7b0b' | Unique identifier for this migration |
| down_revision | str | 'b8be148dbc85' | Identifier of the previous migration |
| branch_labels | None | None | No branch labels specified |
| depends_on | None | None | No dependencies specified |

## Notes
1. This migration script is part of a series of database schema changes managed by Alembic.
2. The 'stream' table being removed had columns for id, name, stream_in, stream_out, anomaly_stream, integration, predictor, company_id, updated_at, created_at, type, connection_info, learning_params, and learning_threshold.
3. The downgrade function recreates the table with the exact same structure as it was before removal, ensuring reversibility of the migration.
4. The import of `mindsdb.interfaces.storage.db` is present but not directly used in this file. It might be required for some Alembic or SQLAlchemy operations that are not explicitly visible in this script.