---
title: "file_loader.py"
---

## High-level description
The `FileLoader` class in `file_loader.py` is a utility for loading various file types into a vector database document representation. It supports multiple file formats including PDF, CSV, HTML, Markdown, and plain text, providing a unified interface to load these files as `Document` objects.

## Code Structure
The `FileLoader` class extends `BaseLoader` and contains methods to determine the appropriate loader based on file extension, load documents from files, and convert file contents into `Document` objects. The main functionality is exposed through the `load()` and `lazy_load()` methods.

## Symbols

### FileLoader
#### Description
A class that loads files of various types into a vector database document representation. It supports different file formats and provides both eager and lazy loading options.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| path | str | The file path to be loaded |

#### Internal Logic
1. Determines the appropriate loader based on the file extension.
2. Loads the file content using the selected loader.
3. Adds metadata (file extension) to each loaded document.
4. Provides both eager (`load()`) and lazy (`lazy_load()`) loading options.

### _get_loader_from_extension
#### Description
A private method that selects the appropriate loader based on the file extension.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| extension | str | The file extension |
| path | str | The file path |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| loader | BaseLoader | The appropriate loader for the given file type |

### _lazy_load_documents_from_file
#### Description
A private method that lazily loads documents from a file, adding metadata about the file extension.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| path | str | The file path to be loaded |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| doc | Iterator[Document] | An iterator of Document objects |

### load
#### Description
Eagerly loads a file and converts the contents into a list of Document objects.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| documents | List[Document] | A list of Document objects representing the file contents |

### lazy_load
#### Description
Lazily loads a file and converts the contents into an iterator of Document objects.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| documents | Iterator[Document] | An iterator of Document objects representing the file contents |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| langchain_community.document_loaders | Provides various document loaders for different file types |
| langchain_core.documents.base | Defines the Document class used for representing loaded content |

## Error Handling
The code does not implement specific error handling mechanisms. It relies on the underlying loaders to handle file-specific errors.

## References
The `FileLoader` class is used in the `knowledge_bases.py` file for inserting file contents into a knowledge base. It's also tested in `test_file_loader.py`, which verifies its functionality with various file types.

This documentation provides a comprehensive overview of the `FileLoader` class and its functionality, focusing on its purpose, structure, and usage within the larger system.