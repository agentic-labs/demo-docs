---
title: "test_utils.py"
---

## High-level description
This code defines a mock handler controller and connection data for testing purposes, specifically for a PostgreSQL database connection. It sets up a simulated environment for testing database interactions without connecting to a real database.

## Code Structure
The code defines constants for connection data and a mock handler controller class. The `HandlerControllerMock` class simulates the behavior of a real handler controller, storing and retrieving database handlers.

## Symbols

### `PG_HANDLER_NAME`
#### Description
A constant string representing the name of the test handler.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A | str | The value is directly assigned |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| PG_HANDLER_NAME | str | The string 'test_handler' |

### `PG_CONNECTION_DATA`
#### Description
A dictionary containing connection details for a PostgreSQL database.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A | dict | The values are directly assigned |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| PG_CONNECTION_DATA | dict | A dictionary with PostgreSQL connection parameters |

### `HandlerControllerMock`
#### Description
A class that mocks the behavior of a handler controller, used for testing purposes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A | N/A | The class doesn't take any inputs upon instantiation |

#### Internal Logic
1. Initializes a `handlers` dictionary with a single PostgreSQL handler using the `PG_HANDLER_NAME` and `PG_CONNECTION_DATA`.
2. Provides methods to retrieve handlers and handler information.

### `HandlerControllerMock.get_handler`
#### Description
A method that retrieves a handler by name from the `handlers` dictionary.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the handler to retrieve |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handler | Handler | The requested handler object |

### `HandlerControllerMock.get`
#### Description
A method that returns a dictionary with basic information about a handler.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the handler to get information for (unused in the current implementation) |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handler_info | dict | A dictionary containing the handler's id and name |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb.integrations.handlers.postgres_handler | Imports the PostgreSQL handler class |

## Notes
This code is designed for testing purposes and sets up a mock environment for PostgreSQL database interactions. It doesn't connect to a real database but provides a structure to simulate database operations in tests.