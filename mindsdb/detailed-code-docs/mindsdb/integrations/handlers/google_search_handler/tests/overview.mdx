---
title: "Overview"
---

## High-level description
This directory contains unit tests for the Google Search Console Handler, which is part of the MindsDB integrations. The tests are designed to verify the functionality of the `GoogleSearchConsoleHandler` class, ensuring it can properly interact with the Google Search Console API.

## What does it do?
The test suite in this directory performs a series of checks on the Google Search Console Handler to ensure it works correctly. It verifies that the handler can:

1. Establish a connection to the Google Search Console API
2. Retrieve a list of available tables
3. Execute select queries on the Analytics table to fetch click data
4. Execute select queries on the Sitemaps table to fetch sitemap information
5. Perform insert operations to add new sitemaps
6. Perform delete operations to remove sitemaps

These tests simulate the typical workflows that a user might perform when interacting with Google Search Console data through MindsDB, ensuring that the integration functions as expected.

## Key Files
The main file in this directory is:

### test_google_search_handler.py
This file contains the `GoogleSearchConsoleHandlerTest` class, which is a subclass of `unittest.TestCase`. It includes several test methods, each focusing on a specific aspect of the `GoogleSearchConsoleHandler`:

1. `test_0_check_connection`: Verifies that the handler can successfully connect to the Google Search Console API.
2. `test_1_get_tables`: Checks if the handler can retrieve a list of available tables from the API.
3. `test_2_select_analytics_query`: Tests the execution of a select query on the Analytics table.
4. `test_3_select_sitemaps_query`: Tests the execution of a select query on the Sitemaps table.
5. `test_4_insert_sitemaps_query`: Verifies the ability to insert a new sitemap using an SQL-like query.
6. `test_5_delete_sitemaps_query`: Checks if the handler can delete a sitemap using an SQL-like query.

The test methods use SQL-like query strings to interact with the Google Search Console API, demonstrating how MindsDB translates these queries into API calls.

## Dependencies
The test suite relies on the following dependencies:

1. `unittest`: The Python standard library's testing framework, used as the base for the test class.
2. `mindsdb.integrations.handlers.google_search_handler.google_search_handler`: Contains the `GoogleSearchConsoleHandler` class being tested.
3. `mindsdb.api.executor.data_types.response_type`: Provides the `RESPONSE_TYPE` enum for checking response types.

## Configuration
The test suite uses placeholder credentials and file paths for authentication with the Google Search Console API. In a real testing environment, these would need to be replaced with valid values:

```python
connection_args = {
    "credentials_file": "/path/to/your/credentials.json",
    "property_url": "https://www.example.com/"
}
```

It's important to note that the insert and delete tests may modify actual data in the Google Search Console. Care should be taken when running these tests against a production account to avoid unintended data changes.

The tests primarily check the response types rather than the content of the responses. This approach ensures that the handler is communicating with the API correctly and returning the expected types of data, without making assumptions about the specific data that might be returned.

In summary, this test directory provides a comprehensive suite of unit tests to ensure the reliability and correctness of the Google Search Console Handler in MindsDB. It covers the main operations that the handler should be able to perform, helping to catch any issues in the integration between MindsDB and the Google Search Console API.