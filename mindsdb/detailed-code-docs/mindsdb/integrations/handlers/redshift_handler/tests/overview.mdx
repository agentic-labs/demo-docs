---
title: "Overview"
---

## High-level description
This directory contains test files for the Redshift handler in the MindsDB integration framework. It includes a SQL seed file for setting up test data and a Python test file that defines unit tests for various functionalities of the RedshiftHandler class.

## What does it do?
The test suite in this directory serves to verify the correct operation of the RedshiftHandler, which is responsible for interacting with Amazon Redshift databases. It sets up a test environment, populates it with sample data, and then runs a series of tests to ensure that the handler can perform essential operations such as connecting to the database, executing queries, managing tables, and retrieving column information.

## Key Files

1. `seed.sql`:
   This SQL script creates a test table named 'TEST' in a Redshift database and populates it with sample data. It sets up a basic data structure for testing purposes, creating a table with four columns of different data types and inserting three rows of sample data.

2. `test_redshift_handler.py`:
   This Python file contains the main test suite for the RedshiftHandler. It defines several test classes, each focusing on a specific aspect of the handler's functionality:
   - TestRedshiftHandlerConnection: Tests connection-related functionality
   - TestRedshiftHandlerQuery: Tests query execution functionality
   - TestRedshiftHandlerTables: Tests table operations functionality
   - TestRedshiftHandlerColumns: Tests column retrieval functionality
   - TestRedshiftHandlerDisconnect: Tests disconnection functionality

   The file also includes utility functions and fixtures for setting up the test environment, such as `seed_db()` which creates and populates the test database, and `handler()` which provides a RedshiftHandler instance for testing.

## Dependencies
The test suite relies on the following external libraries:
- pytest: Used as the testing framework
- psycopg: PostgreSQL database adapter, used for interacting with the Redshift database (Redshift is based on PostgreSQL)

## Configuration
The test suite uses environment variables for configuration:
- MDB_TEST_REDSHIFT_HOST: Redshift host (default: "127.0.0.1")
- MDB_TEST_REDSHIFT_PORT: Redshift port (default: "5439")
- MDB_TEST_REDSHIFT_USER: Redshift username (default: "redshift")
- MDB_TEST_REDSHIFT_PASSWORD: Redshift password (default: "supersecret")
- MDB_TEST_REDSHIFT_DATABASE: Redshift database name (default: "redshift_db_handler_test")

These environment variables allow for flexible configuration of the test environment, enabling tests to be run against different Redshift instances as needed.

The test suite is designed to work with Amazon Redshift, which is a fully managed, petabyte-scale data warehouse service in the cloud, part of the Amazon Web Services (AWS) ecosystem. The tests leverage the similarity between Redshift and PostgreSQL, inheriting from corresponding PostgreSQL test classes where appropriate.

In summary, this directory contains a comprehensive test suite for the RedshiftHandler, ensuring its reliability and correctness in interacting with Amazon Redshift databases within the MindsDB integration framework.