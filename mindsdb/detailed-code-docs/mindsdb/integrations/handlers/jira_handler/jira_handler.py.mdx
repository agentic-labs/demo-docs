---
title: "jira_handler.py"
---

## High-level description
The `JiraHandler` class is an API handler for connecting to and interacting with Jira, an issue tracking and project management tool. It provides functionality to establish a connection, execute queries, and manage projects within Jira.

## Code Structure
The `JiraHandler` class inherits from `APIHandler` and implements methods for connecting to Jira, executing queries, and managing the connection. It uses the `Jira` class from the `atlassian` library to interact with the Jira API.

## Symbols

### `JiraHandler`
#### Description
This class handles the connection and execution of Jira-related operations. It initializes the connection, manages the connection state, and provides methods for interacting with Jira projects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | Name of the handler instance |
| connection_data | dict | Parameters for connecting to Jira |

#### Internal Logic
- Initializes the connection data and parser
- Registers a `JiraProjectsTable` for handling project-related queries
- Implements methods for connecting, disconnecting, and checking the connection status
- Provides a method for executing native queries

### `connect`
#### Description
Establishes a connection to the Jira API using the provided credentials.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| connection | Jira | Jira connection object |

#### Internal Logic
- Creates a session with the Jira API token
- Initializes a `Jira` object with the provided URL and session

### `disconnect`
#### Description
Closes the existing Jira connection.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| is_connected | bool | Connection status after disconnection |

### `check_connection`
#### Description
Verifies the connection to the Jira API.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | StatusResponse | Connection status response |

#### Internal Logic
- Attempts to connect to Jira
- Returns a `StatusResponse` object indicating success or failure

### `native_query`
#### Description
Executes a native SQL query on the Jira data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | str | SQL query string |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | StatusResponse | Query execution status and results |

#### Internal Logic
- Parses the SQL query
- Executes the query using the internal query method

### `construct_jql`
#### Description
Constructs a Jira Query Language (JQL) string based on the connection data.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| jql | str | Constructed JQL string |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb_sql | SQL parsing |
| atlassian | Jira API interaction |
| requests | HTTP requests handling |

## Error Handling
The class implements basic error handling in the `check_connection` method, catching exceptions and logging errors when connecting to the Jira API fails.

## Side Effects
- Establishes and maintains a connection to the Jira API
- Modifies the `is_connected` state of the handler

This handler provides a bridge between MindsDB and Jira, allowing users to query and interact with Jira project data using SQL-like syntax. It manages the connection lifecycle and provides methods for executing queries and constructing Jira-specific query language (JQL) strings.