---
title: "test_lindorm_handler.py"
---

## High-level description
This code defines a unit test class `LindormHandlerTest` for testing the functionality of the `LindormHandler` class. It includes tests for connection checking, executing native queries, and retrieving table and column information from a Lindorm database.

## Code Structure
The `LindormHandlerTest` class inherits from `unittest.TestCase` and contains several test methods. Each test method focuses on a specific functionality of the `LindormHandler` class.

## References
- `mindsdb.integrations.handlers.lindorm_handler.lindorm_handler.LindormHandler`
- `mindsdb.api.executor.data_types.response_type.RESPONSE_TYPE`

## Symbols

### LindormHandlerTest
#### Description
A test class that inherits from `unittest.TestCase`, designed to test the functionality of the `LindormHandler` class.

#### Internal Logic
1. Sets up a `LindormHandler` instance with test configuration in the `setUpClass` method.
2. Defines four test methods to check different aspects of the `LindormHandler` functionality.

### setUpClass
#### Description
A class method that sets up the test environment by creating a `LindormHandler` instance with test configuration.

#### Inputs
None (class method)

#### Internal Logic
1. Defines a dictionary `kwargs` with connection parameters for the Lindorm database.
2. Creates an instance of `LindormHandler` with the name 'test_phoenix_handler' and the `kwargs` configuration.

### test_0_check_connection
#### Description
Tests the `check_connection` method of the `LindormHandler`.

#### Internal Logic
Asserts that the `check_connection` method returns `True`.

### test_1_native_query_select
#### Description
Tests the `native_query` method of the `LindormHandler` with a SELECT query.

#### Internal Logic
1. Defines a SELECT query.
2. Executes the query using the `native_query` method.
3. Asserts that the result type is `RESPONSE_TYPE.TABLE`.

### test_2_get_tables
#### Description
Tests the `get_tables` method of the `LindormHandler`.

#### Internal Logic
1. Calls the `get_tables` method.
2. Asserts that the result type is not `RESPONSE_TYPE.ERROR`.

### test_3_get_columns
#### Description
Tests the `get_columns` method of the `LindormHandler`.

#### Internal Logic
1. Calls the `get_columns` method with the table name 'USERS'.
2. Asserts that the result type is not `RESPONSE_TYPE.ERROR`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| unittest | Provides the testing framework |
| mindsdb.integrations.handlers.lindorm_handler.lindorm_handler.LindormHandler | The main class being tested |
| mindsdb.api.executor.data_types.response_type.RESPONSE_TYPE | Enum for response types |

## Error Handling
The test methods use assertions to check for expected outcomes. If any assertion fails, the test will raise an `AssertionError`.

## Notes
1. The tests assume that there is a running Lindorm database instance accessible at 'http://127.0.0.1:8765'.
2. The tests also assume that there is a table named 'USERS' in the database.
3. The test methods are numbered (0-3) to ensure a specific execution order.
4. The `unittest.main()` call at the end allows the tests to be run directly if the script is executed.