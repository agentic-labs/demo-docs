---
title: "nuo_jdbc_handler.py"
---

## High-level description
The `NuoHandler` class is a database handler for NuoDB, enabling MindsDB to connect to and interact with NuoDB databases using the JDBC connector. It provides methods for connecting, querying, retrieving table and column information, and handling transactions.

## Code Structure
The `NuoHandler` class inherits from the `DatabaseHandler` class, which in turn inherits from the `BaseHandler` class. It utilizes the `jaydebeapi` library for JDBC connectivity and `pandas` for data manipulation. The class defines methods for connecting to the database, executing queries, retrieving schema information, and managing the connection.

## References
This code references the following symbols from other parts of the codebase:
- `mindsdb.integrations.libs.base.DatabaseHandler`: The parent class for database handlers.
- `mindsdb.utilities.log`: For logging purposes.
- `mindsdb_sql.parse_sql`: For parsing SQL queries.
- `mindsdb.integrations.libs.response`: For handling responses from the handler.
- `pandas`: For data manipulation and representation.
- `jaydebeapi`: For JDBC connectivity.

## Symbols

### `NuoHandler`
#### Description
This class handles the interaction with NuoDB databases. It provides methods for connecting to the database, executing queries, retrieving schema information, and managing the connection.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the handler instance. |
| connection_data | dict | A dictionary containing the connection parameters for the NuoDB database. |
| **kwargs | dict | Arbitrary keyword arguments. |

#### Outputs
This class does not directly return any values. Its methods return objects like `StatusResponse` and `Response` to indicate the status of operations and return data.

#### Internal Logic
The class initializes by setting up connection parameters, a SQL parser, and connection flags. It then defines methods for:
- `connect()`: Establishes a connection to the NuoDB database using the provided connection parameters and JDBC driver.
- `construct_jdbc_url()`: Constructs the JDBC connection URL based on the provided connection parameters.
- `disconnect()`: Closes the connection to the NuoDB database.
- `check_connection()`: Checks the connection to the database and returns a `StatusResponse` object indicating the status.
- `native_query()`: Executes a raw SQL query and returns a `Response` object containing the result.
- `query()`: Parses an AST representation of a SQL query and executes it using `native_query()`.
- `get_tables()`: Retrieves a list of tables from the database and returns them in a `Response` object.
- `get_columns()`: Retrieves column information for a given table and returns it in a `Response` object.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb_sql | Used for parsing SQL queries. |
| pandas | Used for data manipulation and representation. |
| jaydebeapi | Used for JDBC connectivity to NuoDB. |

## Error Handling
The `NuoHandler` class implements basic error handling by catching exceptions during connection, query execution, and disconnection. It logs the errors and returns appropriate error messages in the `StatusResponse` or `Response` objects.

## Logging
The class utilizes the `mindsdb.utilities.log` module for logging purposes. It logs errors encountered during connection, query execution, and disconnection.
