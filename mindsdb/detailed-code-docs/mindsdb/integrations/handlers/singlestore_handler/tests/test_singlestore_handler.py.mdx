---
title: "test_singlestore_handler.py"
---

## High-level description
This code defines a unit test class `MySQLHandlerTest` for testing the functionality of the `MySQLHandler` class. It includes tests for connecting to a MySQL database, executing native queries, and performing various database operations.

## Code Structure
The `MySQLHandlerTest` class inherits from `unittest.TestCase` and contains several test methods that check different aspects of the `MySQLHandler` functionality.

## Symbols

### MySQLHandlerTest
#### Description
A test class that verifies the functionality of the `MySQLHandler` class.

#### Internal Logic
1. Sets up a `MySQLHandler` instance with test connection parameters in the `setUpClass` method.
2. Defines multiple test methods to check various functionalities of the `MySQLHandler`.

### test_0_connect
#### Description
Tests the connection to the MySQL database.

#### Internal Logic
Calls the `check_connection` method of the `MySQLHandler` instance.

### test_1_native_query_show_dbs
#### Description
Tests the execution of a native SQL query to show databases.

#### Internal Logic
1. Executes the "SHOW DATABASES;" query using the `native_query` method.
2. Asserts that the response type is not an error.

### test_2_get_tables
#### Description
Tests the retrieval of tables from the connected database.

#### Internal Logic
1. Calls the `get_tables` method of the `MySQLHandler` instance.
2. Asserts that the response type is not an error.

### test_5_drop_table
#### Description
Tests dropping a table named "test_mdb" if it exists.

#### Internal Logic
1. Executes a DROP TABLE query using the `native_query` method.
2. Asserts that the response type is not an error.

### test_4_create_table
#### Description
Tests creating a table named "test_mdb" with a single column.

#### Internal Logic
1. Executes a CREATE TABLE query using the `native_query` method.
2. Asserts that the response type is not an error.

### test_7_select_query
#### Description
Tests executing a SELECT query on the "test_mdb" table.

#### Internal Logic
1. Executes a SELECT query using the `native_query` method.
2. Asserts that the response type is a TABLE.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| unittest | Provides the testing framework |
| mindsdb.integrations.handlers.mysql_handler.mysql_handler | Imports the MySQLHandler class |
| mindsdb.api.executor.data_types.response_type | Imports the RESPONSE_TYPE enum |

## Notes
1. The test methods are not executed in the order they are defined. The numbers in the method names do not affect the execution order.
2. The tests assume that a MySQL server is running on localhost with the specified connection parameters.
3. The `setUpClass` method sets up a single `MySQLHandler` instance used by all test methods, which is more efficient than creating a new instance for each test.
4. The tests focus on checking the response types rather than the actual content of the responses, which might be sufficient for basic functionality testing but may not catch all potential issues.
5. The test for selecting from the "test_mdb" table uses a WHERE clause that may not match any rows, depending on the table's content.