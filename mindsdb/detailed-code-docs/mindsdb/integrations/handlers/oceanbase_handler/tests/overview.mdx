---
title: "Overview"
---

## High-level description
This directory contains unit tests for the OceanBaseHandler, which is part of the MindsDB integrations for the OceanBase database. The tests are designed to verify the functionality of various operations performed by the OceanBaseHandler, including connection establishment, table creation, data insertion, querying, and metadata retrieval.

## What does it do?
The test suite in this directory performs a series of checks to ensure that the OceanBaseHandler can:

1. Successfully connect to an OceanBase database
2. Create tables in the database
3. Insert data into the created tables
4. Execute SELECT queries and retrieve results
5. Fetch metadata about tables and columns in the database
6. Clean up by dropping the test table after the tests are complete

These tests simulate the typical workflow of interacting with an OceanBase database through the MindsDB integration, verifying that each step works as expected.

## Key Files
The main file in this directory is:

1. `test_oceanbase_handler.py`: This file contains the `OceanBaseHandlerTest` class, which is a unittest.TestCase subclass. It includes multiple test methods that sequentially test different aspects of the OceanBaseHandler.

The test methods in `test_oceanbase_handler.py` are:

- `test_0_check_connection`: Verifies that the connection check method works correctly.
- `test_1_connect`: Ensures that the handler can establish a connection to the database.
- `test_2_create_table`: Tests the ability to create a new table in the database.
- `test_3_insert`: Checks if data can be inserted into the created table.
- `test_4_native_query_select`: Verifies that SELECT queries can be executed and return results.
- `test_5_get_tables`: Tests the retrieval of table metadata.
- `test_6_get_columns`: Checks the retrieval of column metadata and cleans up by dropping the test table.

## Dependencies
The test suite relies on the following dependencies:

1. `unittest`: The Python standard library's testing framework, used as the base for creating and running the tests.
2. `mindsdb.integrations.handlers.oceanbase_handler.oceanbase_handler`: Contains the OceanBaseHandler class being tested.
3. `mindsdb.integrations.libs.response`: Provides the RESPONSE_TYPE enum for asserting response types.

## Configuration
The tests use a predefined set of connection details for the OceanBase database. These details are hardcoded in the `setUpClass` method of the `OceanBaseHandlerTest` class:

```python
connection_data = {
    "host": "localhost",
    "port": 2881,
    "user": "root@test",
    "password": "",
    "database": "test",
    "tenant": "test"
}
```

To run these tests successfully, you would need to have an OceanBase database instance running with the specified configuration. If your setup differs, you would need to modify these connection details accordingly.

The tests create a table named "Lover" for testing purposes, which is dropped at the end of the test suite. Ensure that the specified database user has the necessary permissions to create and drop tables, as well as insert and query data.

In summary, this directory contains a comprehensive test suite for the OceanBaseHandler, ensuring its reliability and correctness when interacting with an OceanBase database within the MindsDB ecosystem.