---
title: "Overview"
---

## High-level description
This directory contains the implementation of the Cloud Spanner handler for MindsDB, which provides integration with Google Cloud Spanner, a fully managed, mission-critical, relational database service. The handler allows MindsDB to connect to, query, and manage Cloud Spanner databases using both GoogleSQL and PostgreSQL dialects.

## What does it do?
The Cloud Spanner handler enables MindsDB to:
1. Establish connections to Cloud Spanner databases using provided credentials and instance information.
2. Execute SQL queries on Cloud Spanner databases, supporting both native queries and parsed AST queries.
3. Retrieve metadata about tables and columns in the connected database.
4. Perform database operations such as creating tables, inserting data, and dropping tables.
5. Handle different SQL dialects (GoogleSQL and PostgreSQL) supported by Cloud Spanner.

The handler provides a seamless interface for MindsDB to interact with Cloud Spanner, allowing users to leverage Cloud Spanner's global scale and high availability within the MindsDB ecosystem.

## Entry points
The main entry point for the Cloud Spanner handler is the `CloudSpannerHandler` class defined in `cloud_spanner_handler.py`. This class inherits from `DatabaseHandler` and implements the necessary methods for connecting to and interacting with Cloud Spanner databases.

The handler is initialized and used through the MindsDB integration system, which uses the metadata and connection arguments defined in `__init__.py` and `connection_args.py` to set up the handler.

## Key Files
1. `cloud_spanner_handler.py`: Contains the `CloudSpannerHandler` class, which is the core implementation of the handler. It provides methods for connecting to Cloud Spanner, executing queries, and retrieving database information.

2. `connection_args.py`: Defines the connection arguments required for connecting to a Cloud Spanner database, including instance ID, database ID, project ID, and credentials.

3. `__init__.py`: Sets up the handler metadata and handles imports, making the handler available to the MindsDB system.

4. `README.md`: Provides documentation on the Cloud Spanner handler, including usage instructions and supported features.

5. `__about__.py`: Contains metadata about the handler package, such as version and author information.

## Dependencies
The Cloud Spanner handler relies on the following key dependencies:
- `google-cloud-spanner`: The official Google Cloud client library for Cloud Spanner.
- `google-cloud-spanner-dbapi`: Provides a DB-API 2.0 interface for Cloud Spanner.
- `sqlalchemy-spanner`: SQLAlchemy dialect for Cloud Spanner.
- `pandas`: Used for data manipulation and creating DataFrames from query results.
- `mindsdb_sql`: MindsDB's SQL parsing and rendering library.

## Configuration
The handler uses the following configuration parameters:
- `instance_id`: The Cloud Spanner instance identifier.
- `database_id`: The Cloud Spanner database identifier.
- `project`: The identifier of the project that owns the Cloud Spanner resources.
- `credentials`: A stringified GCP service account key JSON.
- `dialect` (optional): Specifies the SQL dialect to use (default is 'googlesql', alternative is 'postgres').

These parameters are defined in `connection_args.py` and are used to establish connections to Cloud Spanner databases.

The handler supports two SQL dialects: GoogleSQL (ANSI 2011 with extensions) and PostgreSQL, although not all PostgreSQL features are supported in Cloud Spanner.

In conclusion, the Cloud Spanner handler provides a robust integration between MindsDB and Google Cloud Spanner, enabling users to leverage Cloud Spanner's powerful features within the MindsDB ecosystem. The handler's implementation covers essential database operations and metadata retrieval, making it a valuable tool for working with globally distributed, highly available relational databases in MindsDB.