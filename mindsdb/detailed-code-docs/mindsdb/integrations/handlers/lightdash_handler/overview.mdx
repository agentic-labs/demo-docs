---
title: "Overview"
---

## High-level description
This code defines a set of classes that implement a handler for interacting with Lightdash, a business intelligence and data visualization platform. The handler provides methods for connecting to a Lightdash instance, checking the connection status, and executing queries against various Lightdash data models.

## What does it do?
The Lightdash handler allows MindsDB to integrate with Lightdash, enabling users to:
1. Connect to a Lightdash instance using an API key and base URL.
2. Check the status of the connection to Lightdash.
3. Execute SQL-like queries against Lightdash data models, such as users, organizations, projects, charts, and more.
4. Retrieve and filter data from Lightdash based on these queries.

The handler translates SQL queries into appropriate API calls to Lightdash, fetches the data, and returns it in a format compatible with MindsDB's query engine.

## Entry points
The main entry point for this integration is the `LightdashHandler` class in `lightdash_handler.py`. This class inherits from `APIHandler` and provides the core functionality for interacting with Lightdash.

Key methods in `LightdashHandler` include:
- `connect()`: Establishes a connection to the Lightdash instance.
- `check_connection()`: Verifies if the connection to Lightdash is active.
- `native_query(query: str)`: Parses and executes a native SQL query against Lightdash.

The `LightdashHandler` class uses various table classes defined in `lightdash_tables.py` to handle specific data models within Lightdash. These table classes inherit from a base `CustomAPITable` class and implement the logic for fetching and filtering data for each Lightdash entity (e.g., users, projects, charts).

## Key Files
1. `lightdash_handler.py`: Contains the `LightdashHandler` class, which is the main interface for the Lightdash integration.
2. `lightdash_tables.py`: Defines various table classes that represent different data models in Lightdash and handle data retrieval and filtering.
3. `api.py`: Implements the `Lightdash` class, which provides low-level methods for interacting with the Lightdash API.

## Dependencies
- `mindsdb_sql`: Used for parsing SQL queries.
- `mindsdb.integrations.libs.api_handler`: Provides base classes for API handlers and tables.
- `mindsdb.integrations.libs.response`: Used for returning status responses.
- `pandas`: Used for data manipulation and filtering.
- `requests`: Used for making HTTP requests to the Lightdash API.

## Configuration
The Lightdash handler requires the following configuration parameters:
- `api_key`: The API token for accessing the Lightdash instance.
- `base_url`: The base URL of the Lightdash instance.

These parameters are used to initialize the connection to Lightdash and authenticate API requests.

In conclusion, this Lightdash handler provides a bridge between MindsDB and Lightdash, allowing users to query Lightdash data using SQL-like syntax within the MindsDB ecosystem. It abstracts the complexities of the Lightdash API, providing a familiar interface for data retrieval and analysis.