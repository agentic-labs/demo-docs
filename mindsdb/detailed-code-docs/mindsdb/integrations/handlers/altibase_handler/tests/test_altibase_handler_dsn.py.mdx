---
title: "test_altibase_handler_dsn.py"
---

## High-level description
This code is a unit test suite for the AltibaseHandler class, which is part of the MindsDB integration with Altibase database. It tests various database operations such as connecting, creating tables, inserting data, querying data, and disconnecting using the Altibase handler.

## Code Structure
The code defines a single test class `AltibaseHandlerTest` that inherits from `unittest.TestCase`. It contains multiple test methods that sequentially test different functionalities of the AltibaseHandler.

## Symbols

### AltibaseHandlerTest
#### Description
This class is a test suite for the AltibaseHandler. It sets up a connection to an Altibase database using DSN (Data Source Name) and runs various tests to ensure the handler's functionality.

#### Internal Logic
1. Sets up connection data using DSN in the `setUpClass` method.
2. Initializes an AltibaseHandler instance.
3. Runs a series of tests in a specific order to check different database operations.

### test_0_connect
#### Description
Tests the connection to the Altibase database.

#### Internal Logic
Calls the `connect` method of the handler and asserts that it returns True.

### test_1_drop_table
#### Description
Tests dropping a table named TEST_TABLE.

#### Internal Logic
Executes a DROP TABLE query and asserts that the response type is OK.

### test_2_create_table
#### Description
Tests creating a new table named TEST_TABLE with two columns: ID (INT) and NAME (VARCHAR).

#### Internal Logic
Executes a CREATE TABLE query and asserts that the response type is OK.

### test_3_insert
#### Description
Tests inserting three rows of data into the TEST_TABLE.

#### Internal Logic
Executes an INSERT query with multiple values and asserts that the response type is OK.

### test_4_select
#### Description
Tests selecting all data from the TEST_TABLE.

#### Internal Logic
Executes a SELECT query and asserts that the response type is TABLE.

### test_5_check_connection
#### Description
Tests the check_connection method of the handler.

#### Internal Logic
Calls the `check_connection` method and asserts that it returns True.

### test_6_get_tables
#### Description
Tests retrieving the list of tables from the database.

#### Internal Logic
Calls the `get_tables` method and asserts that the response type is TABLE.

### test_7_get_columns
#### Description
Tests retrieving the columns of the TEST_TABLE.

#### Internal Logic
Calls the `get_columns` method with "TEST_TABLE" as an argument and asserts that the response type is TABLE.

### test_8_disconnect
#### Description
Tests disconnecting from the Altibase database.

#### Internal Logic
Calls the `disconnect` method of the handler and asserts that it returns True.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| unittest | Provides the testing framework |
| mindsdb.integrations.handlers.altibase_handler.altibase_handler | Imports the AltibaseHandler class |
| mindsdb.api.executor.data_types.response_type | Imports the RESPONSE_TYPE enum |

## Notes
1. The tests are numbered to ensure they run in a specific order, which is important for the logical flow of database operations (connect, create table, insert data, query data, disconnect).
2. The connection data uses a DSN (Data Source Name) "altiodbc" instead of individual connection parameters like host, port, user, and password.
3. The code includes commented-out connection parameters, suggesting that the test can be adapted to use direct connection details instead of DSN if needed.
4. The test suite does not include any cleanup operations (like dropping the created table) after all tests are completed.