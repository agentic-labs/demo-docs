---
title: "shopify_tables.py"
---

## High-level description
This code implements various table classes for interacting with Shopify's API endpoints. It provides functionality for selecting, inserting, updating, and deleting data from different Shopify resources such as products, customers, orders, inventory, locations, customer reviews, carrier services, shipping zones, and sales channels.

## Code Structure
The code defines several classes, each representing a different Shopify resource:
- ProductsTable
- CustomersTable
- OrdersTable
- InventoryLevelTable
- LocationTable
- CustomerReviews
- CarrierServiceTable
- ShippingZoneTable
- SalesChannelTable

Each class inherits from APITable and implements methods for interacting with the corresponding Shopify API endpoint.

## References
The code references various utility classes from the `mindsdb.integrations.utilities.handlers.query_utilities` module, including SELECTQueryParser, SELECTQueryExecutor, INSERTQueryParser, UPDATEQueryParser, UPDATEQueryExecutor, DELETEQueryParser, and DELETEQueryExecutor.

## Symbols

### ProductsTable
#### Description
Implements functionality for interacting with Shopify's Products API endpoint.

#### Methods
- select: Retrieves product data based on a given SQL SELECT query.
- insert: Inserts new product data.
- delete: Deletes product data.
- update: Updates existing product data.
- get_columns: Returns the list of columns for the products table.
- get_products: Retrieves product data from Shopify API.
- update_products: Updates product data in Shopify.
- delete_products: Deletes products from Shopify.
- create_products: Creates new products in Shopify.

### CustomersTable
#### Description
Implements functionality for interacting with Shopify's Customers API endpoint.

#### Methods
- select: Retrieves customer data based on a given SQL SELECT query.
- insert: Inserts new customer data.
- update: Updates existing customer data.
- delete: Deletes customer data.
- get_columns: Returns the list of columns for the customers table.
- get_customers: Retrieves customer data from Shopify API.
- create_customers: Creates new customers in Shopify.
- update_customers: Updates customer data in Shopify.
- delete_customers: Deletes customers from Shopify.

### OrdersTable
#### Description
Implements functionality for interacting with Shopify's Orders API endpoint.

#### Methods
- select: Retrieves order data based on a given SQL SELECT query.
- insert: Inserts new order data.
- update: Updates existing order data.
- delete: Deletes order data.
- get_columns: Returns the list of columns for the orders table.
- get_orders: Retrieves order data from Shopify API.
- update_orders: Updates order data in Shopify.
- create_orders: Creates new orders in Shopify.
- delete_orders: Deletes orders from Shopify.

### InventoryLevelTable
#### Description
Implements functionality for interacting with Shopify's Inventory API endpoint.

#### Methods
- select: Retrieves inventory data based on a given SQL SELECT query.
- get_columns: Returns the list of columns for the inventory table.
- get_inventory: Retrieves inventory data from Shopify API.

### LocationTable
#### Description
Implements functionality for interacting with Shopify's Locations API endpoint.

#### Methods
- select: Retrieves location data based on a given SQL SELECT query.
- get_columns: Returns the list of columns for the locations table.
- get_locations: Retrieves location data from Shopify API.

### CustomerReviews
#### Description
Implements functionality for interacting with Yotpo's Customer Reviews API endpoint.

#### Methods
- select: Retrieves customer review data based on a given SQL SELECT query.
- get_columns: Returns the list of columns for the customer reviews table.
- get_customer_reviews: Retrieves customer review data from Yotpo API.

### CarrierServiceTable
#### Description
Implements functionality for interacting with Shopify's Carrier Services API endpoint.

#### Methods
- select: Retrieves carrier service data based on a given SQL SELECT query.
- insert: Inserts new carrier service data.
- delete: Deletes carrier service data.
- update: Updates existing carrier service data.
- get_columns: Returns the list of columns for the carrier services table.
- get_carrier_service: Retrieves carrier service data from Shopify API.
- create_carrier_service: Creates new carrier services in Shopify.
- delete_carrier_services: Deletes carrier services from Shopify.
- update_carrier_service: Updates carrier service data in Shopify.

### ShippingZoneTable
#### Description
Implements functionality for interacting with Shopify's Shipping Zones API endpoint.

#### Methods
- select: Retrieves shipping zone data based on a given SQL SELECT query.
- get_columns: Returns the list of columns for the shipping zones table.
- get_shipping_zone: Retrieves shipping zone data from Shopify API.

### SalesChannelTable
#### Description
Implements functionality for interacting with Shopify's Sales Channel API endpoint.

#### Methods
- select: Retrieves sales channel data based on a given SQL SELECT query.
- get_columns: Returns the list of columns for the sales channels table.
- get_sales_channel: Retrieves sales channel data from Shopify API.

## Dependencies
- pandas
- shopify
- requests
- mindsdb_sql
- mindsdb.integrations.libs.api_handler
- mindsdb.integrations.utilities.handlers.query_utilities
- mindsdb.utilities.log

## Error Handling
The code includes basic error handling, raising exceptions for unsupported conditions or failed operations. However, more comprehensive error handling could be implemented for robustness.

## Logging
The code uses a logger (from mindsdb.utilities.log) to log information about operations such as product creation, customer updates, and order deletions.