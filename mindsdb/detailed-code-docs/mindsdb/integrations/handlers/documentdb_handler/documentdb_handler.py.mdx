---
title: "documentdb_handler.py"
---

## High-level description
This code defines a `DocumentDBHandler` class that extends the `MongoDBHandler` to handle connections and execute statements for DocumentDB. It provides functionality to connect to a DocumentDB instance using the provided connection details.

## Code Structure
The `DocumentDBHandler` class inherits from `MongoDBHandler` and overrides the `__init__` and `connect` methods to customize the connection process for DocumentDB.

## Symbols

### DocumentDBHandler
#### Description
A handler class for managing connections and operations with DocumentDB. It extends the functionality of the `MongoDBHandler` class.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the handler instance |
| **kwargs | dict | Additional keyword arguments, including connection_data |

#### Internal Logic
1. Initializes the parent class (`MongoDBHandler`) with the given name and kwargs.
2. Extracts connection details from the `connection_data` dictionary.
3. Sets up instance variables for host, port, username, password, database, flatten_level, and additional kwargs.
4. Initializes connection and is_connected attributes.

### connect
#### Description
Establishes a connection to the DocumentDB instance using the provided connection details.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| connection | MongoClient | The established MongoDB client connection |

#### Internal Logic
1. Prepares a kwargs dictionary with username and password if provided.
2. Creates a `MongoClient` instance using the host, port, and combined kwargs.
3. Sets the `is_connected` flag to True and stores the connection.
4. Returns the established connection.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| pymongo | Provides the MongoClient for connecting to DocumentDB |
| mindsdb.integrations.handlers.mongodb_handler | Provides the base MongoDBHandler class |

## Side Effects
- Modifies the instance variables `connection` and `is_connected` when a connection is established.

## Performance Considerations
- The `connect` method establishes a new connection each time it's called, which could be resource-intensive if called frequently. Consider implementing connection pooling or reusing existing connections if possible.