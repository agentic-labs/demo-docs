---
title: "Overview"
---

## High-level description
This directory contains the OpenAI handler for MindsDB, which integrates OpenAI's language models into the MindsDB ecosystem. It provides functionality for creating and using OpenAI models within MindsDB, including various modes of operation such as chat completion, image generation, and embedding.

## What does it do?
The OpenAI handler enables MindsDB users to:
1. Create and configure OpenAI models with different parameters and modes.
2. Make predictions using OpenAI models, including text completion, chat-based interactions, image generation, and text embedding.
3. Fine-tune OpenAI models using custom datasets.
4. Handle API interactions with OpenAI, including authentication, rate limiting, and error handling.
5. Manage token limits and optimize API usage for different model types.

## Entry points
The main entry point for the OpenAI handler is the `OpenAIHandler` class in `openai_handler.py`. This class inherits from `BaseMLEngine` and implements the core functionality for interacting with the OpenAI API.

Key methods in the `OpenAIHandler` class include:
- `create`: Sets up a model with specified parameters.
- `predict`: Makes predictions using the configured model.
- `finetune`: Implements fine-tuning for OpenAI models.
- `describe`: Retrieves metadata about the model.

The handler uses helper functions from `helpers.py` for tasks like retrying API calls and managing token limits.

## Key Files
1. `openai_handler.py`: Contains the main `OpenAIHandler` class that implements the core functionality.
2. `helpers.py`: Provides utility functions for API retries, token counting, and model retrieval.
3. `constants.py`: Defines constants used throughout the handler, including model names and API base URL.
4. `creation_args.py` and `model_using_args.py`: Specify arguments for creating and using OpenAI models.
5. `__init__.py`: Sets up the handler metadata and imports necessary components.

## Dependencies
The OpenAI handler relies on the following main external libraries:
- `openai`: For interacting with the OpenAI API.
- `tiktoken`: For token counting and management.
- `pandas`: For data manipulation in predictions and fine-tuning.
- `numpy`: For numerical operations.

Internal dependencies include various MindsDB utilities and base classes.

## Configuration
The handler uses the following key configuration options:
1. `openai_api_key`: The API key for authenticating with OpenAI (treated as a secret).
2. `api_base`: Optional base URL for the OpenAI API.
3. `model_name`: The name of the OpenAI model to use.
4. `mode`: The operation mode (e.g., default, conversational, image, embedding).
5. Various model-specific parameters like `max_tokens`, `temperature`, and `prompt_template`.

These configurations are set during model creation and can be adjusted for predictions.

The OpenAI handler provides a flexible and powerful integration of OpenAI's capabilities into MindsDB, allowing users to leverage state-of-the-art language models for various machine learning tasks within the MindsDB ecosystem.