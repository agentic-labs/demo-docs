---
title: "Overview"
---

## High-level description
This directory contains unit tests for the QuestDBHandler class, which is responsible for handling interactions with a QuestDB database. The tests are designed to verify the basic functionality of the handler, including connection establishment, table description, table listing, and query execution.

## What does it do?
The tests in this directory ensure that the QuestDBHandler works correctly by:
1. Checking if a connection can be established to a QuestDB database.
2. Verifying that the handler can describe the structure of a specific table.
3. Ensuring that the handler can retrieve a list of tables from the database.
4. Testing the execution of a SELECT query and verifying the results.

These tests help maintain the reliability and functionality of the QuestDBHandler, which is crucial for integrating QuestDB with the MindsDB system.

## Key Files
### test_questdb_handler.py
This file contains the `QuestDBHandlerTest` class, which is the main test suite for the QuestDBHandler. It includes the following test methods:

1. `test_0_check_connection`: Verifies that the handler can establish a connection to the QuestDB database.
2. `test_1_describe_table`: Checks if the handler can correctly describe the structure of a specific table named "house_rentals_data".
3. `test_2_get_tables`: Ensures that the handler can retrieve a list of tables from the database.
4. `test_3_select_query`: Tests the execution of a SELECT query on the "house_rentals_data" table and verifies that results are returned.

The test class uses a configuration dictionary to set up the QuestDBHandler with test connection data, including host, port, user, password, and database name.

## Dependencies
The test suite relies on the following dependencies:
1. `unittest`: The Python standard library's testing framework used to structure and run the tests.
2. `mindsdb.integrations.handlers.questdb_handler.questdb_handler`: Contains the QuestDBHandler class being tested.
3. `mindsdb.api.executor.data_types.response_type`: Provides the RESPONSE_TYPE enum for checking response types.

## Configuration
The tests use a configuration dictionary `kwargs` to set up the QuestDBHandler:

| Option   | Type | Default     | Description                               |
|:---------|:-----|:------------|:------------------------------------------|
| host     | str  | "127.0.0.1" | The host address of the QuestDB server    |
| port     | str  | "8812"      | The port number for the QuestDB server    |
| user     | str  | "admin"     | The username for authentication           |
| password | str  | "quest"     | The password for authentication           |
| database | str  | "questdb"   | The name of the database to connect to    |

These configuration options are used to create a test instance of the QuestDBHandler in the `setUpClass` method of the `QuestDBHandlerTest` class.

Here's an example of how the configuration is used to set up the handler:

```python
@classmethod
def setUpClass(cls):
    cls.kwargs = {
        "host": "127.0.0.1",
        "port": "8812",
        "user": "admin",
        "password": "quest",
        "database": "questdb"
    }
    cls.handler = QuestDBHandler('test_questdb_handler', cls.kwargs)
```

This configuration allows the tests to connect to a QuestDB instance running on the local machine with default credentials. In a real-world scenario, these values would be replaced with actual connection details for the QuestDB instance being tested against.

The tests in this directory play a crucial role in ensuring the reliability and correctness of the QuestDBHandler, which is an essential component for integrating QuestDB with the MindsDB system. By verifying basic operations such as connection establishment, table description, and query execution, these tests help maintain the quality and functionality of the QuestDB integration in MindsDB.