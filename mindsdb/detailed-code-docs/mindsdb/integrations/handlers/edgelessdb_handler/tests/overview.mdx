---
title: "Overview"
---

## High-level description
This directory contains the test suite for the EdgelessDBHandler, which is responsible for managing connections and executing operations on EdgelessDB databases. The tests cover various functionalities of the handler, including connection management, table operations, data manipulation, and metadata retrieval.

## What does it do?
The test suite in this directory verifies the correct functioning of the EdgelessDBHandler by simulating a typical workflow of database operations. It starts by establishing a connection to the database, then proceeds to create a table, insert data, query the data, and retrieve metadata about the database structure. Finally, it tests the disconnection process. This comprehensive set of tests ensures that the EdgelessDBHandler can reliably perform all necessary operations on an EdgelessDB database.

## Key Files
1. `test_edgelessdb_handler.py`: This is the main test file containing the `EdgelessDBHandlerTest` class. It includes multiple test methods that sequentially test different aspects of the EdgelessDBHandler's functionality.

## Dependencies
The test suite relies on the following dependencies:
- `unittest`: The Python standard library's testing framework, used to structure and run the tests.
- `mindsdb.integrations.handlers.edgelessdb_handler.edgelessdb_handler`: Contains the `EdgelessDBHandler` class that is being tested.
- `mindsdb.api.executor.data_types.response_type`: Provides the `RESPONSE_TYPE` enum for verifying query results.

## Configuration
The test suite uses hardcoded configuration values for the database connection:
- Database name: "test_db"
- Table name: "TEST_TABLE"
- Host and port: These are likely set in the `setUpClass` method, but the exact values are not provided in the summary.

Here's a breakdown of the key test methods and their purposes:

1. `test_0_connect`: Verifies that the handler can successfully connect to the EdgelessDB database.
2. `test_1_drop_table`: Ensures that the handler can drop a table if it exists.
3. `test_2_create_table`: Checks if the handler can create a new table in the database.
4. `test_3_insert`: Tests the ability to insert data into the created table.
5. `test_4_select`: Verifies that the handler can select and retrieve data from the table.
6. `test_5_check_connection`: Ensures that the `check_connection` method of the handler works correctly.
7. `test_6_get_tables`: Tests the retrieval of the list of tables from the database.
8. `test_7_get_columns`: Checks if the handler can fetch the columns of a specific table.
9. `test_8_disconnect`: Verifies that the handler can successfully disconnect from the database.

Each test method uses assertions to verify the expected behavior of the EdgelessDBHandler methods. For example:

```python
def test_0_connect(self):
    res = self.handler.connect()
    assert res is True
```

This test ensures that the `connect` method returns `True`, indicating a successful connection.

The test suite is designed to run the tests in a specific order, as indicated by the numbering in the method names. This order is crucial for the logical flow of creating, populating, and querying the test table.

It's worth noting that the test suite does not include cleanup operations, such as dropping the test table after all tests are completed. This might be an area for improvement in future versions of the test suite to ensure a clean state after testing.

In summary, this test directory provides a comprehensive set of unit tests for the EdgelessDBHandler, covering all major aspects of its functionality and ensuring its reliability for use with EdgelessDB databases in the MindsDB system.