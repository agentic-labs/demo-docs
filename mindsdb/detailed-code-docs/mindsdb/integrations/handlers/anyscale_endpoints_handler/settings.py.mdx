---
title: "settings.py"
---

## High-level description
This code defines the configuration settings for the Anyscale handler in the MindsDB integration. It uses Pydantic's BaseSettings to create a configuration class with default values for various parameters related to the Anyscale API, fine-tuning, and model usage.

## Symbols

### `AnyscaleHandlerConfig`
#### Description
A Pydantic settings class that defines the configuration for the Anyscale handler. It inherits from `BaseSettings`, which allows for easy loading of configuration from environment variables or other sources.

#### Inputs
This class doesn't have explicit inputs, as it's a configuration class. The values can be set when instantiating the class or through environment variables.

#### Outputs
An instance of `AnyscaleHandlerConfig` with the defined attributes.

#### Internal Logic
The class defines several attributes with default values:

1. `ANYSCALE_API_BASE`: The base URL for the Anyscale API.
2. `MIN_FT_VAL_LEN`: Minimum number of validation chats for fine-tuning.
3. `MIN_FT_DATASET_LEN`: Minimum total number of chats (training + validation) for fine-tuning.
4. `DEFAULT_MODEL`: The default model to use (Llama-2-7b-chat-hf).
5. `DEFAULT_MODE`: The default mode for models ('default').
6. `SUPPORTED_MODES`: A list of supported modes.
7. `RATE_LIMIT`: The number of requests allowed per minute.
8. `MAX_BATCH_SIZE`: The maximum batch size for requests.
9. `DEFAULT_MAX_TOKENS`: The default maximum number of tokens for requests.

### `anyscale_handler_config`
#### Description
An instance of the `AnyscaleHandlerConfig` class, created with default values.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| typing | Provides type hinting support (Text, List) |
| pydantic_settings | Provides the BaseSettings class for configuration management |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| ANYSCALE_API_BASE | Text | 'https://api.endpoints.anyscale.com/v1' | Base URL for the Anyscale API |
| MIN_FT_VAL_LEN | int | 20 | Minimum number of validation chats for fine-tuning |
| MIN_FT_DATASET_LEN | int | 40 | Minimum total number of chats for fine-tuning |
| DEFAULT_MODEL | Text | 'meta-llama/Llama-2-7b-chat-hf' | Default model to use |
| DEFAULT_MODE | Text | 'default' | Default mode for models |
| SUPPORTED_MODES | List | ['default', 'conversational', 'conversational-full'] | List of supported modes |
| RATE_LIMIT | int | 25 | Number of requests allowed per minute |
| MAX_BATCH_SIZE | int | 20 | Maximum batch size for requests |
| DEFAULT_MAX_TOKENS | int | 100 | Default maximum tokens for requests |

This configuration can be used to control the behavior of the Anyscale handler in the MindsDB integration, providing default values and limits for various operations.