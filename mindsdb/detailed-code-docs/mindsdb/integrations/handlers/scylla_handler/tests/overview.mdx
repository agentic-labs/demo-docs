---
title: "Overview"
---

## High-level description
This directory contains unit tests for the ScyllaHandler, which is part of the MindsDB integration with ScyllaDB. The tests are designed to verify the functionality of the ScyllaHandler class, including its ability to connect to a ScyllaDB database, execute native queries, and perform various data retrieval operations.

## What does it do?
The test suite in this directory performs a series of checks to ensure that the ScyllaHandler works correctly. It tests the following functionalities:

1. Connecting to a ScyllaDB database
2. Executing native queries to show keyspaces
3. Retrieving tables from the database
4. Describing a specific table ("home_rentals")
5. Executing a SELECT query on the "home_rentals" table

These tests help ensure that the ScyllaDB integration in MindsDB is functioning as expected, allowing users to interact with ScyllaDB databases reliably through MindsDB.

## Key Files
The main file in this directory is:

### test_scylla_handler.py
This file contains the `ScyllaHandlerTest` class, which is a subclass of `unittest.TestCase`. It defines several test methods, each focusing on a specific aspect of the ScyllaHandler's functionality. The test methods are:

1. `test_0_connect`: Verifies the connection to the ScyllaDB database.
2. `test_1_native_query_show_keyspaces`: Tests the execution of a native query to show keyspaces.
3. `test_2_get_tables`: Checks the retrieval of tables from the database.
4. `test_3_describe_table`: Tests the description of the "home_rentals" table.
5. `test_4_select_query`: Verifies the execution of a SELECT query on the "home_rentals" table.

The file also includes a `setUpClass` method that initializes a ScyllaHandler instance with test connection data for use in all the test methods.

## Dependencies
The test suite relies on the following dependencies:

1. `unittest`: The Python standard library's testing framework used to structure and run the tests.
2. `mindsdb.integrations.handlers.scylla_handler.scylla_handler`: Contains the ScyllaHandler class being tested.
3. `mindsdb.api.executor.data_types.response_type`: Provides response type constants used in the tests.

## Configuration
The tests use a configuration for connecting to the ScyllaDB database. In the provided code, the connection data is empty for host, user, and password. For actual testing, these should be replaced with valid credentials:

```python
cls.kwargs = {
    "connection_data": {
        "host": "",
        "user": "",
        "password": "",
        "port": "9042"
    }
}
```

## Notes
1. The tests assume the existence of a "home_rentals" table in the test database. Ensure this table exists in your test environment for the tests to run successfully.

2. The test methods are numbered (e.g., `test_0_connect`, `test_1_native_query_show_keyspaces`), suggesting a specific order of execution. However, in unittest, the order of test execution is not guaranteed unless explicitly managed. If the order of execution is critical, consider using a test runner that supports ordered tests or implement dependencies between tests.

3. The empty `__init__.py` file in this directory ensures that Python treats the directory as a package, allowing the tests to be discovered and run by test runners.

4. When running these tests, make sure to use a test database or a dedicated ScyllaDB instance to avoid interfering with production data.

5. The test suite provides a basic framework for testing the ScyllaHandler's core functionalities. As the ScyllaHandler evolves or new features are added, additional tests should be implemented to maintain comprehensive coverage.

This test suite serves as a crucial component in ensuring the reliability and correctness of the ScyllaDB integration in MindsDB, helping developers catch potential issues early in the development process.