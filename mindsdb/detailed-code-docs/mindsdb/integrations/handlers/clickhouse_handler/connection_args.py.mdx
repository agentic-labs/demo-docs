---
title: "connection_args.py"
---

## High-level description
This code defines the connection arguments required for establishing a connection to a ClickHouse database server in the MindsDB integration handler. It specifies the necessary parameters, their types, descriptions, and whether they are required or optional.

## Code Structure
The code consists of two main OrderedDict objects: `connection_args` and `connection_args_example`. The `connection_args` dictionary defines the structure and metadata for each connection parameter, while `connection_args_example` provides an example of how these parameters should be populated.

## Symbols

### `connection_args`
#### Description
An OrderedDict that defines the connection arguments required for connecting to a ClickHouse database. Each key in the dictionary represents a connection parameter, and its value is another dictionary containing metadata about that parameter.

#### Internal Logic
The dictionary uses the following structure for each parameter:
- `type`: Specifies the data type of the parameter (using `ARG_TYPE` constants)
- `description`: Provides a brief explanation of the parameter
- `required`: Boolean indicating whether the parameter is mandatory
- `label`: A user-friendly label for the parameter
- `secret`: (Optional) Boolean indicating if the parameter should be treated as sensitive information

The parameters defined are:
1. `protocol`: The protocol used to query ClickHouse (optional)
2. `user`: The username for authentication (required)
3. `database`: The name of the database to connect to (required)
4. `host`: The hostname or IP address of the ClickHouse server (required)
5. `port`: The TCP/IP port of the ClickHouse server (required)
6. `password`: The password for authentication (required, marked as secret)

### `connection_args_example`
#### Description
An OrderedDict providing an example of how the connection arguments should be populated when establishing a connection to a ClickHouse database.

#### Internal Logic
This dictionary contains sample values for each of the connection parameters defined in `connection_args`:
- `protocol`: 'native'
- `host`: '127.0.0.1'
- `port`: 9000
- `user`: 'root'
- `password`: 'password'
- `database`: 'database'

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| collections.OrderedDict | Used to create ordered dictionaries for maintaining the order of connection arguments |
| mindsdb.integrations.libs.const.HANDLER_CONNECTION_ARG_TYPE | Imported as ARG_TYPE, used to specify the data types of connection arguments |

## Configuration
The code defines the configuration options for connecting to a ClickHouse database. Here's a table of the options:

| Option | Type | Required | Description |
|:-------|:-----|:---------|:------------|
| protocol | STR | False | The protocol to query ClickHouse (native, http, https). Default: native |
| user | STR | True | The username for authentication |
| database | STR | True | The database name to connect to |
| host | STR | True | The hostname or IP address of the ClickHouse server |
| port | INT | True | The TCP/IP port of the ClickHouse server |
| password | PWD | True | The password for authentication (treated as secret) |

Note: When connecting to a local server, it's recommended to use '127.0.0.1' instead of 'localhost' for the host parameter.