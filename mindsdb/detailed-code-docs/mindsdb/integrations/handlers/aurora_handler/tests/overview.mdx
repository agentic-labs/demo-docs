---
title: "Overview"
---

## High-level description
This directory contains unit tests for the Aurora Handler, which is part of the MindsDB integrations. The tests cover both MySQL and PostgreSQL database engines for the Aurora Handler. The test files are designed to verify the functionality of connecting to Aurora databases, executing queries, and retrieving schema information.

## What does it do?
The tests in this directory ensure that the Aurora Handler can:
1. Successfully connect to Aurora databases (both MySQL and PostgreSQL).
2. Execute native SQL queries and return results in the expected format.
3. Retrieve a list of tables from the connected database.
4. Fetch column information for specific tables.

These tests help maintain the reliability and functionality of the Aurora Handler as part of the MindsDB integration ecosystem.

## Key Files
1. `test_aurora_mysql_handler.py`:
   This file contains tests specific to the Aurora Handler when used with a MySQL database engine. It includes tests for connection checking, executing SELECT queries, retrieving tables, and getting column information.

2. `test_aurora_postgres_handler.py`:
   Similar to the MySQL test file, this one focuses on testing the Aurora Handler with a PostgreSQL database engine. It covers the same set of functionalities: connection checking, query execution, table listing, and column information retrieval.

Both test files follow a similar structure and test similar functionalities, but they are tailored to their respective database engines.

## Dependencies
The test files rely on the following dependencies:
- `unittest`: The Python standard library's testing framework.
- `mindsdb.integrations.handlers.aurora_handler.aurora_handler.AuroraHandler`: The main class being tested.
- `mindsdb.api.executor.data_types.response_type.RESPONSE_TYPE`: An enum used for checking response types.

## Configuration
While not explicitly defined in the provided summaries, the test files use configuration parameters to connect to the Aurora databases. These parameters are currently set as empty strings in the test setup:

```python
kwargs = {
    'host': '',
    'port': 3306,  # or 5432 for PostgreSQL
    'user': '',
    'password': '',
    'database': 'test_aurora'
}
```

To run these tests successfully, you would need to provide actual connection details for an Aurora MySQL or PostgreSQL instance.

## Additional Notes
1. The tests assume the existence of a 'person' table in the connected database. This table is used in the SELECT query tests and for retrieving column information.

2. The test methods are numbered (e.g., `test_0_check_connection`, `test_1_native_query_select`), suggesting an intended order of execution. However, it's important to note that unittest doesn't guarantee the execution order of test methods unless explicitly managed.

3. Error handling in these tests is minimal, relying primarily on assertions to catch issues. More comprehensive error handling and edge case testing could be beneficial additions to these test suites.

4. The tests focus on basic functionality and do not cover more advanced scenarios or error cases. Expanding the test coverage to include these aspects could improve the robustness of the Aurora Handler.

5. Both test files follow a very similar structure, which suggests that there might be an opportunity for creating a base test class to reduce code duplication and ensure consistency across different database engine tests.

In conclusion, these test files provide a basic but essential set of checks for the Aurora Handler's functionality with both MySQL and PostgreSQL engines. They serve as a foundation for ensuring the reliability of the Aurora integration in MindsDB, but there is room for expansion to cover more complex scenarios and edge cases.