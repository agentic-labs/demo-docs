---
title: "base.py"
---

## High-level description
The `mindsdb/integrations/libs/base.py` file defines base classes for handlers that connect MindsDB to various data sources and machine learning frameworks. It provides a common interface for querying, connecting, and managing these integrations.

## Code Structure
The code defines three main classes: `BaseHandler`, `DatabaseHandler`, and `BaseMLEngine`. `BaseHandler` is the most general class, providing basic methods for connecting, disconnecting, and querying. `DatabaseHandler` inherits from `BaseHandler` and adds methods specific to database integrations, such as retrieving tables and columns. `BaseMLEngine` is a separate class for machine learning framework integrations, defining methods for model creation, prediction, and other ML-related operations.

## References
This file references the `mindsdb_sql` library for parsing SQL queries and the `pandas` library for data manipulation.

## Symbols

### `BaseHandler`
#### Description
This class defines the basic interface for all handlers, including data sources and ML frameworks. It provides methods for connecting, disconnecting, checking connection status, and executing queries.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the handler. |

#### Outputs
None

#### Internal Logic
This class defines abstract methods that need to be implemented by subclasses.

### `DatabaseHandler`
#### Description
This class inherits from `BaseHandler` and adds methods specific to database integrations. It provides methods for retrieving tables and columns from the database.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the handler. |

#### Outputs
None

#### Internal Logic
This class defines abstract methods that need to be implemented by subclasses.

### `ArgProbeMixin`
#### Description
This mixin class provides functionality for probing arguments required by a handler during creation and prediction time. It uses static analysis on the handler's source code to determine which arguments are needed and whether they are required or optional.

#### Inputs
None

#### Outputs
None

#### Internal Logic
This class defines methods for probing function arguments, extracting source code, and identifying required and optional arguments.

### `BaseMLEngine`
#### Description
This class defines the basic interface for all ML engine handlers. It provides methods for model creation, prediction, fine-tuning, and other ML-related operations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| model_storage | ModelStorage | An object for storing model artifacts. |
| engine_storage | EngineStorage | An object for storing engine-related artifacts. |
| **kwargs | dict | Additional keyword arguments. |

#### Outputs
None

#### Internal Logic
This class defines abstract methods that need to be implemented by subclasses. It also includes the `ArgProbeMixin` for argument probing.

## Side Effects
None

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| mindsdb_sql | Parsing SQL queries. |
| pandas | Data manipulation. |
| ast | Abstract Syntax Tree manipulation. |
| inspect | Introspection of code objects. |
| textwrap | Text wrapping and filling. |

## Error Handling
The code raises `NotImplementedError` for abstract methods that need to be implemented by subclasses.

## TODOs
None
