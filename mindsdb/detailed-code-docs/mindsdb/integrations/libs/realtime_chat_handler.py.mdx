---
title: "realtime_chat_handler.py"
---

## High-level description
This code defines an abstract base class `RealtimeChatHandler` that serves as an interface for real-time chat applications such as Slack or RocketChat. It provides a structure for connecting to a chat application, sending messages, and handling incoming messages in real-time.

## Code Structure
The `RealtimeChatHandler` class contains methods for connecting, disconnecting, and sending messages to a chat application. It also includes a callback function `on_message` that should be called whenever a message is received.

## References
This code references the `ChatBotMessage` and `ChatBotResponse` classes from the `mindsdb.interfaces.chatbot` module.

## Symbols

### RealtimeChatHandler
#### Description
An abstract base class that defines the interface for handling real-time chat interactions with various chat applications.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | str | The name of the chat handler |
| on_message | Callable[[ChatBotMessage], None] | A callback function to be called when a message is received |

#### Internal Logic
The class initializes with a name and a callback function for handling incoming messages. It defines three methods (`connect`, `disconnect`, and `send_message`) that must be implemented by subclasses to provide specific functionality for different chat applications.

### connect
#### Description
An abstract method that should be implemented to connect to the chat application and start listening for messages.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This method raises NotImplementedError |

### disconnect
#### Description
An abstract method that should be implemented to disconnect from the chat application and stop listening for messages.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | This method raises NotImplementedError |

### send_message
#### Description
An abstract method that should be implemented to send a message through the chat application.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | ChatBotMessage | The message to be sent |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | ChatBotResponse | A response indicating whether the message was sent successfully |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| typing.Callable | Used for type hinting the `on_message` callback function |
| mindsdb.interfaces.chatbot.chatbot_message.ChatBotMessage | Represents the structure of chat messages |
| mindsdb.interfaces.chatbot.chatbot_response.ChatBotResponse | Represents the response after sending a message |

## Error Handling
The abstract methods `connect`, `disconnect`, and `send_message` raise `NotImplementedError` to ensure that subclasses implement these methods.