---
title: "response.py"
---

## High-level description
This code defines several classes for handling responses from different parts of the MindsDB system, including database handlers and query executors. These classes provide a standardized way to represent and serialize responses, including data frames, errors, and status updates.

## Code Structure
The code defines four main classes: `HandlerResponse`, `HandlerStatusResponse`, `ExecutorResponse`, and `PredictorResponse`. `HandlerResponse` and `HandlerStatusResponse` are used by database handlers to represent the results of queries and connection checks, respectively. `ExecutorResponse` is used by the query executor to represent the results of command execution. `PredictorResponse` is used to represent the results of predictor operations.

## References
- `mindsdb.api.executor.data_types.response_type.RESPONSE_TYPE`: An enum defining the different types of responses.
- `mindsdb_sql.parser.ast`: Module containing classes for representing abstract syntax trees (ASTs) of SQL queries.
- `pandas.DataFrame`: Class for representing data frames.

## Symbols

### `HandlerResponse`
#### Description
Represents a response from a database handler, including a data frame if the query returned data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| resp_type | RESPONSE_TYPE | The type of response (e.g., OK, TABLE, ERROR). |
| data_frame | pandas.DataFrame | A data frame containing the query result (optional). |
| query | ASTNode | The AST of the query that was executed (optional). |
| error_code | int | An error code (optional). |
| error_message | str | An error message (optional). |

#### Outputs
None

#### Internal Logic
The class stores the input parameters and provides methods for serializing the response to JSON (`to_json()`) and for string representation (`__repr__()`).

### `HandlerStatusResponse`
#### Description
Represents a status response from a database handler, indicating whether a connection check was successful.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| success | bool | True if the connection check was successful, False otherwise. |
| error_message | str | An error message if the connection check failed (optional). |
| redirect_url | str | A redirect URL if authentication is required (optional). |
| copy_storage | str | A string indicating whether to copy storage (optional). |

#### Outputs
None

#### Internal Logic
The class stores the input parameters and provides methods for serializing the response to JSON (`to_json()`) and for string representation (`__repr__()`).

### `ExecutorResponse`
#### Description
Represents a response from the query executor, indicating the result of command execution.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| resp_type | RESPONSE_TYPE | The type of response (e.g., OK, ERROR). |
| query | object | The query or command that was executed. |
| error_code | int | An error code (optional). |
| error_message | str | An error message (optional). |

#### Outputs
None

#### Internal Logic
The class stores the input parameters and provides methods for serializing the response to JSON (`to_json()`) and for string representation (`__repr__()`).
