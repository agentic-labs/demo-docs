---
title: "Overview"
---

## High-level description
This directory contains Docker-related files and configurations for setting up and running MindsDB, an AI-powered database system. It includes Dockerfiles, Docker Compose configurations, and database image setups for testing and development purposes.

## What does it do?
The Docker setup in this directory accomplishes several key tasks:

1. Provides a Dockerfile for building MindsDB images, including separate stages for dependencies, development, and production.
2. Offers Docker Compose configurations for running MindsDB in different environments (CI, testing).
3. Includes database image setups (MariaDB, MySQL, PostgreSQL) for testing database handlers.
4. Configures MindsDB to run with various APIs (HTTP, MySQL, MongoDB) in a containerized environment.
5. Sets up a suite of databases (MySQL, PostgreSQL, MongoDB, MSSQL) for unit testing purposes.

These configurations allow developers to easily set up and run MindsDB in various scenarios, from local development to CI/CD pipelines and testing environments.

## Entry points
The main entry points for this Docker setup are:

1. `mindsdb.Dockerfile`: The primary Dockerfile for building MindsDB images.
2. `docker-compose-ci.yml`: Docker Compose configuration for running MindsDB in a CI environment.
3. `docker-compose-testing.yml`: Docker Compose configuration for setting up databases for unit testing.

The workflow typically involves:
1. Building the MindsDB image using the Dockerfile.
2. Running the appropriate Docker Compose configuration based on the use case (CI or testing).
3. Interacting with MindsDB through its exposed APIs (HTTP, MySQL, MongoDB).

## Key Files
1. `mindsdb.Dockerfile`: Defines a multi-stage build process for creating MindsDB Docker images.
2. `docker-compose-ci.yml`: Sets up a complete MindsDB environment with supporting services for CI.
3. `docker-compose-testing.yml`: Configures database services for unit testing.
4. `mindsdb_config.release.json`: Configuration file for MindsDB in a Docker environment.
5. `db_images/`: Directory containing Dockerfiles and scripts for setting up database images (MariaDB, MySQL, PostgreSQL) for testing handlers.

## Dependencies
The Docker setup relies on several key dependencies:

1. Docker Engine: Required to build and run the containers.
2. Docker Compose: Used for orchestrating multi-container setups.
3. Python 3.10: The base image for MindsDB.
4. Various database images: MySQL, PostgreSQL, MongoDB, Microsoft SQL Server.

External libraries and their versions are not explicitly specified in the provided files, but they would typically be defined in the project's requirements files.

## Configuration
The main configuration file for MindsDB in this Docker setup is `mindsdb_config.release.json`. Key configuration options include:

1. Storage directory: `/root/mdb_storage`
2. API endpoints:
   - HTTP: 0.0.0.0:47334
   - MySQL: 0.0.0.0:47335
   - MongoDB: 0.0.0.0:47336
3. Debug mode: Disabled by default
4. SSL: Enabled for MySQL connections

The Docker Compose files (`docker-compose-ci.yml` and `docker-compose-testing.yml`) also contain important configuration settings, such as:

1. Database credentials and ports for various services
2. Environment variables for MindsDB and supporting services
3. Volume mappings for persistent data storage
4. Health checks to ensure services are ready before use

These configurations allow for flexible deployment of MindsDB in different environments, with easy customization of database connections, API endpoints, and other runtime parameters.