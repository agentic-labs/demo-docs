---
title: "index.ts"
---

## High-level description
This code defines the core functionality for interacting with the Trieve API, specifically for managing chunks of data. It provides methods for searching, creating, updating, and deleting chunks, as well as other related operations like autocomplete and recommendations.

## Code Structure
The code is organized into a module that exports several functions, each corresponding to a specific API endpoint. These functions are designed to be used as methods of the `TrieveSDK` class, which is defined in a separate file (`sdk.ts`). The `TrieveSDK` class uses the `TrieveFetchClient` (defined in `fetch-client.ts`) to make HTTP requests to the Trieve API.

## Symbols

### `search`
#### Description
Provides the primary search functionality for the API, allowing users to search for chunks by semantic similarity, full-text similarity, or a combination of both.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | SearchChunksReqPayload | Search parameters including query, page, page size, etc. |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise&lt;SearchResponseBody&gt; | Promise | A promise that resolves to the search results |

### `createChunk`
#### Description
Creates new chunk(s) in the dataset. It can handle single or bulk uploads (up to 120 chunks).

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | CreateChunkReqPayloadEnum | Chunk data to be created |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves when the chunk(s) are created |

### `autocomplete`
#### Description
Provides autocomplete functionality, prioritizing prefix matching with semantic or full-text search.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | AutocompleteReqPayload | Autocomplete parameters including query, page, page size, etc. |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the autocomplete results |

### `getRecommendedChunks`
#### Description
Provides recommendations of chunks similar to positive samples and dissimilar to negative samples.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | RecommendChunksRequest | Parameters for recommendation, including positive and negative chunk IDs |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the recommended chunks |

### `ragOnChunk`
#### Description
Performs RAG (Retrieval-Augmented Generation) on specified chunks, allowing for ephemeral conversations with context.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | GenerateOffChunksReqPayload | Parameters for RAG, including chunk IDs, previous messages, and prompt |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the generated response |

### `suggestedQueries`
#### Description
Generates 3 suggested queries based on a hybrid search using RAG with the provided query.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | SuggestedQueriesReqPayload | Parameters including the initial query |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the suggested queries |

### `countChunksAboveThreshold`
#### Description
Counts the number of chunk results that match a search query, including score threshold and filters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | CountChunksReqPayload | Parameters for counting, including query, score threshold, and search type |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the count of matching chunks |

### `scroll`
#### Description
Retrieves paginated chunks from the dataset with filters and custom sorting.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | ScrollChunksReqPayload | Parameters for scrolling, including page size and sorting options |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the paginated chunks |

### `updateChunk`
#### Description
Updates an existing chunk in the dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | UpdateChunkReqPayload | Updated chunk data |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves when the chunk is updated |

### `updateChunkByTrackingId`
#### Description
Updates a chunk using its tracking ID instead of its internal ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | UpdateChunkByTrackingIdData | Updated chunk data, including tracking ID |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves when the chunk is updated |

### `getChunkByTrackingId`
#### Description
Retrieves a single chunk using its tracking ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | Omit&lt;GetChunkByTrackingIdData, "trDataset"&gt; | Parameters including the tracking ID |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the retrieved chunk |

### `deleteChunkByTrackingId`
#### Description
Deletes a chunk using its tracking ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | Omit&lt;DeleteChunkByTrackingIdData, "trDataset"&gt; | Parameters including the tracking ID |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves when the chunk is deleted |

### `getChunkById`
#### Description
Retrieves a single chunk using its internal ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | Omit&lt;GetChunkByIdData, "trDataset"&gt; | Parameters including the chunk ID |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the retrieved chunk |

### `deleteChunkById`
#### Description
Deletes a chunk using its internal ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | DeleteChunkData | Parameters including the chunk ID |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves when the chunk is deleted |

### `getChunksByIds`
#### Description
Retrieves multiple chunks using their internal IDs.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | GetChunksData | Parameters including an array of chunk IDs |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the retrieved chunks |

### `getChunksByTrackingIds`
#### Description
Retrieves multiple chunks using their tracking IDs.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | GetTrackingChunksData | Parameters including an array of tracking IDs |
| signal | AbortSignal (optional) | Used for cancelling the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise | Promise | A promise that resolves to the retrieved chunks |

## Dependencies
This module depends on the `TrieveSDK` class and the `TrieveFetchClient` class, which are defined in separate files.

## Error Handling
Error handling is primarily managed by the `TrieveFetchClient` class. Each function in this module will throw an error if the API request fails.

## API/Interface Reference
This module provides a TypeScript interface for interacting with the Trieve API's chunk-related endpoints. Each function corresponds to a specific API endpoint and handles the necessary request formatting and response parsing.