---
title: "index.ts"
---

## High-level description
This code defines a module for interacting with the Trieve API, specifically for managing topics. It provides functions to create, update, retrieve, and delete topics, which are used to coordinate conversation message history in AI chat sessions.

## Code Structure
The code exports four main functions: `createTopic`, `updateTopic`, `getAllTopics`, and `deleteTopic`. These functions are methods of the `TrieveSDK` class, which is defined in a separate file (`sdk.ts`). Each function makes an API call to the Trieve backend using the `fetch` method of the `TrieveSDK` instance.

## References
This code references the `TrieveSDK` class and various types from `../../fetch-client`.

## Symbols

### createTopic
#### Description
Creates a new chat topic attached to a specific owner_id.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | CreateTopicReqPayload | Payload containing topic creation details |
| signal | AbortSignal (optional) | Signal to abort the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | Promise&lt;any&gt; | The created topic data |

#### Internal Logic
Makes a POST request to `/api/topic` with the provided data and dataset ID.

### updateTopic
#### Description
Updates an existing chat topic, currently only allowing name changes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | UpdateTopicReqPayload | Payload containing topic update details |
| signal | AbortSignal (optional) | Signal to abort the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | Promise&lt;any&gt; | The updated topic data |

#### Internal Logic
Makes a PUT request to `/api/topic` with the provided data and dataset ID.

### getAllTopics
#### Description
Retrieves all topics belonging to a specific owner_id.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | Omit&lt;GetAllTopicsForOwnerIdData, "trDataset"&gt; | Data containing the owner ID |
| signal | AbortSignal (optional) | Signal to abort the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | Promise&lt;any&gt; | List of topics for the specified owner |

#### Internal Logic
Makes a GET request to `/api/topic/owner/{owner_id}` with the provided data and dataset ID.

### deleteTopic
#### Description
Deletes an existing chat topic and its associated messages.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | Omit&lt;DeleteTopicData2, "trDataset"&gt; | Data containing the topic ID to delete |
| signal | AbortSignal (optional) | Signal to abort the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| response | Promise&lt;any&gt; | Confirmation of topic deletion |

#### Internal Logic
Makes a DELETE request to `/api/topic/{topic_id}` with the provided data and dataset ID.

## Dependencies
The code relies on types and interfaces defined in the `fetch-client` module, such as `CreateTopicReqPayload`, `UpdateTopicReqPayload`, `GetAllTopicsForOwnerIdData`, and `DeleteTopicData2`.