---
title: "build.js"
---

## High-level description
This script is responsible for building a TypeScript SDK using esbuild. It compiles the TypeScript source code into a bundled JavaScript output, optimized for Node.js environments.

## Symbols

### `build`
#### Description
The `build` function is an asynchronous function that configures and executes the esbuild process to compile the TypeScript SDK.

#### Inputs
This function doesn't take any explicit inputs, but it uses predefined paths and configuration options.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise&lt;BuildResult&gt; | Promise | A promise that resolves with the build result from esbuild |

#### Internal Logic
1. Configures esbuild with specific options:
   - Sets the platform to "node"
   - Targets Node.js version 21
   - Uses ES modules format
   - Enables source map generation
   - Enables tree shaking for optimization
   - Bundles the code
   - Specifies the entry point as "src/index.ts"
   - Sets the output directory to "dist"
2. Calls esbuild with the configured options
3. Returns the promise from esbuild

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| node:path | Used for handling file and directory paths |
| esbuild | The build tool used for compiling and bundling the TypeScript code |

## Configuration
The build configuration is hardcoded within the `build` function. Key settings include:

| Option | Type | Value | Description |
|:-------|:-----|:------|:------------|
| platform | string | "node" | Specifies the target platform as Node.js |
| target | string | "node21" | Sets the target Node.js version to 21 |
| format | string | "esm" | Configures the output format as ES modules |
| nodePaths | array | [srcPath] | Adds the source directory to the module resolution paths |
| sourcemap | boolean | true | Enables generation of source maps |
| treeShaking | boolean | true | Enables dead code elimination |
| bundle | boolean | true | Enables bundling of all dependencies |
| entryPoints | array | [path.join(srcPath, "index.ts")] | Specifies the main entry point of the application |
| outdir | string | buildPath | Sets the output directory for the built files |

## Performance Considerations
The use of tree shaking and bundling helps optimize the output by removing unused code and combining dependencies, which can lead to improved performance and smaller file sizes.