---
title: "chat-deployment.yaml"
---

## High-level description
This YAML file defines a Kubernetes Deployment for a chat application. It specifies the deployment configuration, including container image, ports, and environment variables, using Helm templating for dynamic value insertion.

## Symbols

### Deployment
#### Description
This Kubernetes Deployment resource defines how to deploy and manage the chat application.

#### Internal Logic
1. Sets metadata for the deployment, including name and labels.
2. Defines a selector to match pods.
3. Specifies the pod template with appropriate labels.
4. Configures the container with image, port, and environment variables.

### Container Specification
#### Description
Defines the container configuration for the chat application.

#### Internal Logic
1. Sets the container name to "chat".
2. Dynamically constructs the image URL based on the environment and tag.
3. Exposes port 80.
4. Sets environment variables for API host, search UI URL, and dashboard URL.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Kubernetes | For deploying and managing the application |
| Helm | For templating and managing the Kubernetes resources |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| .Values.environment | string | N/A | Determines the image repository (trieve/ or localhost:5001/) |
| .Values.containers.chat.tag | string | N/A | Specifies the container image tag |
| .Values.config.vite.apiHost | string | N/A | Sets the VITE_API_HOST environment variable |
| .Values.config.vite.searchUiUrl | string | N/A | Sets the VITE_SEARCH_UI_URL environment variable |
| .Values.config.vite.dashboardUrl | string | N/A | Sets the VITE_DASHBOARD_URL environment variable |

Note: The actual default values are not provided in the given YAML and would be defined in the Helm values file.