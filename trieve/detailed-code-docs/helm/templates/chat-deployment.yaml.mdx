---
title: "chat-deployment.yaml"
---

## High-level description
This code defines a Kubernetes Deployment named "chat" using a YAML configuration file. This deployment is responsible for creating and managing Pods that run the "chat" application container. It specifies the container image, exposed ports, and environment variables.

## References
This code references values from the `values.yaml` file, including:
- `.Release.Name`: The name of the Helm release.
- `.Values.environment`: The environment the application is deploying to.
- `.Values.containers.chat.tag`: The Docker tag for the chat container image.
- `.Values.config.vite.*`: Various configuration values for the application, likely related to Vite.js.

## Symbols
### `chat` (Deployment)
#### Description
This symbol defines a Kubernetes Deployment named "chat" responsible for deploying the chat application.

#### Inputs
This symbol uses values from the `values.yaml` file as configuration inputs.

#### Outputs
This symbol creates a Kubernetes Deployment object.

#### Internal Logic
- **`metadata`**: Defines metadata for the deployment, including name and labels for selection and management.
- **`spec`**: Specifies the desired state of the deployment.
    - **`selector`**: Defines how to select Pods belonging to this deployment.
    - **`template`**: Describes the Pod template used to create Pods.
        - **`metadata`**: Defines metadata for the Pod template.
        - **`spec`**: Specifies the desired state of the Pods.
            - **`containers`**: Defines the containers to run within the Pod.
                - **`name`**: The name of the container.
                - **`image`**: The Docker image to use for the container. It dynamically constructs the image URL based on the environment.
                - **`ports`**: Exposes port 80 from the container.
                - **`env`**: Sets environment variables for the container:
                    - `VITE_API_HOST`: The host URL for the API.
                    - `VITE_SEARCH_UI_URL`: The URL for the search UI.
                    - `VITE_DASHBOARD_URL`: The URL for the dashboard.

## Dependencies
This code depends on Kubernetes and Helm.

## Configuration
This code utilizes configuration values from the `values.yaml` file. The specific values used are referenced within the code using the `.` notation.
