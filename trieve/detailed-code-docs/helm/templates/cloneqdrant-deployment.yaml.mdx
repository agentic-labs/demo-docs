---
title: "cloneqdrant-deployment.yaml"
---

## High-level description
This Kubernetes Deployment manifest defines a deployment named "sync-qdrant" for synchronizing data between Qdrant instances. It sets up a container with various environment variables to configure the synchronization process and related services.

## Code Structure
The manifest is structured as a standard Kubernetes Deployment resource, with metadata, spec, and container definitions. It uses Helm templating to inject values from a values file.

## Symbols

### Deployment
#### Description
Defines a Kubernetes Deployment resource for the sync-qdrant application.

#### Internal Logic
- Sets replicas to 0 by default
- Defines labels for the deployment and pod selector
- Specifies a service account for the pods
- Configures a single container with numerous environment variables

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Helm | Used for templating and value injection |

### Configuration
The deployment uses numerous environment variables for configuration. Key configurations include:

| Option | Type | Description |
|:-------|:-----|:------------|
| ADMIN_API_KEY | string | Admin API key for authentication |
| BASE_SERVER_URL | string | Base URL for the server |
| REDIS_URL | string | URL for Redis connection |
| QDRANT_URL | string | URL for Qdrant connection |
| DATABASE_URL | string | URL for PostgreSQL database connection |
| OPENAI_API_KEY | string | API key for OpenAI services |
| S3_ENDPOINT | string | Endpoint for S3 storage |
| ORIGIN_QDRANT_URL | string | URL of the origin Qdrant instance |
| NEW_QDRANT_URL | string | URL of the new Qdrant instance |
| COLLECTION_TO_CLONE | string | Name of the Qdrant collection to clone |

Note: Many configuration options use Helm templating to inject values from a values file, allowing for flexible deployment across different environments.

## Error Handling
No specific error handling mechanisms are defined in this manifest. Error handling would be managed by the application running in the container.

## Logging
No explicit logging configuration is present in this manifest. Logging would be handled by the application and Kubernetes cluster's logging mechanisms.