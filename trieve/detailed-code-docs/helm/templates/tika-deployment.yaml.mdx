---
title: "tika-deployment.yaml"
---

## High-level description
This code defines a Kubernetes Deployment for Apache Tika, which will create a single-pod deployment named "tika". The deployment uses a container image for Apache Tika with a tag specified in the Helm chart's values file.

## References
This code references the Helm chart's values file using the following expression:
- `.Values.containers.tika.tag`: Retrieves the `tag` value from the `containers.tika` section of the Helm values file.

## Symbols
### `tika` (Deployment)
#### Description
This symbol defines a Kubernetes Deployment named "tika" responsible for creating and managing a pod running the Apache Tika server.

#### Inputs
This deployment does not take explicit inputs. It relies on the Helm chart's values file for configuration.

#### Outputs
This deployment creates a single-pod deployment running the Apache Tika server.

#### Internal Logic
The deployment specification includes:
- `selector`: Ensures that the deployment manages pods with matching labels.
- `template`: Defines the pod template used to create pods.
    - `metadata`: Sets labels for the pod.
    - `spec`: Defines the pod specification.
        - `containers`: Specifies the container running Apache Tika.
            - `name`: Sets the container name to "tika".
            - `image`: Uses a dynamically constructed image name based on the `tag` value from the Helm values file.
            - `ports`: Exposes port 9998 for the Tika server.

## Dependencies
This code depends on the following:
| Dependency | Purpose |
|:-----------|:--------|
| `apache/tika` Docker image | Provides the Apache Tika server. |

### Configuration
This code uses the following configuration options from the Helm values file:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `containers.tika.tag` | string | N/A | Specifies the tag for the `apache/tika` Docker image. |
