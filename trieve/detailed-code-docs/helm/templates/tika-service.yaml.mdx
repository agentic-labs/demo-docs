---
title: "tika-service.yaml"
---

## High-level description
This code defines a Kubernetes Service named "tika" that exposes a ClusterIP service for the Tika server. It routes traffic to pods with specific labels, ensuring internal communication within the Kubernetes cluster.

## References
- This service targets pods with the label `app.kubernetes.io/name: tika` and `app.kubernetes.io/instance: trieve`, likely defined in a corresponding Deployment.
- The related file `helm/templates/ingest-deployment.yaml` shows an environment variable `TIKA_URL` set to `tika.default.svc.cluster.local`, indicating that the Ingest service relies on this Tika service.

## Symbols
### `tika` (Service)
#### Description
This Kubernetes Service exposes the Tika server on port 9998 within the cluster. It uses the `ClusterIP` type, making it accessible only from within the Kubernetes cluster.

#### Inputs
This symbol does not take direct inputs. It is configured through the Kubernetes API.

#### Outputs
This symbol does not produce direct outputs. It provides network connectivity to the Tika pods.

#### Internal Logic
- The service uses a selector to target pods with the labels `app.kubernetes.io/name: tika` and `app.kubernetes.io/instance: trieve`.
- It exposes a single port (9998) that maps to port 9998 on the target pods, using the TCP protocol.

## Side Effects
- This service creates a new Kubernetes Service object.
- It enables internal communication between pods within the cluster that need to access the Tika server.

## Dependencies
- This code depends on Kubernetes and its API for service discovery and load balancing.
