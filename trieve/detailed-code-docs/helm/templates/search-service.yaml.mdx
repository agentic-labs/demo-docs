---
title: "search-service.yaml"
---

## High-level description
This YAML file defines a Kubernetes Service resource for a search service. It creates a ClusterIP service that routes traffic to pods labeled with the "search" selector, exposing port 80 for internal cluster communication.

## Symbols

### Service Definition
#### Description
This YAML defines a Kubernetes Service resource named "search-service". It uses ClusterIP type to expose the service internally within the cluster and routes traffic to pods matching the specified selector.

#### Internal Logic
1. Sets the service name to "search-service" using a variable.
2. Defines a selector variable as "search".
3. Specifies the Service kind and API version.
4. Sets metadata including name and labels.
5. Configures the service spec with type, ports, and selector.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Kubernetes | This YAML is intended to be used with Kubernetes to create a Service resource |
| Helm | The file uses Helm templating syntax, indicating it's part of a Helm chart |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| $name | string | "search-service" | The name of the Kubernetes Service |
| $selector | string | "search" | The selector used to match pods for this service |
| .Release.Name | string | N/A (set by Helm) | The name of the Helm release, used in labels and selectors |

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| ClusterIP:80 | TCP | N/A | N/A | Exposes port 80 for internal cluster communication to the search service |

This Service definition creates an internal endpoint that can be accessed by other resources within the Kubernetes cluster using the service name "search-service" on port 80. It routes traffic to pods that match the label selector `app.kubernetes.io/name: search` and `app.kubernetes.io/instance: &lt;release-name&gt;`.