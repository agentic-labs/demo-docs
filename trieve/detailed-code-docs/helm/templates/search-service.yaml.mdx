---
title: "search-service.yaml"
---

## High-level description
This code defines a Kubernetes Service named "search-service" that exposes a deployment named "search" on port 80. This allows other applications within the Kubernetes cluster to access the "search" deployment using the service's stable DNS name.

## References
This file references the `search` deployment through the `selector` field.

## Symbols
### `search-service`
#### Description
This symbol defines a Kubernetes Service resource named "search-service". It acts as an internal load balancer, routing traffic to pods with the label "app.kubernetes.io/name=search".

#### Inputs
This code snippet doesn't define any explicit inputs. It uses values from the Helm chart's context, such as `.Release.Name`.

#### Outputs
This code defines a Kubernetes Service resource.

#### Internal Logic
The service is configured as follows:
- `type: ClusterIP`: Creates a service accessible only from within the cluster.
- `ports`: Defines a single port mapping:
    - `port: 80`: The port exposed by the service.
    - `targetPort: 80`: The port on the target pods to which traffic is forwarded.
    - `protocol: TCP`: The protocol used for communication.
    - `name: search`: A name for this port mapping.
- `selector`: Specifies which pods the service should route traffic to:
    - `app.kubernetes.io/name: {{ $selector }}`: Selects pods with the label "app.kubernetes.io/name=search".
    - `app.kubernetes.io/instance: {{ .Release.Name }}`: Further filters pods by the Helm release name.

## Dependencies
This code depends on Kubernetes and Helm.

## Configuration
This code snippet doesn't define any specific configuration options. It relies on the Helm chart's context for values like `.Release.Name`.
