---
title: "local-values.yaml"
---

## High-level description
This YAML file, `helm/local-values.yaml`, provides configuration values for a Helm chart deployment of the Trieve application in a local development environment. It specifies environment variables, container versions, database connection details, API endpoints, and various service configurations.

## Code Structure
The file is structured as a YAML dictionary with nested key-value pairs. The top-level keys represent different configuration categories like `environment`, `containers`, `postgres`, `config`, etc. Each category further contains specific configuration options. For instance, the `containers` section lists the Docker image tags for various services, while the `config` section defines settings for Vite, Redis, Qdrant, and other services.

## Symbols
### `environment`
#### Description
Specifies the deployment environment.

#### Inputs
N/A

#### Outputs
- `local`: String indicating the deployment environment is local.

#### Internal Logic
N/A

### `domain`
#### Description
Defines the domain name used for the application in the local environment.

#### Inputs
N/A

#### Outputs
- `localtrieve.com`: String representing the local domain.

#### Internal Logic
N/A

### `useGpu`
#### Description
Indicates whether to utilize GPU resources.

#### Inputs
N/A

#### Outputs
- `false`: Boolean value disabling GPU usage.

#### Internal Logic
N/A

### `containers`
#### Description
Lists the Docker image tags for various services within the Trieve application.

#### Inputs
N/A

#### Outputs
- A dictionary where keys represent service names (e.g., `keycloak`, `minio`, `tika`) and values are the corresponding Docker image tags.

#### Internal Logic
N/A

### `postgres`
#### Description
Configures PostgreSQL database settings.

#### Inputs
N/A

#### Outputs
- `useSubchart`: Boolean indicating whether to use a subchart for PostgreSQL deployment.
- `dbURI`: String containing the PostgreSQL connection URI.

#### Internal Logic
N/A

### `config`
#### Description
Encompasses configuration settings for various services and components.

#### Inputs
N/A

#### Outputs
- A dictionary containing nested configurations for `vite`, `redis`, `qdrant`, `analytics`, `trieve`, `oidc`, `smtp`, `llm`, `openai`, `s3`, and `stripe`.

#### Internal Logic
N/A

### `embeddings`
#### Description
Defines a list of embedding models and their configurations.

#### Inputs
N/A

#### Outputs
- A list of dictionaries, each representing an embedding model with properties like `name`, `revision`, `model`, and `args`.

#### Internal Logic
N/A
## Dependencies
This file does not explicitly list external dependencies. However, it implies dependencies on various services and tools based on the configuration options provided. These dependencies likely include:

- **Helm:** For deploying the application chart.
- **Docker:** For containerizing the services.
- **Kubernetes:** For orchestrating the deployment.
- **Keycloak:** For authentication and authorization.
- **MinIO:** For object storage.
- **Apache Tika:** For file type detection and content extraction.
- **PostgreSQL:** As the primary database.
- **Redis:** For caching and message brokering.
- **Qdrant:** For vector search and similarity search.
- **ClickHouse:** For analytics and event tracking.
- **Jina AI:** For embedding generation.
- **OpenAI:** For language model APIs.
- **AWS S3:** For cloud storage (optional).
- **Stripe:** For payment processing.

## Configuration
This file serves as the primary configuration for deploying the Trieve application in a local environment. It defines various settings, including:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `environment` | string | `local` | Deployment environment. |
| `domain` | string | `localtrieve.com` | Application domain in the local environment. |
| `useGpu` | boolean | `false` | Whether to utilize GPU resources. |
| `containers.&lt;service_name&gt;.tag` | string | Varies | Docker image tag for each service. |
| `postgres.useSubchart` | boolean | `true` | Whether to use a subchart for PostgreSQL. |
| `postgres.dbURI` | string | `postgres://...` | PostgreSQL connection URI. |
| `config.vite.apiHost` | string | `http://api.localtrieve.com/api` | API host URL for the Vite frontend. |
| `config.redis.useSubchart` | boolean | `true` | Whether to use a subchart for Redis. |
| `config.redis.uri` | string | `redis://...` | Redis connection URI. |
| `config.qdrant.useSubchart` | boolean | `true` | Whether to use a subchart for Qdrant. |
| `config.qdrant.qdrantUrl` | string | `http://...` | Qdrant server URL. |
| `config.trieve.unlimited` | boolean | `true` | Whether to enable unlimited usage. |
| `config.oidc.clientSecret` | string | `...` | OAuth client secret. |
| `config.smtp.relay` | string | `smtp.gmail.com` | SMTP relay server. |
| `config.llm.apiKey` | string | `...` | API key for the language model service. |
| `config.openai.apiKey` | string | `...` | OpenAI API key. |
| `config.s3.endpoint` | string |  | AWS S3 endpoint URL. |
| `embeddings[].name` | string |  | Name of the embedding model. |
| `embeddings[].model` | string |  | Model identifier for the embedding model. |

## Error Handling
This configuration file does not directly implement error handling. Error handling mechanisms are expected to be handled within the individual services and components of the Trieve application.

## Logging
This file does not specify logging configurations. Logging settings are likely defined within the individual service configurations or managed by the deployment environment.
