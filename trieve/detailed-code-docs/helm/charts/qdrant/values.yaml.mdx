---
title: "values.yaml"
---

## High-level description
This YAML file defines the configuration values for deploying a Qdrant vector database cluster using Helm. It specifies settings for container images, resource allocation, networking, persistence, security, and various other aspects of the deployment.

## Code Structure
The code is structured as a hierarchical set of YAML key-value pairs, organizing configuration options into logical sections like `image`, `service`, `persistence`, `resources`, etc. Each section further defines specific settings related to its area. For instance, the `service` section defines ports for HTTP, gRPC, and p2p communication, while the `persistence` section configures persistent storage volumes.

## Symbols

### `replicaCount`
#### Description
Defines the number of Qdrant pods to be deployed in the Kubernetes cluster.

#### Inputs
- None

#### Outputs
- Integer value representing the desired replica count.

### `image`
#### Description
Configures the Docker image used for Qdrant pods.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `repository`: Docker image repository (default: `docker.io/qdrant/qdrant`).
    - `pullPolicy`: Image pull policy (default: `IfNotPresent`).
    - `tag`: Image tag (default: `"v1.10.1"`).
    - `useUnprivilegedImage`: Whether to use the unprivileged image variant (default: `false`).

### `imagePullSecrets`
#### Description
Specifies any private Docker registry secrets to use for pulling the Qdrant image.

#### Inputs
- None

#### Outputs
- A list of secret names.

### `nameOverride`
#### Description
Overrides the Helm release name for the Qdrant deployment.

#### Inputs
- None

#### Outputs
- String value representing the override name.

### `fullnameOverride`
#### Description
Overrides the full name of the deployment, which is typically a combination of the release name and chart name.

#### Inputs
- None

#### Outputs
- String value representing the full override name.

### `args`
#### Description
Defines command-line arguments to pass to the Qdrant container on startup.

#### Inputs
- None

#### Outputs
- A list of string arguments.

### `env`
#### Description
Specifies environment variables to set within the Qdrant container.

#### Inputs
- None

#### Outputs
- A dictionary where keys are environment variable names and values are their corresponding values.

### `service`
#### Description
Configures the Kubernetes service for exposing Qdrant.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `type`: Service type (default: `ClusterIP`).
    - `additionalLabels`: Additional labels for the service.
    - `annotations`: Annotations for the service.
    - `loadBalancerIP`: Load balancer IP address (if applicable).
    - `ports`: A list of ports to expose, each with:
        - `name`: Port name.
        - `port`: Service port number.
        - `targetPort`: Container port number.
        - `protocol`: Protocol (TCP/UDP).
        - `checksEnabled`: Whether to enable liveness/readiness probes on this port.

### `ingress`
#### Description
Configures ingress rules for accessing Qdrant from outside the cluster.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `enabled`: Whether ingress is enabled (default: `false`).
    - `ingressClassName`: Ingress class name.
    - `additionalLabels`: Additional labels for the ingress.
    - `annotations`: Annotations for the ingress.
    - `hosts`: A list of hostnames to match for routing traffic.
    - `tls`: TLS configuration for HTTPS.

### `livenessProbe`, `readinessProbe`, `startupProbe`
#### Description
Configure liveness, readiness, and startup probes for Qdrant pods.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `enabled`: Whether the probe is enabled.
    - `initialDelaySeconds`: Initial delay before the probe starts.
    - `periodSeconds`: Probe execution interval.
    - `timeoutSeconds`: Probe timeout.
    - `failureThreshold`: Number of consecutive failures before considering the container unhealthy.
    - `successThreshold`: Number of consecutive successes required after a failure.

### `additionalLabels`, `podAnnotations`, `podLabels`
#### Description
Allow adding custom labels and annotations to pods and deployments.

#### Inputs
- None

#### Outputs
- Dictionaries where keys are label/annotation names and values are their corresponding values.

### `resources`
#### Description
Specifies resource requests and limits for Qdrant containers.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `limits`: Resource limits.
    - `requests`: Resource requests.

### `containerSecurityContext`, `podSecurityContext`
#### Description
Define security contexts for containers and pods, controlling permissions and access.

#### Inputs
- None

#### Outputs
- Dictionaries specifying security context settings.

### `updateVolumeFsOwnership`
#### Description
Ensures ownership of pre-existing files on storage volumes aligns with the container's user and group.

#### Inputs
- None

#### Outputs
- Boolean value (default: `true`).

### `nodeSelector`, `tolerations`, `affinity`, `topologySpreadConstraints`
#### Description
Control pod scheduling and placement on nodes within the Kubernetes cluster.

#### Inputs
- None

#### Outputs
- Dictionaries and lists defining scheduling constraints.

### `persistence`
#### Description
Configures persistent storage volumes for Qdrant data.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `accessModes`: Volume access modes (default: `["ReadWriteOnce"]`).
    - `size`: Volume size.
    - `annotations`: Annotations for the persistent volume claim.

### `snapshotRestoration`
#### Description
Enables and configures snapshot restoration for Qdrant.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `enabled`: Whether snapshot restoration is enabled (default: `false`).
    - `pvcName`: Name of the PVC containing snapshots.
    - `snapshots`: A dictionary mapping snapshot paths to collection names.

### `config`
#### Description
Allows overriding default Qdrant configuration settings.

#### Inputs
- None

#### Outputs
- A dictionary representing the Qdrant configuration structure.

### `sidecarContainers`
#### Description
Defines additional sidecar containers to run alongside the main Qdrant container.

#### Inputs
- None

#### Outputs
- A list of sidecar container definitions.

### `metrics`
#### Description
Configures metrics collection and exposure via Prometheus.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `serviceMonitor`: Settings for the Prometheus ServiceMonitor.

### `serviceAccount`
#### Description
Configures the service account used by Qdrant pods.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `annotations`: Annotations for the service account.

### `priorityClassName`
#### Description
Specifies the priority class for Qdrant pods, influencing scheduling priority.

#### Inputs
- None

#### Outputs
- String value representing the priority class name.

### `podManagementPolicy`
#### Description
Determines how pod updates are handled during deployments (default: `Parallel`).

#### Inputs
- None

#### Outputs
- String value representing the pod management policy.

### `podDisruptionBudget`
#### Description
Configures a PodDisruptionBudget to limit the number of Qdrant pods that can be disrupted simultaneously.

#### Inputs
- None

#### Outputs
- A dictionary containing:
    - `enabled`: Whether the PDB is enabled (default: `false`).
    - `maxUnavailable`: Maximum number of unavailable pods allowed.

### `apiKey`
#### Description
Configures the API key for authentication with Qdrant.

#### Inputs
- None

#### Outputs
- String value representing the API key, or a boolean (`true`/`false`) to enable auto-generation.

### `readOnlyApiKey`
#### Description
Configures a read-only API key for Qdrant.

#### Inputs
- None

#### Outputs
- String value representing the read-only API key, or a boolean (`true`/`false`) to enable auto-generation.

### `additionalVolumes`, `additionalVolumeMounts`
#### Description
Allow defining additional volumes and volume mounts for Qdrant pods.

#### Inputs
- None

#### Outputs
- Lists of volume and volume mount definitions.
