---
title: "secret.yaml"
---

## High-level description
This code defines a Kubernetes Secret resource for storing Qdrant API keys. It uses a conditional template to create the Secret only if either `apiKey` or `readOnlyApiKey` values are provided in the Helm chart values.

## References
- `qdrant.fullname`: This refers to a template function that likely generates a namespaced name for the Qdrant deployment.
- `qdrant.secret`: This refers to a template function that likely generates the content of the secret, including the API keys.

## Symbols
### `helm/charts/qdrant/templates/secret.yaml`
#### Description
This code defines a Kubernetes Secret resource in a Helm template. The Secret is designed to store Qdrant API keys and is conditionally created based on the presence of `apiKey` or `readOnlyApiKey` values.

#### Inputs
This template uses values passed to the Helm chart during deployment.

| Name | Type | Description |
|:-----|:-----|:------------|
| `Values.apiKey` | string | Optional. The Qdrant API key. |
| `Values.readOnlyApiKey` | string | Optional. The read-only Qdrant API key. |

#### Outputs
A Kubernetes Secret resource named `&lt;Qdrant release name&gt;-apikey` containing the provided API keys.

#### Internal Logic
1. **Conditional Creation:** The template uses `{{- if or .Values.apiKey .Values.readOnlyApiKey }}` to check if either `apiKey` or `readOnlyApiKey` is provided in the Helm values. The Secret resource is only created if at least one of these values is present.
2. **Secret Generation:** The `{{ include "qdrant.secret" . | indent 2}}` part uses the `qdrant.secret` template function to generate the content of the Secret data. This function likely takes the provided API keys and formats them appropriately for the Secret.

## Dependencies
This code depends on the Helm templating engine and the Kubernetes API version `v1` for defining the Secret resource. It also relies on the `qdrant.fullname` and `qdrant.secret` template functions, which are likely defined elsewhere in the Helm chart.
