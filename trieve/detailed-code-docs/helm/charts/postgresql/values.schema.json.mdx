---
title: "values.schema.json"
---

## High-level description
This JSON schema file defines the configuration options for a PostgreSQL Helm chart. It specifies the structure and validation rules for the values that can be set when deploying PostgreSQL using this chart.

## Code Structure
The schema is organized into a hierarchical structure of properties, each representing different aspects of the PostgreSQL configuration. The main sections include architecture, authentication, persistence, resources, replication, volume permissions, and metrics.

## Symbols

### Root Object
#### Description
The root object of the JSON schema, defining the overall structure of the configuration.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| architecture | string | Specifies the PostgreSQL architecture (standalone or replication) |
| auth | object | Contains authentication-related configurations |
| persistence | object | Defines persistent storage settings |
| resources | object | Specifies resource requirements for the PostgreSQL container |
| replication | object | Contains replication-related settings |
| volumePermissions | object | Configures volume permission settings |
| metrics | object | Defines metrics exporter configuration |

### `architecture`
#### Description
Specifies the PostgreSQL architecture to be deployed.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| architecture | string | Allowed values: "standalone" or "replication" |

### `auth`
#### Description
Defines authentication-related configurations for PostgreSQL.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| enablePostgresUser | boolean | Enables the "postgres" admin user |
| postgresPassword | string | Password for the "postgres" admin user |
| database | string | Name of the custom database to be created |
| username | string | Name of the custom user to be created |
| password | string | Password for the custom user |
| replicationUsername | string | Name of the replication user |
| replicationPassword | string | Password for the replication user |

### `persistence`
#### Description
Configures persistent storage for PostgreSQL data.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| size | string | Size of the persistent volume |

### `resources`
#### Description
Specifies resource requests for the PostgreSQL container.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| requests.memory | string | Memory request for the container |
| requests.cpu | string | CPU request for the container |

### `replication`
#### Description
Configures replication settings for PostgreSQL.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| enabled | boolean | Enables replication |
| readReplicas | integer | Number of read replicas |

### `volumePermissions`
#### Description
Configures volume permission settings.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| enabled | boolean | Enables init containers for volume permissions |

### `metrics`
#### Description
Configures the metrics exporter for PostgreSQL.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| enabled | boolean | Enables the metrics exporter |

## Dependencies
This schema file doesn't directly depend on external libraries, but it is used in conjunction with the Helm chart for PostgreSQL deployment.

## Configuration
The schema itself serves as a configuration definition for the PostgreSQL Helm chart. It defines the structure and validation rules for the values that can be set when deploying PostgreSQL using this chart.

## Error Handling
The schema provides implicit error handling through JSON Schema validation. If a user provides values that don't conform to the schema, Helm will raise validation errors during chart installation or upgrade.