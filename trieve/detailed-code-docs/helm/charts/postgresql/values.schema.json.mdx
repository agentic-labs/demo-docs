---
title: "values.schema.json"
---

## High-level description
The code defines a JSON schema (`values.schema.json`) for validating configuration values used in a PostgreSQL Helm chart. It specifies the structure, types, and descriptions of various configuration options related to authentication, persistence, resources, replication, volume permissions, and metrics.

## Code Structure
The schema is structured as a nested JSON object with properties representing different configuration sections. Each property has a type, title, and description, and may contain nested properties for more complex configurations. Some properties also have conditional visibility based on the value of other properties.

## Symbols
### `values.schema.json`
#### Description
This JSON schema defines the structure and validation rules for configuration values used in the PostgreSQL Helm chart. It ensures that the provided values adhere to the expected format and types.

#### Inputs
This schema doesn't take direct inputs. It's used by tools like Helm to validate user-provided configuration values against the defined schema.

#### Outputs
This schema doesn't produce direct outputs. It's used for validation purposes and indirectly influences the deployment of the PostgreSQL chart.

#### Internal Logic
The schema defines various properties and their expected types:

- **architecture**: Defines the PostgreSQL architecture (standalone or replication).
- **auth**: Contains authentication-related settings like enabling the "postgres" user, passwords, and custom database/user creation.
- **persistence**: Configures persistent volume size for data storage.
- **resources**: Defines resource requests (memory and CPU) for the PostgreSQL pods.
- **replication**:  Configures replication settings, including enabling replication and the number of read replicas.
- **volumePermissions**:  Configures options for managing volume permissions using init containers.
- **metrics**:  Configures the metrics exporter, allowing users to enable or disable it.

Each property has additional attributes like "title" and "description" to provide human-readable information about the configuration option. Some properties also use "hidden" attributes to conditionally show/hide options based on the value of other properties (e.g., replication settings are hidden when the architecture is set to "standalone").

## Dependencies
This schema doesn't have external library dependencies. It relies on the JSON Schema specification (`http://json-schema.org/schema#`).

## Configuration
The schema itself defines the configuration options for the PostgreSQL Helm chart. Users can provide values for these options in a YAML file, and Helm will validate them against this schema.
