---
title: "Overview"
---

## High-level description
This directory contains Helm chart templates and configuration files for deploying and managing PostgreSQL in a Kubernetes environment. It provides a comprehensive and customizable solution for running PostgreSQL databases, including support for replication, backups, monitoring, and security features.

## What does it do?
The PostgreSQL Helm chart allows users to:

1. Deploy a primary PostgreSQL instance with configurable resources and settings.
2. Set up read replicas for improved read performance and scalability.
3. Configure automated backups using a CronJob.
4. Implement network policies for secure communication between components.
5. Set up monitoring and metrics collection using Prometheus.
6. Manage secrets for authentication and TLS certificates.
7. Create necessary RBAC resources for proper permissions.
8. Customize various aspects of the deployment, including resource allocation, persistence, and security settings.

## Entry points
The main entry points for this chart are:

1. `values.yaml`: The primary configuration file where users can customize their PostgreSQL deployment.
2. `templates/primary/statefulset.yaml`: Defines the core PostgreSQL deployment as a StatefulSet.
3. `templates/read/statefulset.yaml`: Sets up read replicas if enabled.
4. `templates/backup/cronjob.yaml`: Configures automated backups.
5. `Chart.yaml`: Contains metadata about the chart and its dependencies.

## Key Files
1. `values.yaml`: Contains default configuration values and extensive options for customization.
2. `values.schema.json`: Defines the structure and validation rules for the configuration values.
3. `templates/`: Directory containing all Kubernetes resource templates.
4. `charts/`: Contains the Bitnami Common Library Chart as a dependency.
5. `README.md`: Provides comprehensive documentation on how to use and configure the chart.

## Dependencies
The chart has the following main dependencies:

1. Kubernetes: Designed for Kubernetes 1.23+
2. Helm: Uses Helm v3 for templating and deployment management
3. PostgreSQL: Configurable version, but designed for PostgreSQL 14.x and later
4. Bitnami Common Library Chart: Used for common logic and helper functions
5. Prometheus Operator (optional): For ServiceMonitor and PrometheusRule resources

## Configuration
The chart offers extensive configuration options through the `values.yaml` file, including:

1. PostgreSQL version, settings, and resource allocation
2. Replication and read replica configuration
3. Backup schedules and retention policies
4. Security settings (RBAC, NetworkPolicy, TLS)
5. Monitoring and metrics options
6. Custom initialization scripts and configurations

Users can customize these settings in the `values.yaml` file or by passing values during Helm installation or upgrade. The `values.schema.json` file provides validation rules for the configuration options, ensuring that users provide valid inputs.

The flexibility in configuration allows this chart to be used in various environments, from development to production, with appropriate settings for each scenario.