---
title: "rolebinding.yaml"
---

## High-level description
This YAML file defines a Kubernetes RoleBinding resource for PostgreSQL in a Helm chart. It binds a Role to a ServiceAccount, granting specific permissions within the cluster namespace. The RoleBinding is only created if RBAC creation is enabled in the chart values.

## Symbols

### RoleBinding
#### Description
Defines a Kubernetes RoleBinding resource that associates a Role with a ServiceAccount.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| .Values.rbac.create | Boolean | Determines whether to create the RoleBinding |
| .Values.commonLabels | Map | Custom labels to be applied to the resource |
| .Values.commonAnnotations | Map | Custom annotations to be applied to the resource |

#### Internal Logic
1. Checks if RBAC creation is enabled (.Values.rbac.create)
2. Sets the API version using a common capability function
3. Generates the resource name and namespace
4. Applies standard labels and custom labels
5. Adds common annotations if provided
6. Specifies the Role to be bound
7. Defines the ServiceAccount as the subject of the RoleBinding

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| common.capabilities.rbac.apiVersion | Determines the appropriate RBAC API version |
| common.names.fullname | Generates a consistent name for the resource |
| common.labels.standard | Applies standard labels to the resource |
| common.tplvalues.render | Renders template values for annotations |
| postgresql.v1.serviceAccountName | Retrieves the name of the PostgreSQL ServiceAccount |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| .Values.rbac.create | Boolean | N/A | Enables or disables RBAC resource creation |
| .Values.commonLabels | Map | N/A | Custom labels to apply to the resource |
| .Values.commonAnnotations | Map | N/A | Custom annotations to apply to the resource |

Note: This YAML template is part of a larger Helm chart for PostgreSQL and relies on various helper templates and chart values for its configuration.