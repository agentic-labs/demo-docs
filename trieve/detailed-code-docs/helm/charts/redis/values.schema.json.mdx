---
title: "values.schema.json"
---

## High-level description
The code in `helm/charts/redis/values.schema.json` defines a JSON schema for validating the values file used in a Helm chart for deploying Redis. This schema specifies the expected structure, data types, and constraints for the various configuration options available in the chart.

## Code Structure
The schema is structured as a nested JSON object with properties representing different configuration sections. Each property has a type, title, and optional description, form, enum, hidden, and render attributes. The `hidden` attribute controls the visibility of a property based on the value of another property. The `render` attribute specifies how the property should be rendered in a form.

## Symbols
### `values.schema.json`
#### Description
This JSON schema defines the structure and validation rules for the values file used in the Redis Helm chart. It ensures that the provided values conform to the expected format and constraints.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The schema defines various properties, each with its own set of attributes:

| Property | Type | Description |
|:---|:---|:---|
| `architecture` | string | Specifies the Redis architecture, either "standalone" or "replication". |
| `auth` | object | Contains authentication configuration. |
| `master` | object | Settings for master replicas. |
| `replica` | object | Settings for Redis replicas (hidden if architecture is "standalone"). |
| `volumePermissions` | object | Configuration for volume permissions. |
| `metrics` | object | Details for Prometheus metrics exporter. |

Each property can have additional attributes like `form`, `enum`, `hidden`, and `render` to control its behavior and presentation in a form.

## Side Effects
None

## Dependencies
None

## Configuration
The schema itself defines the configuration options for the Redis Helm chart. The table below summarizes the available options:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `architecture` | string |  | Redis architecture ("standalone" or "replication"). |
| `auth.enabled` | boolean |  | Enables password authentication. |
| `auth.password` | string |  | Redis password (randomly generated if not set). |
| `master.kind` | string |  | Workload kind for master replicas ("Deployment", "StatefulSet", or "DaemonSet"). |
| `master.persistence.enabled` | boolean |  | Enables persistence for master replicas. |
| `master.persistence.size` | string |  | Persistent volume size for master replicas. |
| `replica.kind` | string |  | Workload kind for Redis replicas ("DaemonSet" or "StatefulSet"). |
| `replica.replicaCount` | integer |  | Number of Redis replicas. |
| `replica.persistence.enabled` | boolean |  | Enables persistence for Redis replicas. |
| `replica.persistence.size` | string |  | Persistent volume size for Redis replicas. |
| `volumePermissions.enabled` | boolean |  | Enables init containers for setting volume permissions. |
| `metrics.enabled` | boolean |  | Creates a Prometheus metrics exporter sidecar. |
| `metrics.serviceMonitor.enabled` | boolean |  | Creates a ServiceMonitor for Prometheus Operator. |

## Error Handling
The schema itself doesn't handle errors. It defines the validation rules, and Helm will raise errors if the provided values file doesn't conform to the schema.

## Logging
None

## API/Interface Reference
None
