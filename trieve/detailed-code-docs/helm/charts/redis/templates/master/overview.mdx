---
title: "Overview"
---

## High-level description
This directory contains Kubernetes manifest templates for deploying and configuring the Redis master component in a Helm chart. It includes definitions for the main application deployment, persistent volume claim, pod security policy, service, and service account.

## What does it do?
These templates work together to create a fully functional Redis master deployment in a Kubernetes environment. Here's a breakdown of the main components:

1. The application deployment (application.yaml) sets up the Redis master container, including configuration for authentication, TLS, metrics exporting, and various Kubernetes-specific settings.

2. A persistent volume claim (pvc.yaml) is created to provide durable storage for Redis data when persistence is enabled.

3. The pod security policy (psp.yaml) defines security constraints for the Redis master pod, such as file system access and user/group permissions.

4. A Kubernetes service (service.yaml) is created to expose the Redis master, allowing other components to connect to it.

5. A service account (serviceaccount.yaml) is optionally created for the Redis master, which can be used for authentication and authorization within the cluster.

These components are highly configurable through Helm values, allowing users to customize the deployment to their specific needs.

## Key Files

1. application.yaml: This is the main deployment file for the Redis master. It defines either a Deployment or StatefulSet resource, depending on the configuration. It includes specifications for the Redis container, optional metrics exporter, volume mounts, and various Kubernetes features like affinity rules and security contexts.

2. pvc.yaml: This file defines a PersistentVolumeClaim for the Redis master data. It's conditionally created based on the architecture and persistence settings.

3. psp.yaml: This file creates a PodSecurityPolicy for the Redis master pod, setting up security constraints such as privilege restrictions and file system access.

4. service.yaml: This template defines a Kubernetes Service to expose the Redis master. It configures the service type, ports, and selectors based on the provided values.

5. serviceaccount.yaml: This file creates a ServiceAccount for the Redis master, which is used for authentication and authorization within the Kubernetes cluster.

## Dependencies
The templates in this directory rely on several external dependencies:

1. Redis image: The main application container uses an official Redis image.
2. Metrics exporter image: An optional container for exposing Prometheus metrics.
3. Kubernetes API: These templates are designed to work with Kubernetes and use various Kubernetes resources.
4. Helm: The templating system used in these files is provided by Helm.

## Configuration
The templates in this directory are highly configurable through Helm values. Some key configuration options include:

1. Redis architecture (standalone or replication)
2. Authentication settings
3. TLS configuration
4. Persistence options
5. Resource requests and limits
6. Service type and port configurations
7. Pod security settings

These options allow users to customize the Redis master deployment to suit their specific requirements and environment.

The configuration values are typically defined in a separate `values.yaml` file in the Helm chart, which is not included in this directory. Users can override these values when installing or upgrading the Helm chart.