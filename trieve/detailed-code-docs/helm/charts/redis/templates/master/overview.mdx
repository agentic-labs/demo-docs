---
title: "Overview"
---

## High-level description
This directory contains Kubernetes resource templates for deploying and managing the Redis master instance in a Helm chart. It includes definitions for the main application deployment, persistent volume claims, pod security policies, services, and service accounts.

## What does it do?
The templates in this directory work together to deploy a Redis master instance with various configuration options:

1. The main application template (`application.yaml`) defines a StatefulSet or Deployment for the Redis master, including container specifications, volume mounts, and optional sidecar containers for metrics collection.

2. The persistent volume claim template (`pvc.yaml`) creates storage resources for the Redis master when persistence is enabled.

3. The pod security policy template (`psp.yaml`) defines security restrictions for the Redis master pods, enhancing the overall security posture of the deployment.

4. The service template (`service.yaml`) exposes the Redis master instance, allowing other components to communicate with it.

5. The service account template (`serviceaccount.yaml`) creates a Kubernetes ServiceAccount for the Redis master pod, which can be used for authentication and authorization purposes.

These templates use Helm's templating engine to dynamically generate Kubernetes manifests based on user-provided values, allowing for flexible and customizable Redis master deployments.

## Key Files

1. `application.yaml`: This is the main template for deploying the Redis master instance. It defines a StatefulSet or Deployment based on the configuration, sets up containers, volumes, and optional sidecars for metrics collection. It also handles various aspects such as authentication, TLS, resource limits, and probes.

2. `pvc.yaml`: This template creates a PersistentVolumeClaim for the Redis master when persistence is enabled. It allows for customization of storage size, access modes, and storage class.

3. `psp.yaml`: This file defines a Pod Security Policy for the Redis master pods, enforcing security constraints such as disabling privilege escalation, restricting allowed volume types, and setting specific user and group IDs.

4. `service.yaml`: This template creates a Kubernetes Service to expose the Redis master instance. It supports different service types (ClusterIP, NodePort, LoadBalancer) and allows for customization of various service parameters.

5. `serviceaccount.yaml`: This template creates a Kubernetes ServiceAccount for the Redis master pod, which can be used for authentication and authorization within the cluster.

## Dependencies
The templates in this directory rely on the following external libraries and Kubernetes resources:

1. Helm: The templating engine used to generate the Kubernetes manifests dynamically.
2. Kubernetes API: For deploying and managing resources like StatefulSets, Deployments, PersistentVolumeClaims, Services, and ServiceAccounts.
3. Redis: The core application being deployed and managed by these templates.
4. Prometheus (optional): If metrics collection is enabled, the templates include a sidecar container for exporting Redis metrics to Prometheus.

## Configuration
The templates in this directory are highly configurable through Helm values. Some key configuration options include:

1. Redis architecture (standalone or replication)
2. Authentication settings
3. Persistence configuration
4. Resource limits and requests
5. Metrics collection
6. TLS encryption
7. Pod security settings
8. Service type and configuration
9. Storage class and size for persistent volumes

These configuration options are typically defined in the `values.yaml` file of the Helm chart and can be overridden during installation or upgrade.

The templates use conditional logic and Helm functions to generate the appropriate Kubernetes manifests based on the provided configuration values, allowing for flexible and customizable Redis master deployments.