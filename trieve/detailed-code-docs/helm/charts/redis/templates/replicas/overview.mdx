---
title: "Overview"
---

## High-level description
This directory contains Kubernetes YAML templates for deploying Redis replica instances in a replication architecture. It includes configurations for the main application deployment, horizontal pod autoscaling, service exposure, and service account creation.

## What does it do?
The templates in this directory work together to set up a scalable and configurable Redis replica deployment:

1. The main application template (`application.yaml`) defines a StatefulSet for Redis replicas, configuring aspects such as container images, ports, environment variables, resource limits, persistence, probes, and security contexts.

2. The horizontal pod autoscaler template (`hpa.yaml`) enables automatic scaling of Redis replica pods based on CPU and/or memory usage.

3. The service template (`service.yaml`) exposes the Redis replicas on a configurable port, allowing for customization of service type, load balancing, and session affinity.

4. The service account template (`serviceaccount.yaml`) creates a dedicated service account for the Redis replicas when using a replication architecture and Sentinel is disabled.

These templates are designed to be flexible and configurable, allowing users to adjust various aspects of the Redis replica deployment through Helm values.

## Entry points
The main entry point for this directory is the `application.yaml` file, which defines the core StatefulSet for Redis replicas. The other files (`hpa.yaml`, `service.yaml`, and `serviceaccount.yaml`) complement this main deployment by providing additional resources and configurations.

The templates use a hierarchical structure of configuration values passed through the `Values` object, allowing for extensive customization of the deployment. The data flow typically starts from the Helm values file, which is then used to render these templates and create the necessary Kubernetes resources.

## Dependencies
These templates rely on the Helm template engine and various Helm template functions. They also include references to other templates within the same chart for defining specific parts of the deployment. The main external dependencies are:

1. Kubernetes API: The templates create Kubernetes resources such as StatefulSets, Services, HPAs, and ServiceAccounts.
2. Redis: The application template is specifically designed to deploy Redis replica instances.
3. Metrics exporter (optional): If metrics are enabled, an additional container for exporting Redis metrics is included.

## Configuration
The templates use a comprehensive set of configuration options passed through the `Values` object. Key configuration areas include:

1. Redis architecture (standalone or replication)
2. Authentication settings
3. Master and replica configurations
4. Persistence settings
5. Resource limits
6. Probes
7. Security contexts
8. TLS settings
9. Metrics settings
10. Volume permissions
11. Sysctl settings
12. Autoscaling configuration
13. Service exposure settings
14. Service account settings

These configuration options allow for fine-tuning of the Redis replica deployment to suit various use cases and environments.