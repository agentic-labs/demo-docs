---
title: "Overview"
---

persistentVolumeClaimRetentionPolicy.whenScaled` | string | Volume retention behavior when the replica count of the StatefulSet is reduced. |
| `master.persistentVolumeClaimRetentionPolicy.whenDeleted` | string | Volume retention behavior that applies when the StatefulSet is deleted. |
| `master.service.type` | string | Redis master service type. |
| `master.service.ports.redis` | integer | Redis master service port. |
| `master.service.nodePorts.redis` | integer | Node port for Redis master. |
| `master.service.externalTrafficPolicy` | string | Redis master service external traffic policy. |
| `master.service.extraPorts` | list | Extra ports to expose (normally used with the `sidecar` value). |
| `master.service.internalTrafficPolicy` | string | Redis master service internal traffic policy (requires Kubernetes v1.22 or greater to be usable). |
| `master.service.clusterIP` | string | Redis master service Cluster IP. |
| `master.service.loadBalancerIP` | string | Redis master service Load Balancer IP. |
| `master.service.loadBalancerClass` | string | master service Load Balancer class if service type is `LoadBalancer` (optional, cloud specific). |
| `master.service.loadBalancerSourceRanges` | list | Redis master service Load Balancer sources. |
| `master.service.externalIPs` | list | Redis master service External IPs. |
| `master.service.annotations` | map | Additional custom annotations for Redis master service. |
| `master.service.sessionAffinity` | string | Session Affinity for Kubernetes service, can be "None" or "ClientIP". |
| `master.service.sessionAffinityConfig` | map | Additional settings for the sessionAffinity. |
| `master.terminationGracePeriodSeconds` | integer | Integer setting the termination grace period for the redis-master pods. |
| `master.serviceAccount.create` | boolean | Specifies whether a ServiceAccount should be created. |
| `master.serviceAccount.name` | string | The name of the ServiceAccount to use. |
| `master.serviceAccount.automountServiceAccountToken` | boolean | Whether to auto mount the service account token. |
| `master.serviceAccount.annotations` | map | Additional custom annotations for the ServiceAccount. |

#### Outputs
None

### `replica`
#### Description
Defines configuration parameters for the Redis replica nodes.

#### Inputs
Similar to the `master` section, but with some additional replica-specific parameters:

| Name | Type | Description |
|:-----|:-----|:------------|
| `replica.replicaCount` | integer | Number of Redis replicas to deploy. |
| `replica.configuration` | string | Configuration for Redis replicas nodes. |
| `replica.disableCommands` | list | Array with Redis commands to disable on replicas nodes. |
| `replica.command` | list | Override default container command (useful when using custom images). |
| `replica.args` | list | Override default container args (useful when using custom images). |
| `replica.preExecCmds` | list | Additional commands to run prior to starting Redis replicas. |
| `replica.extraFlags` | list | Array with additional command line flags for Redis replicas. |
| `replica.extraEnvVars` | list | Array with extra environment variables to add to Redis replicas nodes. |
| `replica.extraEnvVarsCM` | string | Name of existing ConfigMap containing extra env vars for Redis replicas nodes. |
| `replica.extraEnvVarsSecret` | string | Name of existing Secret containing extra env vars for Redis replicas nodes. |
| `replica.externalMaster.enabled` | boolean | Use external master for bootstrapping. |
| `replica.externalMaster.host` | string | External master host to bootstrap from. |
| `replica.externalMaster.port` | integer | Port for Redis service external master host. |

#### Outputs
None

### `sentinel`
#### Description
Defines configuration parameters for Redis Sentinel.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| `sentinel.enabled` | boolean | Use Redis Sentinel on Redis pods. |
| `sentinel.image.registry` | string | Redis Sentinel image registry. |
| `sentinel.image.repository` | string | Redis Sentinel image repository. |
| `sentinel.image.tag` | string | Redis Sentinel image tag (immutable tags are recommended). |
| `sentinel.image.digest` | string | Redis Sentinel image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag. |
| `sentinel.image.pullPolicy` | string | Redis Sentinel image pull policy. |
| `sentinel.image.pullSecrets` | list | Redis Sentinel image pull secrets. |
| `sentinel.image.debug` | boolean | Enable image debug mode. |
| `sentinel.masterSet` | string | Master set name. |
| `sentinel.quorum` | integer | Sentinel Quorum. |
| `sentinel.getMasterTimeout` | integer | Amount of time to allow before get_sentinel_master_info() times out. |
| `sentinel.automateClusterRecovery` | boolean | Automate cluster recovery in cases where the last replica is not considered a good replica and Sentinel won't automatically failover to it. |
| `sentinel.redisShutdownWaitFailover` | boolean | Whether the Redis master container waits for the failover at shutdown (in addition to the Redis Sentinel container). |
| `sentinel.downAfterMilliseconds` | integer | Timeout for detecting a Redis node is down. |
| `sentinel.failoverTimeout` | integer | Timeout for performing a election failover. |
| `sentinel.parallelSyncs` | integer | Number of replicas that can be reconfigured in parallel to use the new master after a failover. |
| `sentinel.configuration` | string | Configuration for Redis Sentinel nodes. |
| `sentinel.command` | list | Override default container command (useful when using custom images). |
| `sentinel.args` | list | Override default container args (useful when using custom images). |
| `sentinel.preExecCmds` | list | Additional commands to run prior to starting Redis Sentinel. |
| `sentinel.containerPorts.sentinel` | integer | Container port to open on Redis Sentinel nodes. |
| `sentinel.startupProbe.enabled` | boolean | Enable startupProbe on Redis Sentinel nodes. |
| `sentinel.startupProbe.initialDelaySeconds` | integer | Initial delay seconds for startupProbe. |
| `sentinel.startupProbe.periodSeconds` | integer | Period seconds for startupProbe. |
| `sentinel.startupProbe.timeoutSeconds` | integer | Timeout seconds for startupProbe. |
| `sentinel.startupProbe.failureThreshold` | integer | Failure threshold for startupProbe. |
| `sentinel.startupProbe.successThreshold` | integer | Success threshold for startupProbe. |
| `sentinel.livenessProbe.enabled` | boolean | Enable livenessProbe on Redis Sentinel nodes. |
| `sentinel.livenessProbe.initialDelaySeconds` | integer | Initial delay seconds for livenessProbe. |
| `sentinel.livenessProbe.periodSeconds` | integer | Period seconds for livenessProbe. |
| `sentinel.livenessProbe.timeoutSeconds` | integer | Timeout seconds for livenessProbe. |
| `sentinel.livenessProbe.failureThreshold` | integer | Failure threshold for livenessProbe. |
| `sentinel.livenessProbe.successThreshold` | integer | Success threshold for livenessProbe. |
| `sentinel.readinessProbe.enabled` | boolean | Enable readinessProbe on Redis Sentinel nodes. |
| `sentinel.readinessProbe.initialDelaySeconds` | integer | Initial delay seconds for readinessProbe. |
| `sentinel.readinessProbe.periodSeconds` | integer | Period seconds for readinessProbe. |
| `sentinel.readinessProbe.timeoutSeconds` | integer | Timeout seconds for readinessProbe. |
| `sentinel.readinessProbe.failureThreshold` | integer | Failure threshold for readinessProbe. |
| `sentinel.readinessProbe.successThreshold` | integer | Success threshold for readinessProbe. |
| `sentinel.customStartupProbe` | map | Custom startupProbe that overrides the default one. |
| `sentinel.customLivenessProbe` | map | Custom livenessProbe that overrides the default one. |
| `sentinel.customReadinessProbe` | map | Custom readinessProbe that overrides the default one. |
| `sentinel.resources.limits` | map | The resources limits for the Redis Sentinel containers. |
| `sentinel.resources.requests` | map | The requested resources for the Redis Sentinel containers. |
| `sentinel.containerSecurityContext.enabled` | boolean | Enabled Redis Sentinel containers' Security Context. |
| `sentinel.containerSecurityContext.runAsUser` | integer | Set Redis Sentinel containers' Security Context runAsUser. |
| `sentinel.lifecycleHooks` | map | for the Redis sentinel container(s) to automate configuration before or after startup. |
| `sentinel.extraVolumes` | list | Optionally specify extra list of additional volumes for the Redis Sentinel. |
| `sentinel.extraVolumeMounts` | list | Optionally specify extra list of additional volumeMounts for the Redis Sentinel container(s). |
| `sentinel.service.type` | string | Redis Sentinel service type. |
| `sentinel.service.ports.redis` | integer | Redis service port for Redis. |
| `sentinel.service.ports.sentinel` | integer | Redis service port for Redis Sentinel. |
| `sentinel.service.nodePorts.redis` | integer | Node port for Redis. |
| `sentinel.service.nodePorts.sentinel` | integer | Node port for Sentinel. |
| `sentinel.service.externalTrafficPolicy` | string | Redis Sentinel service external traffic policy. |
| `sentinel.service.extraPorts` | list | Extra ports to expose (normally used with the `sidecar` value). |
| `sentinel.service.clusterIP` | string | Redis Sentinel service Cluster IP. |
| `sentinel.service.loadBalancerIP` | string | Redis Sentinel service Load Balancer IP. |
| `sentinel.service.loadBalancerSourceRanges` | list | Redis Sentinel service Load Balancer sources. |
| `sentinel.service.annotations` | map | Additional custom annotations for Redis Sentinel service. |
| `sentinel.service.sessionAffinity` | string | Session Affinity for Kubernetes service, can be "None" or "ClientIP". |
| `sentinel.service.sessionAffinityConfig` | map | Additional settings for the sessionAffinity. |
| `sentinel.terminationGracePeriodSeconds` | integer | Integer setting the termination grace period for the redis-node pods. |

#### Outputs
None

### `metrics`
#### Description
Defines configuration parameters for Redis metrics exporter.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| `metrics.enabled` | boolean | Start a side-car prometheus exporter. |
| `metrics.image.registry` | string | Redis Exporter image registry. |
| `metrics.image.repository` | string | Redis Exporter image repository. |
| `metrics.image.tag` | string | Redis Exporter image tag (immutable tags are recommended). |
| `metrics.image.digest` | string | Redis Exporter image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag. |
| `metrics.image.pullPolicy` | string | Image pull policy. |
| `metrics.image.pullSecrets` | list | Specify docker-registry secret names as an array. |
| `metrics.command` | list | Override default container command (useful when using custom images). |
| `metrics.extraArgs` | map | Additional command line arguments to pass to redis-exporter. |
| `metrics.extraEnvVars` | list | Array with extra environment variables to add to Redis exporter. |
| `metrics.containerSecurityContext.enabled` | boolean | Enabled Redis