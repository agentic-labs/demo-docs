---
title: "types.ts"
---

## High-level description
This file defines various TypeScript interfaces and types used across the Trieve application, including data structures for chunks, users, organizations, datasets, and analytics. It also includes utility functions for handling user roles and API key roles.

## Code Structure
The file is organized into several sections:
1. Interfaces for data structures (e.g., ChunkMetadataStringTagSet, SlimUser, Organization)
2. Enums and utility functions for user roles and API key roles
3. Configuration interfaces (e.g., ServerEnvsConfiguration)
4. Analytics-related interfaces and types
5. Utility functions for type checking and data conversion

## Symbols

### `ChunkMetadataStringTagSet`
#### Description
Represents metadata for a chunk of data, including its ID, HTML content, link, and various attributes.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the chunk |
| chunk_html | string (optional) | HTML content of the chunk |
| link | string | null | Link associated with the chunk |
| qdrant_point_id | string | Identifier for the Qdrant point |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| tag_set | string | null | Set of tags associated with the chunk |
| tracking_id | string | null | Tracking identifier |
| time_stamp | string | null | Timestamp for the chunk |
| metadata | Record&lt;string, never&gt; | null | Additional metadata |
| dataset_id | string | Identifier of the dataset the chunk belongs to |
| weight | number | Weight of the chunk |
| location | { lat: number; lon: number } | null | Geographical location |
| num_value | number | null | Numeric value associated with the chunk |
| image_urls | string[] | null | Array of image URLs |

### `SlimUser`
#### Description
Represents a user with minimal information.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user |
| name | string (optional) | User's name |
| email | string | User's email address |
| user_orgs | UserOrganization[] | Organizations the user belongs to |
| orgs | Organization[] | Organizations associated with the user |

### `UserOrganization`
#### Description
Represents the relationship between a user and an organization.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user-organization relationship |
| user_id | string | Identifier of the user |
| organization_id | string | Identifier of the organization |
| role | number | User's role in the organization |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |

### `Organization`
#### Description
Represents an organization in the system.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the organization |
| name | string | Name of the organization |
| configuration | [key: string] | Configuration settings |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| registerable | boolean (optional) | Whether the organization is registerable |

### `OrganizationAndSubAndPlan`
#### Description
Combines organization information with subscription and plan details.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| organization | Organization | The organization |
| plan | StripePlan | null (optional) | Associated Stripe plan |
| subscription | StripeSubscription | null (optional) | Associated Stripe subscription |

### `StripeSubscription`
#### Description
Represents a Stripe subscription.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the subscription |
| stripe_id | string | Stripe's identifier for the subscription |
| plan_id | string | Identifier of the associated plan |
| organization_id | string | Identifier of the associated organization |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| current_period_end | string | null (optional) | End of the current subscription period |

### `StripePlan`
#### Description
Represents a Stripe plan with usage limits and pricing information.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the plan |
| stripe_id | string | Stripe's identifier for the plan |
| chunk_count | number | Number of chunks allowed |
| file_storage | number | Amount of file storage allowed |
| user_count | number | Number of users allowed |
| dataset_count | number | Number of datasets allowed |
| message_count | number | Number of messages allowed |
| amount | number | Price of the plan |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| name | string | Name of the plan |

### `OrganizationUsageCount`
#### Description
Tracks usage statistics for an organization.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the usage count |
| org_id | string | Identifier of the organization |
| dataset_count | number | Number of datasets used |
| user_count | number | Number of users |
| file_storage | number | Amount of file storage used |
| message_count | number | Number of messages used |
| chunk_count | number | Number of chunks used |

### `Dataset`
#### Description
Represents a dataset in the system.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the dataset |
| tracking_id | string | Tracking identifier |
| name | string | Name of the dataset |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| organization_id | string | Identifier of the associated organization |
| server_configuration | ServerEnvsConfiguration | Server environment configuration |

### `DatasetUsageCount`
#### Description
Tracks usage statistics for a dataset.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the usage count |
| dataset_id | string | Identifier of the dataset |
| chunk_count | number | Number of chunks in the dataset |

### `DatasetAndUsage`
#### Description
Combines dataset information with its usage statistics.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| dataset | Dataset | The dataset |
| dataset_usage | DatasetUsageCount | Usage statistics for the dataset |

### `ServerEnvsConfiguration`
#### Description
Defines server environment configuration options.

#### Properties
Various configuration options for LLM, embedding, and search settings.

### `DefaultError`
#### Description
Represents a default error response.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| message | string | Error message |

### `ComboboxItem`
#### Description
Represents an item in a combobox.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | Name of the item |
| custom | boolean (optional) | Whether the item is custom |
| selected | boolean (optional) | Whether the item is selected |

### `ComboboxSection`
#### Description
Represents a section in a combobox.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | Name of the section |
| comboboxItems | ComboboxItem[] | Items in the section |

### `SetUserApiKeyResponse`
#### Description
Response for setting a user's API key.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| api_key | string | The generated API key |

### `isComboboxValues`
#### Description
Type guard function to check if a value is of type ComboboxSection[].

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| values | unknown | The value to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the value is ComboboxSection[], false otherwise |

### `UserRole` (enum)
#### Description
Enumerates possible user roles.

#### Values
- User
- Admin
- Owner

### `fromI32ToUserRole`
#### Description
Converts a number to a UserRole.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | number | The role as a number |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| userRole | UserRole | The corresponding UserRole |

### `fromUserRoleToI32`
#### Description
Converts a UserRole to a number.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | UserRole | The UserRole to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| roleNumber | number | The role as a number |

### `stringToUserRole`
#### Description
Converts a string to a UserRole.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| input | string | The role as a string |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| userRole | UserRole | undefined | The corresponding UserRole or undefined |

### `ApiKeyRole` (enum)
#### Description
Enumerates possible API key roles.

#### Values
- Read
- CurrentPerms

### `fromI32ToApiKeyRole`
#### Description
Converts a number to an ApiKeyRole.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | number | The role as a number |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiKeyRole | ApiKeyRole | The corresponding ApiKeyRole |

### `fromApiKeyRoleToI32`
#### Description
Converts an ApiKeyRole to a number.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | ApiKeyRole | The ApiKeyRole to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| roleNumber | number | The role as a number |

### `stringToApiKeyRole`
#### Description
Converts a string to an ApiKeyRole.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| input | string | The role as a string |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiKeyRole | ApiKeyRole | undefined | The corresponding ApiKeyRole or undefined |

### `ApiKeyRespBody`
#### Description
Represents the response body for an API key.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the API key |
| user_id | string | Identifier of the associated user |
| name | string | Name of the API key |
| role | number | Role of the API key |
| dataset_ids | string[] | null | Identifiers of associated datasets |
| organization_ids | string[] | null | Identifiers of associated organizations |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |

### `availableEmbeddingModels`
#### Description
Array of available embedding models with their configurations.

### `availableDistanceMetrics`
#### Description
Array of available distance metrics for embeddings.

### `EventDTO`
#### Description
Data transfer object for events.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| events | Event[] | Array of events |
| page_count | number | Total number of pages |

### `isEventDTO`
#### Description
Type guard function to check if a value is of type EventDTO