---
title: "JsonInput.tsx"
---

## High-level description
The `JsonInput` component is a reusable UI element that provides a JSON editor interface. It allows users to input and edit JSON data, with real-time validation and error handling. The component uses the JSONEditor library to create an interactive JSON editing experience.

## Code Structure
The main `JsonInput` component is defined as a function that takes props for value changes, current value, and error handling. It uses Solid.js's reactive primitives to manage the editor state and synchronize with the parent component.

## Symbols

### JsonInput
#### Description
A functional component that renders a JSON editor interface using the JSONEditor library.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onValueChange | (json: any) =&gt; void | Callback function to handle changes in JSON value |
| value | Accessor&lt;any&gt; | Accessor function to get the current JSON value |
| onError | (message: string) =&gt; void | Callback function to handle JSON parsing errors |

#### Internal Logic
1. Creates a signal for the JSONEditor instance.
2. Sets up an effect to update the editor when the input value changes.
3. Initializes the JSONEditor on component mount with specific options.
4. Handles JSON parsing and error reporting in the `onChangeText` callback.
5. Renders a container div for the JSON editor.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Reactive primitives and lifecycle functions |
| jsoneditor | JSON editing library |
| ./AceTheme | Custom theme for the JSON editor |

## Error Handling
The component implements error handling for JSON parsing:
- If the input is empty, it sets the value to `undefined`.
- If there's a parsing error, it calls the `onError` prop with the error message.
- For unknown errors, it calls `onError` with a generic "Unknown error" message.

## Performance Considerations
The component uses `createEffect` with a dependency on `props.value`, ensuring that the editor is updated only when the input value changes, which helps optimize performance.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.