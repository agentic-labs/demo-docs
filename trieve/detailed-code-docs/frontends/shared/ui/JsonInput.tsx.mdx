---
title: "JsonInput.tsx"
---

## High-level description
The `JsonInput` component is a reusable UI element for inputting and editing JSON data. It utilizes the JSONEditor library to provide a rich editing experience with syntax highlighting and error checking. The component allows for real-time updates and error handling, making it suitable for various JSON input scenarios in a web application.

## Code Structure
The main symbol in this code is the `JsonInput` component, which uses several Solid.js primitives and the JSONEditor library. The component manages its state using Solid.js signals and effects, and renders a container for the JSONEditor instance.

## Symbols

### JsonInput
#### Description
A functional component that renders a JSON editor using the JSONEditor library. It allows for real-time editing of JSON data and provides error feedback.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onValueChange | (json: any) =&gt; void | Callback function triggered when the JSON value changes |
| value | Accessor&lt;any&gt; | An accessor function that returns the current JSON value |
| onError | (message: string) =&gt; void | Callback function triggered when an error occurs during JSON parsing |

#### Internal Logic
1. Creates a signal to store the JSONEditor instance.
2. Sets up an effect to update the editor when the input value changes.
3. On mount, initializes the JSONEditor with specific options and sets up the change handler.
4. The change handler attempts to parse the JSON and calls the appropriate callback (onValueChange or onError).
5. Renders a container div for the JSONEditor instance.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Provides reactive primitives and components |
| jsoneditor | Provides the JSON editing functionality |
| ./AceTheme | Custom theme for the JSONEditor (imported but not directly used in this file) |

## Error Handling
The component implements error handling in the `onChangeText` callback of the JSONEditor. If the JSON is invalid, it calls the `onError` prop with the error message. If the error is not an instance of Error, it provides a generic "Unknown error" message.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.