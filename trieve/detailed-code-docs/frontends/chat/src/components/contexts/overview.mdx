---
title: "Overview"
---

## High-level description
This code defines a UserContext and UserContextWrapper component in React. It manages user authentication, organization selection, and dataset management for a chat application. The context provides a centralized state for user-related information and functions, which can be accessed by child components throughout the application.

## Code Structure
The main symbols in this code are:
1. `UserContext`: A React context that holds the user-related state and functions.
2. `UserContextWrapper`: A component that provides the UserContext to its children and manages the user-related state.

The UserContextWrapper uses several signals (createSignal) to manage state, and effects (createEffect) to handle side effects like fetching data and updating localStorage.

## Symbols

### UserContext
#### Description
A React context that provides user-related state and functions to child components.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| UserStore | object | An object containing user-related state and functions |

### UserContextWrapper
#### Description
A component that wraps its children with the UserContext provider and manages user-related state.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| children | JSX.Element | Child components to be wrapped |

#### Internal Logic
1. Initializes state for user, organizations, datasets, and current selections.
2. Defines functions for login, logout, and state updates.
3. Uses effects to handle side effects like fetching datasets and updating localStorage.
4. Provides the UserContext with the current state and functions to its children.

## Side Effects
- Fetches user data and datasets from an API.
- Updates localStorage with current organization and dataset selections.
- Updates URL query parameters with current selections.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For creating reactive state and effects |
| apiTypes | For type definitions used in the component |
| ShowToast | For displaying toast notifications |

## Error Handling
The code includes basic error handling, logging errors to the console and displaying error messages using the createToast function.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.