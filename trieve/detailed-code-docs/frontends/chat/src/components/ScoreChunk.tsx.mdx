---
title: "ScoreChunk.tsx"
---

## High-level description
This code defines a `ScoreChunk` component in React using the Solid.js framework. It's responsible for rendering a chunk of text with associated metadata, including options for expanding/collapsing the content, copying to clipboard, and displaying various metadata fields.

## Code Structure
The main component `ScoreChunk` uses several utility functions and components from Solid.js and other libraries. It also imports types and interfaces from the project's utility files. The component is structured to handle different states (expanded/collapsed) and various user interactions.

## Symbols

### `ScoreChunk`
#### Description
The main component that renders a chunk of text with associated metadata and interactive elements.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | ScoreChunkProps | An object containing various properties for the chunk, including metadata, user information, and display options. |

#### Internal Logic
1. Initializes state for expanded view, copied status, and metadata expansion.
2. Renders metadata fields, including ID, tracking ID, tag set, time stamp, num value, and location.
3. Provides a button to expand/collapse metadata.
4. Renders the chunk content with options to expand/collapse if it's long.
5. Includes buttons for copying content and opening in a search playground.

### `formatDate`
#### Description
A utility function to format a Date object into a string.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| date | Date | The date to be formatted |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| formattedDate | string | The formatted date string in MM/DD/YYYY format |

### `getLocalTime`
#### Description
Converts a UTC date string to the local time.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| strDate | string \| Date | The UTC date string or Date object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| localTime | Date | The converted local time as a Date object |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Core library for building user interfaces |
| solid-icons | Icon components |
| sanitize-html | HTML sanitization |
| shared/ui | Shared UI components |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| sanitzerOptions | object | - | Configuration for HTML sanitization |
| linesBeforeShowMore | number | 12 | Number of lines to show before collapsing content |

## Performance Considerations
The component uses `createMemo` for memoization of the `useExpand` calculation, which helps optimize performance by avoiding unnecessary recalculations.