---
title: "FilterModal.tsx"
---

## High-level description
This code defines a FilterModal component in React, which provides a user interface for creating and managing filters for data querying. It allows users to set various filter types such as geo-radius, range, date range, and match filters, and applies these filters to the dataset being queried.

## Code Structure
The code consists of two main components: `FilterModal` and `FilterItem`. `FilterModal` manages the overall filter state and rendering, while `FilterItem` handles individual filter creation and editing. These components use React hooks for state management and side effects.

## Symbols

### `FilterModal`
#### Description
This component renders the main filter interface, allowing users to add, edit, and apply filters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| showFilterModal | Accessor&lt;boolean&gt; | Controls the visibility of the filter modal |
| setShowFilterModal | (open: boolean) =&gt; void | Function to set the visibility of the filter modal |

#### Internal Logic
- Manages state for different filter types (must, must not, should)
- Handles adding new filters and saving filters to local storage
- Renders filter items based on the current filter state

### `FilterItem`
#### Description
This component renders an individual filter item, allowing users to set specific filter parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| initialFilter | Filter (optional) | Initial filter data |
| onFilterChange | (filter: Filter) =&gt; void | Callback function when filter changes |

#### Internal Logic
- Manages state for different filter modes (geo_radius, range, date_range, match)
- Renders appropriate input fields based on the selected filter mode
- Updates parent component when filter changes

## Side Effects
- The component saves filters to local storage when applied
- It dispatches a custom event 'filtersUpdated' when filters are saved

## Dependencies
The component relies on SolidJS for reactivity and state management.

## Configuration
The component doesn't have explicit configuration options, but it uses environment variables for API host configuration.

## Error Handling
There's no explicit error handling in this component. Error handling might be managed at a higher level in the application.

## Logging
This component doesn't implement any logging mechanisms.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.