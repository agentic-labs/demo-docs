---
title: "Sidebar.tsx"
---

## High-level description
The `Sidebar` component is a crucial part of the chat application's user interface. It provides navigation and control elements for the user, including topic management, dataset selection, organization selection, and access to settings and external links. The component is designed to be responsive, adapting its layout for both desktop and mobile views.

## Code Structure
The `Sidebar` component is defined as a function that takes `SidebarProps` as its parameter. It uses various Solid.js primitives like `createSignal`, `createEffect`, and `useContext` to manage its state and side effects. The component renders a complex UI structure with conditional rendering based on the current state and user interactions.

## Symbols

### `Sidebar`
#### Description
The main component function that renders the sidebar UI.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | SidebarProps | Contains various properties and functions for managing topics, sidebar state, and user interactions |

#### Internal Logic
1. Initializes state variables using `createSignal`
2. Retrieves user context using `useContext`
3. Defines helper functions for editing and deleting topics
4. Uses `createEffect` to fetch GitHub star count
5. Renders a complex UI structure with conditional rendering and event handlers

### `submitEditText`
#### Description
An asynchronous function that handles the submission of edited topic names.

#### Internal Logic
1. Retrieves the current topic being edited
2. Sends a PUT request to update the topic name
3. Refreshes the topics list on success
4. Displays an error toast on failure

### `deleteSelected`
#### Description
An asynchronous function that handles the deletion of the currently selected topic.

#### Internal Logic
1. Sends a DELETE request to remove the current topic
2. Updates the UI state on success
3. Displays an error toast on failure

## Side Effects
- Fetches the GitHub star count for the Trieve repository on component mount
- Updates the checkmark icon visibility based on the edited topic name

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Core library for reactive UI components |
| solid-icons | Provides various icons used in the sidebar |
| terracotta | Used for UI components like Popover and Menu |
| @nozbe/microfuzz | Used for fuzzy search functionality |

## Configuration
The component uses environment variables for configuration:
| Option | Type | Description |
|:-------|:-----|:------------|
| VITE_DASHBOARD_URL | string | URL for the dashboard |
| VITE_API_HOST | string | Host URL for API requests |

## Error Handling
The component uses a `createToast` function to display error messages when API requests fail.

## API/Interface Reference
The component interacts with the following API endpoints:
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| /topic | PUT | Updates a topic name |
| /topic/{id} | DELETE | Deletes a topic |

This component is a critical part of the chat application's UI, providing user controls for managing topics, selecting datasets and organizations, and accessing various features. It demonstrates complex state management and conditional rendering techniques using Solid.js.