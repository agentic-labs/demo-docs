---
title: "apiTypes.ts"
---

## High-level description
This file defines various TypeScript interfaces and type guards for API-related data structures used in a chat application. It includes definitions for chunk metadata, user data, organizations, datasets, and various API request and response types. The file also contains utility functions for handling referral tokens and checking object properties.

## Code Structure
The code is organized into several interfaces and type definitions, along with their corresponding type guard functions. These structures are used to represent different entities and data types in the application. Utility functions are provided for specific operations like handling referral tokens and checking object properties.

## Symbols

### `ChunkMetadata`
#### Description
An interface representing metadata for a chunk of information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the chunk |
| chunk_html | string (optional) | HTML content of the chunk |
| link | string or null | Associated link |
| qdrant_point_id | string | Identifier for Qdrant point |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| tag_set | string[] or null | Set of tags |
| tracking_id | string or null | Tracking identifier |
| time_stamp | string or null | Timestamp |
| file_id | string or null | Associated file identifier |
| file_name | string or null | Associated file name |
| metadata | Record&lt;string, never&gt; or null | Additional metadata |
| weight | number or null | Weight of the chunk |
| location | { lat: number; lon: number } or null | Geographical location |
| num_value | number or null | Numeric value |
| dataset_id | string | Associated dataset identifier |

### `indirectHasOwnProperty`
#### Description
A utility function to safely check if an object has a specific property.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| obj | unknown | The object to check |
| prop | string | The property name to look for |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object has the property, false otherwise |

### `APIRequest`
#### Description
An interface representing a generic API request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| api_key | string | API key for authentication |

### `isChunkMetadata`
#### Description
A type guard function to check if an object is of type ChunkMetadata.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunk | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ChunkMetadata, false otherwise |

### `ChunkMetadataWithVotes`
#### Description
An interface extending ChunkMetadata with author information.

### `isChunkMetadataWithVotes`
#### Description
A type guard function to check if an object is of type ChunkMetadataWithVotes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunk | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ChunkMetadataWithVotes, false otherwise |

### `detectReferralToken`
#### Description
A function to detect and store referral tokens in local storage.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| queryParamT | string \| undefined \| null | The referral token from query parameters |

### `getReferralTokenArray`
#### Description
A function to retrieve the array of referral tokens from local storage.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tokens | string[] | Array of stored referral tokens |

### `OrganizationDTO`
#### Description
An interface representing an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the organization |
| name | string | Name of the organization |
| registerable | boolean | Whether the organization is registerable |

### `isOrganizationDTO`
#### Description
A type guard function to check if an object is of type OrganizationDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| organization | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is OrganizationDTO, false otherwise |

### `UserDTO`
#### Description
An interface representing a user.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user |
| email | string or null | User's email address |
| orgs | [OrganizationDTO] | Array of organizations the user belongs to |

### `isUserDTO`
#### Description
A type guard function to check if an object is of type UserDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UserDTO, false otherwise |

### `UserDTOWithVotesAndChunks`
#### Description
An interface extending UserDTO with additional information about chunks and creation date.

### `isUserDTOWithVotesAndChunks`
#### Description
A type guard function to check if an object is of type UserDTOWithVotesAndChunks.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UserDTOWithVotesAndChunks, false otherwise |

### `UserDTOWithScore`
#### Description
An interface extending UserDTO with a score and creation date.

### `isUserDTOWithScore`
#### Description
A type guard function to check if an object is of type UserDTOWithScore.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UserDTOWithScore, false otherwise |

### `ChunkCollectionDTO`
#### Description
An interface representing a collection of chunks.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the collection |
| name | string | Name of the collection |
| description | string | Description of the collection |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |

### `isChunkCollectionDTO`
#### Description
A type guard function to check if an object is of type ChunkCollectionDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| collection | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ChunkCollectionDTO, false otherwise |

### `DatasetDTO`
#### Description
An interface representing a dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the dataset |
| name | string | Name of the dataset |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| organization_id | string | Associated organization identifier |

### `isDatasetDTO`
#### Description
A type guard function to check if an object is of type DatasetDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dataset | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is DatasetDTO, false otherwise |

### `UsageDTO`
#### Description
An interface representing usage data for a dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the usage data |
| dataset_id | string | Associated dataset identifier |
| chunk_count | number | Number of chunks in the dataset |

### `isUsageDTO`
#### Description
A type guard function to check if an object is of type UsageDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| usage | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UsageDTO, false otherwise |

### `DatasetAndUsageDTO`
#### Description
An interface combining DatasetDTO and UsageDTO.

### `isDatasetAndUsageDTO`
#### Description
A type guard function to check if an object is of type DatasetAndUsageDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| datasetAndUsage | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is DatasetAndUsageDTO, false otherwise |

### `Topic`
#### Description
An interface representing a topic.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the topic |
| user_id | string | Associated user identifier |
| name | string | Name of the topic |
| deleted | boolean | Whether the topic is deleted |
| created_at | string | Creation timestamp |
| updated_at | string | Last update timestamp |
| dataset_id | string | Associated dataset identifier |

## Dependencies
This file does not have any external dependencies.