---
title: "Overview"
---

## High-level description
This directory contains utility functions and hooks for the analytics frontend application. It includes functions for API host configuration, date formatting and parsing, string manipulation, and enhanced navigation.

## What does it do?
The utils directory provides essential helper functions that are used throughout the analytics frontend:

1. It configures the API host URL for making backend requests.
2. It offers various date formatting and parsing functions, crucial for handling date-related data in analytics.
3. It provides a string manipulation function to convert text to title case.
4. It includes a custom navigation hook that preserves query parameters when navigating between routes.

These utilities streamline common tasks, ensure consistency in data handling, and improve the overall functionality of the analytics frontend.

## Key Files

### apiHost.ts
This file defines the `apiHost` variable, which stores the base URL of the API. It retrieves this URL from an environment variable (`VITE_API_HOST`) injected during the build process. This centralized configuration allows for easy management of the API endpoint across the application.

### formatDate.ts
This file contains a set of utility functions for date formatting and parsing, specifically tailored for use with the analytics API. Key functions include:

- `formatDateForApi`: Formats a Date object into a string suitable for API requests.
- `parseCustomDateString`: Parses a custom date string into a Date object.
- `transformAnalyticsFilter`: Transforms date range filters for API requests.
- `formatSensibleTimestamp`: Formats dates into human-readable timestamps, adjusting detail based on the date range.

These functions are crucial for handling date-related data in analytics, ensuring proper formatting for API interactions and user-friendly display.

### titleCase.ts
This file defines the `toTitleCase` function, which converts a given string to title case (capitalizing the first letter of each word). This utility is useful for improving the presentation of text data in the analytics interface.

### useBetterNav.ts
This file exports the `useBetterNav` custom hook, which enhances navigation in the SolidJS application. It allows navigation to different routes while preserving existing query parameters, which is particularly useful for maintaining application state across different views in the analytics frontend.

## Dependencies
The utils directory primarily relies on the following external libraries:

1. date-fns (version not specified): Used in `formatDate.ts` for date and time utilities, providing robust functions for formatting, parsing, and manipulating dates.

2. @solidjs/router (version not specified): Used in `useBetterNav.ts` for routing utilities in SolidJS applications. It provides the `useSearchParams` and `useNavigate` functions essential for the custom navigation hook.

These dependencies were likely chosen for their reliability, performance, and compatibility with the SolidJS framework used in the analytics frontend.

## Configuration
The utils directory uses the following configuration:

- Environment variable: `VITE_API_HOST` (in `apiHost.ts`)
  This variable should be set during the build process and contains the base URL of the API. It's crucial for configuring the API endpoint used throughout the application.

The use of environment variables allows for flexible configuration across different deployment environments (development, staging, production) without changing the codebase.