---
title: "Overview"
---

## High-level description
This directory contains utility functions and hooks that support various operations in the analytics frontend application. The utilities cover a range of functionalities, including API host configuration, date formatting and parsing, string manipulation, and enhanced navigation.

## What does it do?
The utils directory provides essential helper functions and hooks that are used throughout the analytics frontend:

1. It defines the API host for making backend requests.
2. It offers date formatting and parsing functions tailored for analytics data presentation and API interactions.
3. It includes a string manipulation function for converting text to title case, improving UI text consistency.
4. It provides an enhanced navigation hook that preserves query parameters during route changes.

These utilities streamline common operations, ensure consistency in data handling and presentation, and improve the overall user experience of the analytics application.

## Key Files

### apiHost.ts
This file exports a constant `apiHost` that holds the base URL for API requests. It's derived from the environment variable `VITE_API_HOST`, ensuring flexibility in configuring the API endpoint across different environments.

### formatDate.ts
This file contains several functions for date manipulation:
- `formatDateForApi`: Formats dates for API requests.
- `parseCustomDateString`: Parses custom date string formats.
- `transformAnalyticsFilter` and `transformDateParams`: Transform date parameters for analytics filters.
- `formatSensibleTimestamp`: Formats timestamps based on the analytics data time range.

These functions are crucial for handling date-related operations in the analytics frontend, ensuring consistent date formatting for API requests and user display.

### titleCase.ts
This file defines the `toTitleCase` function, which converts strings to title case. It's used throughout the application to improve text readability and maintain consistent capitalization in the user interface.

### useBetterNav.ts
This file exports the `useBetterNav` custom hook, which enhances the default SolidJS navigation functionality. It preserves query parameters when navigating to a new pathname, ensuring a smoother user experience when moving between different views in the analytics application.

## Dependencies
The utils directory relies on the following external libraries:

1. date-fns: Used in formatDate.ts for date manipulation and formatting.
2. @solidjs/router: Used in useBetterNav.ts for routing functionality.

## Configuration
The `apiHost.ts` file uses the `VITE_API_HOST` environment variable to configure the API host. This variable should be set during the build process or runtime configuration of the application.

Example usage of the utilities:

```typescript
// Using apiHost
import { apiHost } from './utils/apiHost';
const apiUrl = `${apiHost}/some-endpoint`;

// Using formatDate functions
import { formatDateForApi, formatSensibleTimestamp } from './utils/formatDate';
const formattedDate = formatDateForApi(new Date());
const formattedTimestamp = formatSensibleTimestamp(date, dateRange);

// Using toTitleCase
import { toTitleCase } from './utils/titleCase';
const formattedText = toTitleCase('some text');

// Using useBetterNav
import { useBetterNav } from './utils/useBetterNav';
const navigate = useBetterNav();
navigate('/new-path'); // Preserves existing query parameters
```

These utilities play a crucial role in maintaining consistency, improving user experience, and simplifying common operations across the analytics frontend application.