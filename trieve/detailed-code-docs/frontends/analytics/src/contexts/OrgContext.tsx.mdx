---
title: "OrgContext.tsx"
---

## High-level description
This code defines the OrgContext and OrgContextProvider components in React, which manage the selected organization for the user. It provides a context for sharing the selected organization across components and handles the logic for initializing and updating the selected organization based on URL parameters and user data.

## Code Structure
The main symbols in this code are:
1. `OrgContext`: A context object created to share organization-related data.
2. `OrgContextProvider`: A component that wraps its children with the OrgContext.Provider and manages the selected organization state.

The `OrgContextProvider` uses the `useSearchParams` hook to interact with URL parameters and the `createSignal` hook to manage the selected organization state.

## Symbols

### OrgContext
#### Description
A context object created using `createContext()` to share organization-related data across components.

### OrgContextProvider
#### Description
A component that provides the OrgContext to its children and manages the selected organization state.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | OrgDatasetContextProps | Contains user data and children components |

#### Internal Logic
1. Uses `useSearchParams` to interact with URL parameters.
2. Defines `getInitialUserOrg` function to determine the initial selected organization.
3. Creates a signal for `selectedOrg` using `createSignal`.
4. Defines `setSelectedOrgWithParams` function to update the selected organization and URL parameters.
5. Renders the OrgContext.Provider with the selected organization and selection function as value.

## Side Effects
- Updates URL parameters when selecting an organization.
- Redirects to an error page if the user has no organizations or if an invalid organization is selected.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @solidjs/router | For routing and URL parameter management |
| solid-js | For creating and managing reactive state and components |
| shared/types | For type definitions (Organization, SlimUser) |

## Error Handling
- Redirects to "/error" if the user has no organizations or if an invalid organization is selected.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.