---
title: "Overview"
---

## High-level description
This directory contains the source code for the analytics frontend of the Trieve application. It includes components for visualizing search and RAG (Retrieval-Augmented Generation) analytics, API client functions, context providers for managing application state, custom hooks, and utility functions.

## What does it do?
The analytics frontend provides a comprehensive dashboard for visualizing and analyzing search and RAG performance data. Key functionalities include:

1. Displaying search usage graphs, latency trends, and query counts
2. Visualizing RAG usage statistics and performance metrics
3. Presenting click-through rate (CTR) summaries
4. Showing tables of search queries and RAG queries with filtering and sorting options
5. Managing user authentication and organization selection
6. Providing data exploration tools with tabbed navigation

The frontend fetches data from the Trieve analytics backend API, processes it, and presents it in various charts, graphs, and tables. It allows users to filter data by date ranges, search methods, and other parameters to gain insights into the performance and usage patterns of their search and RAG systems.

## Entry points
The main entry point for the application is `index.tsx`. This file sets up the application's routing, context providers, error tracking (using Sentry in production), and renders the main application component. It also initializes the query client for data fetching and conditionally renders the Solid Query Devtools in development mode.

The application's structure is organized as follows:

1. `api/`: Contains API client functions for fetching analytics data from the backend.
2. `components/`: Houses React components for visualizing different types of analytics data.
3. `contexts/`: Provides context providers for managing organization and user authentication states.
4. `hooks/`: Contains custom hooks for pagination, pathname retrieval, and CTR setup checks.
5. `layouts/`: Includes layout components for structuring the user interface of the analytics dashboard.
6. `pages/`: Contains components for rendering table-based analytics pages.
7. `utils/`: Provides utility functions for API host configuration, date formatting, and enhanced navigation.

## Key Files
1. `api/analytics.ts`: Core analytics API functions for fetching various types of data.
2. `components/SearchUsageGraph.tsx`: Renders a bar chart showing search requests over time.
3. `components/LatencyGraph.tsx`: Displays a line chart of average search latency.
4. `contexts/OrgContext.tsx`: Manages organization selection and persistence.
5. `contexts/UserAuthContext.tsx`: Handles user authentication and provides user data.
6. `layouts/TopBarLayout.tsx`: Main layout component for the analytics dashboard.
7. `pages/SearchTablePage.tsx`: Displays a table of search queries with filtering and sorting options.

## Dependencies
The project relies on several key external libraries:

1. SolidJS: Core framework for building reactive user interfaces.
2. @tanstack/solid-query: Used for efficient data fetching and caching.
3. chart.js: Primary library for rendering charts and graphs.
4. date-fns: Used for date formatting and manipulation.
5. @solidjs/router: Provides routing functionality for the application.
6. @sentry/browser: Used for error tracking in production.

## Configuration
The application uses various configuration elements:

1. Environment Variables:
   - `VITE_API_HOST`: Specifies the base URL for API requests.
   - Sentry DSN (in production): Used for error tracking configuration.

2. Contexts:
   - `OrgContext`: Manages selected organization information.
   - `DatasetContext`: Provides selected dataset information to components.

3. URL Parameters:
   - `dataset`: Used to track and manage the selected dataset.

4. API Configuration:
   - Most API functions accept parameters for customizing data retrieval, such as date ranges, search methods, and pagination options.

The application is designed to be flexible and configurable, allowing for easy adaptation to different environments and user needs.