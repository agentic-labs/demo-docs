---
title: "Overview"
---

## High-level description
This directory contains API-related code for the analytics frontend of the application. It includes modules for interacting with various analytics endpoints, such as search analytics, click-through rate (CTR) analytics, trends, and general Trieve API interactions.

## What does it do?
The code in this directory provides a set of functions that fetch different types of analytics data from the backend API. These functions handle various aspects of search and usage analytics, including:

1. Fetching latency data for search operations
2. Retrieving search usage statistics
3. Getting lists of frequently searched queries
4. Fetching RAG (Retrieval-Augmented Generation) related queries and usage data
5. Retrieving low confidence and no-result queries
6. Fetching click-through rate (CTR) summaries
7. Retrieving detailed search query data for tabular display
8. Fetching trending search topics and related queries
9. Initializing a Trieve client for general API interactions

These functions are designed to be used by other parts of the frontend application to display analytics data, generate reports, and provide insights into user search behavior and system performance.

## Entry points
The main entry points for this directory are:

1. `analytics.ts`: Contains functions for fetching various search analytics data.
2. `ctr.ts`: Provides a function to fetch click-through rate summaries.
3. `tables.ts`: Contains a function to retrieve detailed search query data for tabular display.
4. `trends.ts`: Offers functions to fetch trending search topics and related queries.
5. `trieve.ts`: Initializes and exports a Trieve client for general API interactions.

The data flow typically starts with these functions being called from components or services in the frontend application. They then make HTTP requests to the backend API, process the responses, and return the data in a format that can be easily consumed by the frontend.

## Dependencies
The code in this directory relies on several external libraries and internal utilities:

1. `trieve-fetch-client`: Used to initialize a Trieve client for API interactions.
2. `fetch`: Used for making HTTP requests to the backend API.
3. Internal utilities:
   - `apiHost`: Provides the base URL for API requests.
   - `transformAnalyticsFilter`: Helps in formatting date values within filter objects.

## Configuration
The code uses environment variables for configuration:

- `VITE_API_HOST`: This environment variable is used to set the base URL for the Trieve API client.

The API endpoints are constructed using the `apiHost` constant, which is likely defined in a separate utility file. This allows for easy configuration of the API base URL across the entire application.

Key configurable aspects in the API calls include:
- Dataset IDs: Many functions require a `datasetId` parameter to specify which dataset to fetch analytics for.
- Filters: Most functions accept filter parameters to narrow down the data being requested.
- Pagination: Some functions support pagination through `page` parameters.
- Granularity: For time-based data, granularity can often be specified (e.g., minute, hour, day).

These configuration options allow the frontend to flexibly request the specific analytics data needed for different views and use cases within the application.