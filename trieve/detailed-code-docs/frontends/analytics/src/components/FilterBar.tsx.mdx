---
title: "FilterBar.tsx"
---

## High-level description
The `FilterBar` component renders a bar with filter controls for analytics data. It provides dropdowns for selecting the search method and search type, and a date range picker for filtering data by time.

## Code Structure
The `FilterBar` component uses several constants and a type definition for its options. It then defines the main component function, which renders a div containing two groups of filter controls: search method and type selectors, and a date range picker.

## Symbols
### `ALL_SEARCH_METHODS`
#### Description
A constant array defining all available search methods, including an "all" option.

#### Inputs
_This symbol has no inputs._

#### Outputs
_This symbol has no outputs._

#### Internal Logic
The array contains the following string literals:
```
["all", "hybrid", "fulltext", "semantic"]
```

### `ALL_SEARCH_TYPES`
#### Description
A constant array defining all available search types, including an "all" option.

#### Inputs
_This symbol has no inputs._

#### Outputs
_This symbol has no outputs._

#### Internal Logic
The array contains the following string literals:
```
["all", "search", "autocomplete", "search_over_groups", "search_within_groups"]
```

### `FilterBarProps`
#### Description
An interface defining the props for the `FilterBar` component.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filters | `AnalyticsParams` | An object containing the current filter settings. |
| setFilters | `SetStoreFunction&lt;AnalyticsParams&gt;` | A function to update the filter settings. |
| noPadding | `boolean` | (Optional) Whether to remove default padding from the filter bar. |

#### Outputs
_This symbol has no outputs._

### `timeFrameOptions`
#### Description
A constant array defining the available time frame options for the date range picker.

#### Inputs
_This symbol has no inputs._

#### Outputs
_This symbol has no outputs._

#### Internal Logic
The array contains the following string literals:
```
["day", "hour", "minute", "second"]
```

### `DateRangeOption`
#### Description
A type alias defining the structure of a date range option.

#### Inputs
_This symbol has no inputs._

#### Outputs
_This symbol has no outputs._

#### Internal Logic
The type alias represents an object with the following properties:
```typescript
{
  date: Date;
  label: string;
}
```

### `dateRanges`
#### Description
A constant array of `DateRangeOption` objects, defining the preset date ranges for the date range picker.

#### Inputs
_This symbol has no inputs._

#### Outputs
_This symbol has no outputs._

#### Internal Logic
The array contains objects with `label` and `date` properties, representing preset date ranges like "Past Hour", "Past Day", and "Past Week".

### `FilterBar`
#### Description
The main component function for the `FilterBar` component. It renders a bar with filter controls for analytics data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | `FilterBarProps` | The props for the component. |

#### Outputs
_This symbol has no outputs._

#### Internal Logic
The component renders a div with two sections:
1. **Search Filters:** This section contains two `Select` components for choosing the search method and search type. The selected values are passed from `props.filters` and updating them calls `props.setFilters` to update the filter state.
2. **Date Range Picker:** This section contains a `DateRangePicker` component for selecting a date range. The selected date range is passed from `props.filters` and updating it calls `props.setFilters` to update the filter state.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `solid-js/store` | Provides state management using stores. |
| `shared/ui` | Provides shared UI components like `DateRangePicker` and `Select`. |
| `../utils/titleCase` | Provides a utility function `toTitleCase` for formatting strings. |
| `date-fns` | Provides date and time utilities like `subDays` and `subHours`. |
| `shared/utils` | Provides shared utility functions like `cn` for class name merging. |

## References
- `AnalyticsParams`: Used to define the type of the `filters` prop and the structure of the filter state.
- `RequiredAnalyticsFilter`: Used to type the filter object within `AnalyticsParams`.
- `DateRangeFilter`: Used to type the `date_range` property within `AnalyticsFilter`.

## Side Effects
This component updates the application state by calling `props.setFilters` when the user interacts with the filter controls.
