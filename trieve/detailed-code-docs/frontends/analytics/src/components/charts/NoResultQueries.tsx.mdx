---
title: "NoResultQueries.tsx"
---

## High-level description
The `NoResultQueries` component displays a list of search queries that did not return any results from the backend. It fetches these queries using the `getNoResultQueries` API function and allows pagination through the results. Each query is displayed in a clickable row that opens a modal with detailed information about the search event.

## Code Structure
The `NoResultQueries` component uses the `createQuery` hook from `@tanstack/solid-query` to fetch and manage the list of no-result queries. It also utilizes the `usePagination` hook to handle pagination logic. The `QueryCard` sub-component renders individual query rows and manages the modal display for each query.

## References
- `getNoResultQueries`: API function to fetch no-result queries.
- `SearchQueryEvent`: Type definition for a search query event.
- `FullScreenModal`: Component for displaying a full-screen modal.
- `SearchQueryEventModal`: Component for displaying details of a search query event.
- `DatasetContext`: Context providing access to the selected dataset.

## Symbols

### `NoResultQueries`
#### Description
This component fetches and displays a paginated list of no-result search queries for the selected dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | `NoResultQueriesProps` | An object containing the filter parameters for fetching the queries. |

#### Outputs
Renders a list of no-result queries with pagination controls.

#### Internal Logic
1. **Data Fetching:**
    - Uses `createQuery` to fetch no-result queries based on the provided `params` and current page.
    - Prefetches the next page of results using `queryClient.prefetchQuery`.
    - Updates the maximum discovered page if the fetched page is empty.
2. **Rendering:**
    - Displays a loading message while data is being fetched.
    - Renders a "No Data" message if no queries are found.
    - Renders a table of `QueryCard` components for each fetched query.
    - Displays pagination buttons using the `PaginationButtons` component.

### `QueryCard`
#### Description
This component renders a single row in the no-result queries table. It displays the query text and an expand icon. Clicking the row opens a modal with detailed information about the search event.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | `SearchQueryEvent` | The search query event object. |

#### Outputs
Renders a table row representing a single no-result query.

#### Internal Logic
1. **Rendering:**
    - Displays the query text in a truncated format.
    - Renders an expand icon that opens a modal when clicked.
2. **Modal Display:**
    - Uses a `FullScreenModal` to display the `SearchQueryEventModal` component with details of the selected query.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @tanstack/solid-query | Used for data fetching and caching. |
| shared/types | Provides type definitions for search query events and other data structures. |
| shared/ui | Provides UI components like `FullScreenModal`, `Table`, etc. |
| solid-js | The core SolidJS library. |
| solid-icons | Provides icons used in the component. |

## Error Handling
The `getNoResultQueries` API function is expected to throw an error if the fetch request fails. The component handles this error by displaying a loading error message.
