---
title: "apiTypes.ts"
---

## High-level description
This code defines various TypeScript interfaces and utility functions for handling API types and responses in a search application. It includes definitions for chunk metadata, user data, organizations, datasets, and various API request and response structures. The file also contains type guards and helper functions for working with these types.

## Code Structure
The code is organized into multiple interface definitions, type aliases, and utility functions. These symbols are related through their use in API requests and responses, with some interfaces extending or including others. Many of the interfaces represent different aspects of the application's data model, such as chunks, users, organizations, and datasets.

## Symbols

### ChunkMetadata
#### Description
Defines the structure of metadata for a chunk of content.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the chunk |
| chunk_html | string | Optional HTML content of the chunk |
| link | string | Optional link associated with the chunk |
| qdrant_point_id | string | Identifier for the chunk in Qdrant |
| created_at | string | Timestamp of chunk creation |
| updated_at | string | Timestamp of last chunk update |
| tag_set | string[] | Optional array of tags associated with the chunk |
| tracking_id | string | Optional tracking identifier |
| time_stamp | string | Optional timestamp |
| metadata | Record&lt;string, never&gt; | Optional additional metadata |
| dataset_id | string | Identifier of the dataset the chunk belongs to |
| weight | number | Weight of the chunk |
| location | object | Optional location data with latitude and longitude |
| num_value | number | Optional numerical value |
| image_urls | string[] | Optional array of image URLs |

### ChunkMetadataWithScore
#### Description
Extends ChunkMetadata to include a score field.

#### Inputs
Includes all inputs from ChunkMetadata, plus:
| Name | Type | Description |
|:-----|:-----|:------------|
| score | number | Score associated with the chunk |

### indirectHasOwnProperty
#### Description
A utility function to safely check if an object has a specific property.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| obj | unknown | The object to check |
| prop | string | The property name to look for |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object has the property, false otherwise |

### APIRequest
#### Description
Defines the structure of a basic API request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| api_key | string | API key for authentication |

### isChunkMetadata
#### Description
Type guard function to check if an object is of type ChunkMetadata.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunk | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ChunkMetadata, false otherwise |

### ChunkGroup
#### Description
Defines the structure of a chunk group.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the group |
| name | string | Name of the group |
| description | string | Description of the group |
| dataset_id | string | Identifier of the dataset the group belongs to |
| created_at | string | Timestamp of group creation |
| updated_at | string | Timestamp of last group update |
| tracking_id | string | Tracking identifier for the group |
| tag_set | string[] | Array of tags associated with the group |

### ChunkBookmarksDTO
#### Description
Defines the structure for chunk bookmarks.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunk_uuid | string | Unique identifier of the chunk |
| slim_groups | ChunkGroup[] | Array of associated chunk groups |

### ChunksWithTotalPagesDTO
#### Description
Defines the structure for a response containing chunks and total pages.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunks | ScoreChunkDTO[] | Array of chunks with scores |
| total_pages | number | Total number of pages |

### ScoreChunkDTO
#### Description
Defines the structure for a chunk with an associated score.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunk | ChunkMetadata | The chunk metadata |
| score | number | The score associated with the chunk |

### isScoreChunkDTO
#### Description
Type guard function to check if an object is of type ScoreChunkDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| chunk | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ScoreChunkDTO, false otherwise |

### ActixApiDefaultError
#### Description
Defines the structure for a default API error response.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | string | Error message |

### isActixApiDefaultError
#### Description
Type guard function to check if an object is of type ActixApiDefaultError.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ActixApiDefaultError, false otherwise |

### ActixChunkUpdateError
#### Description
Extends ActixApiDefaultError to include changed content information.

#### Inputs
Includes all inputs from ActixApiDefaultError, plus:
| Name | Type | Description |
|:-----|:-----|:------------|
| changed_content | string | The content that was changed |

### isActixChunkUpdateError
#### Description
Type guard function to check if an object is of type ActixChunkUpdateError.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is ActixChunkUpdateError, false otherwise |

### detectReferralToken
#### Description
Function to detect and store referral tokens in local storage.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| queryParamT | string \| undefined \| null | The referral token from query parameters |

### getReferralTokenArray
#### Description
Function to retrieve the array of referral tokens from local storage.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tokens | string[] | Array of stored referral tokens |

### UserOrganization
#### Description
Defines the structure for a user's organization membership.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the membership |
| user_id | string | Identifier of the user |
| organization_id | string | Identifier of the organization |
| role | number | Role of the user in the organization |
| created_at | string | Timestamp of membership creation |
| updated_at | string | Timestamp of last membership update |

### Organization
#### Description
Defines the structure for an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the organization |
| name | string | Name of the organization |
| configuration | [key: string] | Configuration settings for the organization |
| created_at | string | Timestamp of organization creation |
| updated_at | string | Timestamp of last organization update |
| registerable | boolean | Optional flag indicating if the organization is registerable |

### SlimUser
#### Description
Defines a slim version of user information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user |
| name | string | Optional name of the user |
| email | string | Email address of the user |
| username | string | Optional username |
| website | string | Optional website of the user |
| visible_email | boolean | Flag indicating if the email is visible |
| user_orgs | UserOrganization[] | Array of user's organization memberships |
| orgs | Organization[] | Array of organizations the user belongs to |

### UserDTO
#### Description
Defines the data transfer object for user information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user |
| email | string | Email address of the user |
| user_orgs | [UserOrganization] | Array of user's organization memberships |
| orgs | [OrganizationDTO] | Array of organizations the user belongs to |

### isUserDTO
#### Description
Type guard function to check if an object is of type UserDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UserDTO, false otherwise |

### UserDTOWithVotesAndChunks
#### Description
Extends UserDTO to include additional information about created chunks.

#### Inputs
Includes all inputs from UserDTO, plus:
| Name | Type | Description |
|:-----|:-----|:------------|
| created_at | string | Timestamp of user creation |
| chunks | ChunkMetadata[] | Array of chunks created by the user |
| total_chunks_created | number | Total number of chunks created by the user |

### isUserDTOWithVotesAndChunks
#### Description
Type guard function to check if an object is of type UserDTOWithVotesAndChunks.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UserDTOWithVotesAndChunks, false otherwise |

### UsersWithTotalPagesDTO
#### Description
Defines the structure for a response containing users and total pages.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| users | UserDTOWithScore[] | Array of users with scores |
| total_user_pages | number | Total number of user pages |

### UserDTOWithScore
#### Description
Extends UserDTO to include a score and creation timestamp.

#### Inputs
Includes all inputs from UserDTO, plus:
| Name | Type | Description |
|:-----|:-----|:------------|
| created_at | string | Timestamp of user creation |
| score | number | Score associated with the user |

### isUserDTOWithScore
#### Description
Type guard function to check if an object is of type UserDTOWithScore.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| user | unknown | The object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the object is UserDTOWithScore, false otherwise |

### ChunkGroupDTO
#### Description
Defines the data transfer object for a chunk group.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the group |
| name | string | Name of the group |
| description | string | Description of the group |
| file_id | string | Optional identifier of the associated file |
| created_at | string | Timestamp of group creation |
| updated_at | string | Timestamp of last group update |

### ChunkGroupPageDTO
#### Description
Defines the structure for a response containing chunk groups and total pages.

#### Inputs
| Name | Type | Description |
|: