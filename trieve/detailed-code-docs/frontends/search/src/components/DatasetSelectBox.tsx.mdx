---
title: "DatasetSelectBox.tsx"
---

## High-level description
The `DatasetSelectBox` component is a dropdown menu that allows users to select a dataset from a list of available datasets. It provides search functionality for datasets and displays the currently selected dataset.

## Code Structure
The component uses various SolidJS primitives and hooks, along with the `solid-headless` library for UI components. It interacts with the `DatasetAndUserContext` to manage dataset-related state and actions.

## Symbols

### DatasetSelectBox
#### Description
This is the main functional component that renders the dataset selection dropdown.

#### Internal Logic
1. Retrieves dataset and user context using `useContext`.
2. Creates reactive signals for dataset search query and results.
3. Uses `createMemo` to derive the dataset list from context.
4. Implements fuzzy search functionality for datasets using `createFuzzySearch`.
5. Renders a `Popover` component with a button to toggle the dataset list.
6. Displays the current dataset name and a dropdown icon.
7. When open, renders a list of datasets with search functionality.
8. Allows selection of a dataset, updating the context accordingly.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Core library for reactive UI components |
| solid-headless | UI component library for dropdown functionality |
| solid-icons | Icon components |
| @nozbe/microfuzz | Fuzzy search functionality |

## Performance Considerations
The component uses `createMemo` and `createEffect` to optimize reactivity and prevent unnecessary re-renders. The fuzzy search is implemented efficiently using `@nozbe/microfuzz`.

## Error Handling
There is no explicit error handling in this component. It assumes that the necessary context and data are available.

## API/Interface Reference
This component doesn't expose an API but relies on the `DatasetAndUserContext` for data and actions.

| Context Property | Type | Description |
|:-----------------|:-----|:------------|
| datasetsAndUsages | Accessor&lt;DatasetAndUsageDTO[]&gt; | List of available datasets |
| currentDataset | Accessor&lt;DatasetAndUsageDTO&gt; | Currently selected dataset |
| setCurrentDataset | (dataset: DatasetAndUsageDTO) =&gt; void | Function to update the selected dataset |

The component renders conditionally based on the availability of datasets (`$datasetsAndUsages?.().length != 0`).