---
title: "ServerTimings.tsx"
---

## High-level description
This code defines a `ServerTimings` component in React using the Solid.js framework. It visualizes server-side timing information for various operations, displaying them as a horizontal bar chart with labels. The component is designed to be responsive and adjusts its layout based on the available screen width.

## Code Structure
The main `ServerTimings` component uses several Solid.js primitives (`createMemo`, `createSignal`, `onMount`) to manage its state and side effects. It calculates the total time, creates labels and banners for each timing entry, and uses ResizeObservers to handle responsive layout adjustments.

## Symbols

### `ServerTimings`
#### Description
The main component that renders the server timings visualization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | ServerTimingsProps | Contains an array of ServerTiming objects |

#### Internal Logic
1. Calculates the total time of all timings.
2. Creates labels for each timing entry.
3. Generates banner components for each timing entry, calculating their widths based on duration and available space.
4. Uses ResizeObservers to track changes in the component's width and adjust the layout accordingly.
5. Renders the total time, labels, and timing banners in a responsive layout.

### `createMemo(() =&gt; {...})`
#### Description
Creates a memoized value for the total time of all timings.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| totalTime | number | The sum of all timing durations |

### `onMount(() =&gt; {...})`
#### Description
Sets up ResizeObservers to track changes in the component's width and clean them up on unmount.

### `createMemo(() =&gt; props.timings.map((t) =&gt; t.name))`
#### Description
Creates a memoized array of timing labels.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| labels | string[] | Array of timing names |

### `createMemo(() =&gt; {...})`
#### Description
Generates banner components for each timing entry, calculating their widths and positions based on the available space.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| banners | JSX.Element[] | Array of banner components |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Provides reactive primitives and components used in the implementation |

## Performance Considerations
The component uses memoization (`createMemo`) to optimize recalculations of derived values. ResizeObservers are used to efficiently handle responsive layout adjustments without constant polling or unnecessary re-renders.