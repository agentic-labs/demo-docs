---
title: "ScoreChunk.tsx"
---

## High-level description
This code defines a `ScoreChunk` component in React, which displays detailed information about a chunk of text, including metadata, content, and various interactive elements like bookmarking and deletion. It's designed to be used in a search results or document viewing context, allowing users to interact with and manage chunks of text data.

## Code Structure
The main `ScoreChunk` component is composed of several sub-components and utility functions. It uses various hooks from the Solid.js library for state management and side effects. The component interacts with an API for operations like deleting chunks and managing bookmarks.

## Symbols

### ScoreChunk
#### Description
The main component that renders a chunk of text with associated metadata, score, and interactive elements.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | ScoreChunkProps | An object containing various properties for the chunk, including metadata, score, and callback functions |

#### Internal Logic
1. Initializes various state variables using `createSignal`
2. Sets up side effects using `createEffect` for handling image links and modal interactions
3. Defines functions for deleting chunks and handling user interactions
4. Renders the chunk information, including metadata, content, and interactive elements

### formatDate
#### Description
A utility function to format a Date object into a string.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| date | Date | The date to be formatted |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| formattedDate | string | The formatted date string in MM/DD/YYYY format |

### renderMetadataElements
#### Description
A recursive function to render metadata elements, handling various data types including arrays and nested objects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | any | The metadata value to be rendered |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| renderedElement | JSX.Element | The rendered metadata element |

## Dependencies
- solid-js
- solid-icons
- sanitize-html
- @solidjs/router
- shared/ui

## Configuration
The component uses environment variables for API host configuration:
- `VITE_API_HOST`: The API host URL

## Error Handling
The component includes basic error handling for API responses, such as displaying alerts for failed chunk deletions.

## Logging
No explicit logging mechanisms are implemented in this component.

## Performance Considerations
The component uses memoization (`createMemo`) for certain computations to optimize performance. It also implements conditional rendering to avoid unnecessary re-renders of complex elements.