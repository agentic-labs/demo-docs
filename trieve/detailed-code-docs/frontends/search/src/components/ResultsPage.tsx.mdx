---
title: "ResultsPage.tsx"
---

## High-level description
This code defines a `ResultsPage` component in React, which displays search results, including chunks of text with associated metadata. It handles pagination, chat functionality, and various user interactions such as rating queries and viewing server timings.

## Code Structure
The main `ResultsPage` component uses several sub-components and utilities to manage the display and interaction with search results. It interacts with an API to fetch data, manages state for various UI elements, and handles user actions like pagination and chat interactions.

## Symbols

### ResultsPage
#### Description
The main component that renders the search results page. It manages the state of search results, pagination, and user interactions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| search | SearchStore | Contains search-related state and functions |
| rateQuery | Accessor&lt;boolean&gt; | Indicates if query rating is active |
| setRatingQuery | Setter&lt;boolean&gt; | Function to set the query rating state |

#### Internal Logic
1. Fetches chunk collections and bookmarks on component mount
2. Handles pagination and result fetching based on search parameters
3. Manages state for various UI elements (e.g., chat, server timings)
4. Renders search results, including individual chunks and group results
5. Provides functionality for rating queries and downloading files

### parseServerTimings
#### Description
Parses server timing information from an array of strings into an array of ServerTiming objects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| labels | string[] | Array of server timing labels |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ServerTiming[] | Array of parsed server timing objects |

### ShowServerTimings
#### Description
A component that renders a toggle button and the ServerTimings component to display server timing information.

## Dependencies
- solid-js
- solid-icons
- @solidjs/router
- sanitize-html

## Error Handling
The code includes basic error handling for API requests, displaying error messages using toast notifications.

## Logging
No explicit logging mechanisms are implemented in this code.

## Performance Considerations
1. The code uses `createMemo` and `createEffect` for optimizing reactive computations.
2. Pagination is implemented to limit the number of results fetched and displayed at once.
3. The component uses lazy loading techniques, such as the `Show` component, to conditionally render elements.

## TODOs
There are no explicit TODOs in the code.