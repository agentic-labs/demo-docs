---
title: "Overview"
---

## High-level description
This directory contains custom React hooks that manage various aspects of the search functionality in the application. The hooks handle dataset server configuration retrieval and search state management, including options, filters, and pagination.

## What does it do?
The hooks in this directory provide essential functionality for the search feature of the application:

1. `useDatasetServerConfig`: This hook fetches and provides the server configuration for a specific dataset. It allows components to access dataset-specific settings and configurations.

2. `useSearch`: This hook manages the entire search state, including search options, filters, sorting, and pagination. It provides methods to update the search state and synchronizes it with URL parameters, enabling shareable search URLs and state persistence across page reloads.

These hooks work together to create a robust and flexible search experience for users, handling both the backend configuration and frontend state management.

## Key Files

### useDatasetServerConfig.ts
This file contains the `useDatasetServerConfig` hook, which is responsible for fetching the server configuration for the current dataset. It uses the SolidJS framework and makes an API call to retrieve the configuration based on the current dataset context.

Key features:
- Utilizes the `DatasetAndUserContext` to access current dataset information
- Creates a SolidJS resource to fetch and store the dataset configuration
- Handles API calls with proper error handling
- Returns the server configuration for use in components

### useSearch.ts
This file defines the `useSearch` hook, which manages the state and logic for the search functionality. It handles various search options, filters, and pagination, and provides methods to update and synchronize the search state with URL parameters.

Key features:
- Defines interfaces for search options, sorting, and highlight strategies
- Manages search state using SolidJS's `createStore`
- Implements debounced state updates to improve performance
- Synchronizes search state with URL parameters for shareable search URLs
- Provides utility functions for type checking of search-related objects

## Dependencies
The hooks in this directory rely on the following external libraries and frameworks:

1. SolidJS (solid-js): Used for reactive state management and creating resources.
   - Version: Not specified in the provided code
   - Chosen for its efficient reactivity system and lightweight nature

2. @solidjs/router: Used for handling URL parameters in the search state.
   - Version: Not specified in the provided code
   - Chosen for its integration with SolidJS and URL management capabilities

## Configuration
The `useDatasetServerConfig` hook uses an environment variable for API configuration:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| VITE_API_HOST | string | N/A | The base URL for the API |

The `useSearch` hook defines an `initialState` object with default values for all search options, which serves as a configuration for the initial search state.

These hooks provide a solid foundation for managing search-related functionality in the application, handling both server-side configuration and client-side state management. They offer a clean and efficient way to implement complex search features while maintaining good performance and user experience.