---
title: "Settings.tsx"
---

## High-level description
This code defines the Settings component for a dashboard, which includes two main parts: OrgSettingsForm for updating organization details and OrgDangerZoneForm for deleting the organization. It uses SolidJS for reactivity and manages organization data through a UserContext.

## Code Structure
The file contains three main components:
1. OrgSettingsForm: Handles updating organization name
2. OrgDangerZoneForm: Manages organization deletion
3. Settings: Combines the above components

These components use shared context (UserContext) and utility functions (createToast) from other parts of the application.

## References
- UserContext from "../../contexts/UserContext"
- createToast from "../../components/ShowToasts"
- useNavigate from "@solidjs/router"

## Symbols

### OrgSettingsForm
#### Description
A form component for updating organization settings, specifically the organization name.

#### Internal Logic
1. Retrieves the current organization data from UserContext
2. Allows editing of the organization name
3. Updates the organization name both on the server and in the local context when submitted

### OrgDangerZoneForm
#### Description
A form component for deleting the current organization.

#### Internal Logic
1. Requires user to type the organization name to confirm deletion
2. Sends a DELETE request to the server to remove the organization
3. Updates the UserContext and navigates to a new page on successful deletion

### Settings
#### Description
The main component that combines OrgSettingsForm and OrgDangerZoneForm.

#### Internal Logic
Renders both forms within a grid layout.

## Side Effects
- Updates organization data on the server
- Modifies UserContext data
- Navigates to different pages after organization deletion

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive programming and component creation |
| @solidjs/router | For navigation after organization deletion |

## Error Handling
The code uses createToast to display error messages when operations fail, such as during organization deletion.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /organization | PUT | { organization_id, name } | N/A | Update organization name |
| /organization/${orgId} | DELETE | N/A | N/A | Delete organization |

Note: The actual API endpoints are constructed using the api_host environment variable.