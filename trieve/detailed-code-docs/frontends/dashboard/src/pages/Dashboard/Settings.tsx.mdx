---
title: "Settings.tsx"
---

## High-level description
This code defines the Settings component for a dashboard, which includes forms for updating organization settings and deleting an organization. It uses SolidJS for reactivity and state management, and interacts with an API to perform these operations.

## Code Structure
The code is structured into three main components:
1. `OrgSettingsForm`: Handles updating organization name.
2. `OrgDangerZoneForm`: Manages the organization deletion process.
3. `Settings`: Combines the above components into a single settings page.

These components use shared context (UserContext) and utility functions (createToast) from other parts of the application.

## Symbols

### OrgSettingsForm
#### Description
This component renders a form for updating the organization name. It fetches the current organization data from the UserContext and allows the user to modify and save the organization name.

#### Internal Logic
1. Retrieves the current organization data from UserContext.
2. Provides an input field for updating the organization name.
3. On form submission, sends a PUT request to update the organization name.
4. Updates the local user context with the new organization name.

### OrgDangerZoneForm
#### Description
This component handles the deletion of an organization. It includes a confirmation process to prevent accidental deletions.

#### Internal Logic
1. Renders a form with an input field for confirming the organization name.
2. On submission, checks if the entered name matches the current organization name.
3. If confirmed, sends a DELETE request to remove the organization.
4. On successful deletion, updates the user context and navigates to a new page.

### Settings
#### Description
This is the main component that combines `OrgSettingsForm` and `OrgDangerZoneForm` into a single settings page.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Core library for reactive UI components |
| @solidjs/router | Routing functionality |

## Error Handling
The code implements basic error handling:
- In `OrgDangerZoneForm`, it uses `createToast` to display error messages if the organization deletion fails.
- API call errors are caught and displayed using the `createToast` function.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /organization | PUT | { organization_id, name } | - | Updates organization name |
| /organization/:id | DELETE | - | - | Deletes an organization |

## Performance Considerations
The code uses SolidJS's reactive primitives (createSignal, createMemo, createEffect) which are optimized for efficient updates and rendering.

## Side Effects
- The code interacts with the browser's history API through the `useNavigate` hook.
- It modifies the global user context when updating or deleting an organization.

This documentation provides a comprehensive overview of the Settings component, its subcomponents, and their functionalities within the dashboard application.