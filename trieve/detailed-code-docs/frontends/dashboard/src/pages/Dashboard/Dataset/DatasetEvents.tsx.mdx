---
title: "DatasetEvents.tsx"
---

## High-level description
This code defines a React component called `DatasetEvents` that displays a list of events for a dataset. It fetches events from an API, allows filtering by event type, and implements pagination. The component refreshes the event list every 5 seconds.

## Code Structure
The main component `DatasetEvents` uses several Solid.js primitives like `createSignal`, `createEffect`, and `onCleanup`. It interacts with the `DatasetContext` to get the current dataset information. The component renders a table of events with expandable metadata and pagination controls.

## Symbols

### DatasetEvents
#### Description
The main component that renders the dataset events page.

#### Internal Logic
1. Initializes state variables for events, pagination, loading, and selected event types.
2. Defines a `getEvents` function to fetch events from the API.
3. Sets up an interval to refresh events every 5 seconds.
4. Renders a table of events with filtering, pagination, and expandable metadata.

### getEvents
#### Description
A function that fetches events from the API based on the current dataset, selected event types, and page number.

#### Inputs
- Uses the current dataset ID from the `DatasetContext`
- Uses the `selected` signal for event type filtering
- Uses the `page` signal for pagination

#### Internal Logic
1. Constructs the API request with the dataset ID, selected event types, and page number.
2. Sends a POST request to the events endpoint.
3. Updates the `events`, `pageCount`, and `loading` signals with the response data.

## Side Effects
- The component sets up an interval to fetch events every 5 seconds.
- It cleans up the interval when the component unmounts.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive primitives and components |
| @solidjs/router | For routing functionality |
| solid-icons | For icon components |
| shared/types | For type definitions |

## Error Handling
The component doesn't implement explicit error handling for API requests. It relies on the `isEventDTO` and `isEvent` type guards to validate the response data.

## Performance Considerations
- The component fetches events every 5 seconds, which might cause unnecessary API calls if the data doesn't change frequently.
- The expandable metadata section uses a `createEffect` to check for overflow, which might be computationally expensive for large datasets.

This component provides a comprehensive view of dataset events with real-time updates and interactive features for filtering and exploring event details.