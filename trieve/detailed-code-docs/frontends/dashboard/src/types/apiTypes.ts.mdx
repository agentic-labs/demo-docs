---
title: "apiTypes.ts"
---

## High-level description
This file defines various TypeScript interfaces and enums used throughout the dashboard application. It includes types for users, organizations, datasets, API keys, and Stripe-related entities. The file also contains utility functions for type checking and role conversions.

## Code Structure
The code is structured as a collection of interface definitions, enums, and utility functions. These types and functions are likely used across different components and pages of the dashboard application to ensure type safety and consistent data structures.

## Symbols

### `SlimUser`
#### Description
Represents a simplified user object with basic information and organization associations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | User's unique identifier |
| name | string (optional) | User's name |
| email | string | User's email address |
| user_orgs | UserOrganization[] | User's organization associations |
| orgs | Organization[] | Organizations the user belongs to |

### `UserOrganization`
#### Description
Represents the association between a user and an organization, including the user's role.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Association's unique identifier |
| user_id | string | User's unique identifier |
| organization_id | string | Organization's unique identifier |
| role | number | User's role in the organization |
| created_at | string | Timestamp of association creation |
| updated_at | string | Timestamp of last update |

### `Organization`
#### Description
Represents an organization with its basic information and configuration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Organization's unique identifier |
| name | string | Organization's name |
| configuration | [key: string] | Organization's configuration |
| created_at | string | Timestamp of organization creation |
| updated_at | string | Timestamp of last update |
| registerable | boolean (optional) | Whether the organization is registerable |

### `OrganizationAndSubAndPlan`
#### Description
Combines organization information with its subscription and plan details.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| organization | Organization | Organization details |
| plan | StripePlan \| null (optional) | Associated Stripe plan |
| subscription | StripeSubscription \| null (optional) | Associated Stripe subscription |

### `StripeSubscription`
#### Description
Represents a Stripe subscription associated with an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Subscription's unique identifier |
| stripe_id | string | Stripe's subscription identifier |
| plan_id | string | Associated plan identifier |
| organization_id | string | Associated organization identifier |
| created_at | string | Timestamp of subscription creation |
| updated_at | string | Timestamp of last update |
| current_period_end | string \| null (optional) | End date of current subscription period |

### `StripePlan`
#### Description
Represents a Stripe plan with its features and pricing details.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Plan's unique identifier |
| stripe_id | string | Stripe's plan identifier |
| chunk_count | number | Number of chunks allowed |
| file_storage | number | File storage limit |
| user_count | number | Number of users allowed |
| dataset_count | number | Number of datasets allowed |
| message_count | number | Number of messages allowed |
| amount | number | Plan price |
| created_at | string | Timestamp of plan creation |
| updated_at | string | Timestamp of last update |
| name | string | Plan name |

### `OrganizationUsageCount`
#### Description
Tracks usage statistics for an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Usage count's unique identifier |
| org_id | string | Associated organization identifier |
| dataset_count | number | Number of datasets used |
| user_count | number | Number of users |
| file_storage | number | File storage used |
| message_count | number | Number of messages used |
| chunk_count | number | Number of chunks used |

### `Dataset`
#### Description
Represents a dataset with its configuration and metadata.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Dataset's unique identifier |
| tracking_id | string | Tracking identifier |
| name | string | Dataset name |
| created_at | string | Timestamp of dataset creation |
| updated_at | string | Timestamp of last update |
| organization_id | string | Associated organization identifier |
| server_configuration | ServerEnvsConfiguration | Server-side configuration |
| client_configuration | ClientEnvsConfiguration | Client-side configuration |

### `DatasetUsageCount`
#### Description
Tracks usage statistics for a specific dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Usage count's unique identifier |
| dataset_id | string | Associated dataset identifier |
| chunk_count | number | Number of chunks used in the dataset |

### `DatasetAndUsage`
#### Description
Combines dataset information with its usage statistics.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dataset | Dataset | Dataset details |
| dataset_usage | DatasetUsageCount | Dataset usage statistics |

### `ServerEnvsConfiguration`
#### Description
Defines server-side configuration options for a dataset.

#### Inputs
(Various configuration options, see the interface definition for details)

### `ClientEnvsConfiguration`
#### Description
Defines client-side configuration options for a dataset.

#### Inputs
(Various configuration options, see the interface definition for details)

### `DefaultError`
#### Description
Represents a basic error message structure.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | string | Error message |

### `ComboboxItem`
#### Description
Represents an item in a combobox selection.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | Item name |
| custom | boolean (optional) | Whether the item is custom |
| selected | boolean (optional) | Whether the item is selected |

### `ComboboxSection`
#### Description
Represents a section in a combobox with multiple items.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | Section name |
| comboboxItems | ComboboxItem[] | Items in the section |

### `SetUserApiKeyResponse`
#### Description
Represents the response when setting a user's API key.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| api_key | string | The generated API key |

### `isComboboxValues`
#### Description
Type guard function to check if a value is of type ComboboxSection[].

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| values | unknown | The value to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the value is of type ComboboxSection[], false otherwise |

### `UserRole` (enum)
#### Description
Enumerates possible user roles.

### `fromI32ToUserRole`
#### Description
Converts a number to a UserRole enum value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | number | The role number to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| userRole | UserRole | The corresponding UserRole enum value |

### `fromUserRoleToI32`
#### Description
Converts a UserRole enum value to a number.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | UserRole | The UserRole enum value to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| roleNumber | number | The corresponding role number |

### `stringToUserRole`
#### Description
Converts a string to a UserRole enum value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| input | string | The string to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| userRole | UserRole \| undefined | The corresponding UserRole enum value or undefined |

### `ApiKeyRole` (enum)
#### Description
Enumerates possible API key roles.

### `fromI32ToApiKeyRole`
#### Description
Converts a number to an ApiKeyRole enum value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | number | The role number to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiKeyRole | ApiKeyRole | The corresponding ApiKeyRole enum value |

### `fromApiKeyRoleToI32`
#### Description
Converts an ApiKeyRole enum value to a number.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| role | ApiKeyRole | The ApiKeyRole enum value to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| roleNumber | number | The corresponding role number |

### `stringToApiKeyRole`
#### Description
Converts a string to an ApiKeyRole enum value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| input | string | The string to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiKeyRole | ApiKeyRole \| undefined | The corresponding ApiKeyRole enum value or undefined |

### `ApiKeyRespBody`
#### Description
Represents the response body for API key operations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | API key's unique identifier |
| user_id | string | Associated user identifier |
| name | string | API key name |
| role | number | API key role |
| dataset_ids | string[] \| null | Associated dataset identifiers |
| organization_ids | string[] \| null | Associated organization identifiers |
| created_at | string | Timestamp of API key creation |
| updated_at | string | Timestamp of last update |

### `availableEmbeddingModels`
#### Description
An array of available embedding models with their configurations.

### `EventDTO`
#### Description
Represents a data transfer object for events.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| events | Event[] | Array of events |
| page_count | number | Number of pages |

### `isEventDTO`
#### Description
Type guard function to check if a value is of type EventDTO.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | unknown | The value to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the value is of type EventDTO, false otherwise |

### `Event`
#### Description
Represents an event with its details.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Event's unique identifier |
| created_at | string | Timestamp of event creation |
| updated_at | string | Timestamp of last update |
| dataset_id | string | Associated dataset identifier |
| event_type | string | Type of the event |
| event_data | object | Event data |

### `isEvent`
#### Description
Type guard function to check if a value is of type Event.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | unknown | The value to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True ifthe value is of type Event, false otherwise |

### `Invitation`
#### Description
Represents an invitation to join an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Invitation's unique identifier |
| email | string | Invitee's email address |
| organization_id | string | Associated organization identifier |
| used | boolean | Whether the invitation has been used |
| created_at | string | Timestamp of invitation creation |
| updated_at | string | Timestamp of last update |
| role | number | Invited user's role |

### `isInvitation`
#### Description
Type guard function to check if a value is of type Invitation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | unknown | The value to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the value is of type Invitation, false otherwise |

### `StripeInvoice`
#### Description
Represents a Stripe invoice.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| created_at | string | Timestamp of invoice creation |
| hosted_invoice_url | string | URL to the hosted invoice |
| id | string | Invoice's unique identifier |
| org_id | string | Associated organization identifier |
| status | string | Invoice status |
| total | number | Total amount of the invoice |

### `CreateSetupCheckoutSessionResPayload`
#### Description
Represents the response payload for creating a setup checkout session.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| url | string | URL for the checkout session |

## Dependencies
This file doesn't explicitly import any external libraries, but it defines types that are likely used throughout the application, including components that use libraries like SolidJS and Stripe.

## Configuration
The file defines several configuration interfaces, such as `ServerEnvsConfiguration` and `ClientEnvsConfiguration`, which are used to configure datasets.

## Error Handling
The file includes a `DefaultError` interface, which can be used for basic error handling across the application.

## API/Interface Reference
While not explicitly defining an API, this file provides the type definitions that would be used in API requests and responses throughout the application, especially for user, organization, dataset, and billing-related operations.