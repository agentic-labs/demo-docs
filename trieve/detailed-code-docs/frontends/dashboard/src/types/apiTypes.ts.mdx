---
title: "apiTypes.ts"
---

## High-level description
This file defines TypeScript interfaces and utility functions for API-related types used in the Trieve dashboard application. It includes definitions for user data, organizations, datasets, configurations, and various API response structures.

## Code Structure
The file consists of multiple interface definitions, enums, and utility functions. These are used to type-check and structure data throughout the application, ensuring consistency in data handling and API interactions.

## Symbols

### `SlimUser`
#### Description
Represents a simplified user object with basic information and organization associations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user |
| name | string (optional) | User's name |
| email | string | User's email address |
| user_orgs | UserOrganization[] | List of user's organization associations |
| orgs | Organization[] | List of organizations the user belongs to |

### `UserOrganization`
#### Description
Represents the association between a user and an organization, including role information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the user-organization association |
| user_id | string | User's unique identifier |
| organization_id | string | Organization's unique identifier |
| role | number | User's role in the organization |
| created_at | string | Timestamp of when the association was created |
| updated_at | string | Timestamp of when the association was last updated |

### `Organization`
#### Description
Represents an organization in the system.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the organization |
| name | string | Name of the organization |
| configuration | [key: string] | Configuration settings for the organization |
| created_at | string | Timestamp of when the organization was created |
| updated_at | string | Timestamp of when the organization was last updated |
| registerable | boolean (optional) | Indicates if the organization is registerable |

### `OrganizationAndSubAndPlan`
#### Description
Combines organization information with its subscription and plan details.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| organization | Organization | The organization object |
| plan | StripePlan \| null (optional) | The organization's Stripe plan |
| subscription | StripeSubscription \| null (optional) | The organization's Stripe subscription |

### `StripeSubscription`
#### Description
Represents a Stripe subscription associated with an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the subscription |
| stripe_id | string | Stripe's identifier for the subscription |
| plan_id | string | Identifier of the associated plan |
| organization_id | string | Identifier of the associated organization |
| created_at | string | Timestamp of when the subscription was created |
| updated_at | string | Timestamp of when the subscription was last updated |
| current_period_end | string \| null (optional) | End date of the current subscription period |

### `StripePlan`
#### Description
Represents a Stripe plan with usage limits and pricing information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the plan |
| stripe_id | string | Stripe's identifier for the plan |
| chunk_count | number | Number of chunks allowed in the plan |
| file_storage | number | Amount of file storage allowed (in bytes) |
| user_count | number | Number of users allowed |
| dataset_count | number | Number of datasets allowed |
| message_count | number | Number of messages allowed |
| amount | number | Price of the plan (in cents) |
| created_at | string | Timestamp of when the plan was created |
| updated_at | string | Timestamp of when the plan was last updated |
| name | string | Name of the plan |

### `OrganizationUsageCount`
#### Description
Represents usage statistics for an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the usage count record |
| org_id | string | Identifier of the associated organization |
| dataset_count | number | Number of datasets used |
| user_count | number | Number of users in the organization |
| file_storage | number | Amount of file storage used (in bytes) |
| message_count | number | Number of messages used |
| chunk_count | number | Number of chunks used |

### `Dataset`
#### Description
Represents a dataset within the system.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the dataset |
| tracking_id | string | Tracking identifier for the dataset |
| name | string | Name of the dataset |
| created_at | string | Timestamp of when the dataset was created |
| updated_at | string | Timestamp of when the dataset was last updated |
| organization_id | string | Identifier of the associated organization |
| server_configuration | ServerEnvsConfiguration | Server-side configuration for the dataset |
| client_configuration | ClientEnvsConfiguration | Client-side configuration for the dataset |

### `DatasetUsageCount`
#### Description
Represents usage statistics for a specific dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the usage count record |
| dataset_id | string | Identifier of the associated dataset |
| chunk_count | number | Number of chunks used in the dataset |

### `DatasetAndUsage`
#### Description
Combines dataset information with its usage statistics.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dataset | Dataset | The dataset object |
| dataset_usage | DatasetUsageCount | Usage statistics for the dataset |

### `ServerEnvsConfiguration`
#### Description
Represents server-side configuration options for a dataset.

#### Inputs
This interface includes numerous configuration options such as feature flags, URLs, model names, and various parameters for document processing and retrieval.

### `ClientEnvsConfiguration`
#### Description
Represents client-side configuration options for a dataset.

#### Inputs
This interface includes various client-side settings such as feature flags, search queries, and display options.

### `DefaultError`
#### Description
Represents a basic error message structure.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | string | The error message |

### `ComboboxItem` and `ComboboxSection`
#### Description
Represents items and sections for a combobox component.

### `SetUserApiKeyResponse`
#### Description
Represents the response structure when setting a user's API key.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| api_key | string | The newly set API key |

### `UserRole` and `ApiKeyRole` enums
#### Description
Enums representing user roles and API key roles in the system.

### `ApiKeyRespBody`
#### Description
Represents the response structure for API key information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the API key |
| user_id | string | Identifier of the associated user |
| name | string | Name of the API key |
| role | number | Role associated with the API key |
| dataset_ids | string[] \| null | List of dataset IDs the key has access to |
| organization_ids | string[] \| null | List of organization IDs the key has access to |
| created_at | string | Timestamp of when the key was created |
| updated_at | string | Timestamp of when the key was last updated |

### `availableEmbeddingModels`
#### Description
An array of available embedding models with their details.

### `EventDTO` and `Event`
#### Description
Represents structures for event data transfer and individual events.

### `Invitation`
#### Description
Represents an invitation to join an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the invitation |
| email | string | Email address of the invitee |
| organization_id | string | Identifier of the inviting organization |
| used | boolean | Indicates if the invitation has been used |
| created_at | string | Timestamp of when the invitation was created |
| updated_at | string | Timestamp of when the invitation was last updated |
| role | number | Role assigned to the invitee |

### `StripeInvoice`
#### Description
Represents a Stripe invoice for an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| created_at | string | Timestamp of when the invoice was created |
| hosted_invoice_url | string | URL to the hosted invoice on Stripe |
| id | string | Unique identifier for the invoice |
| org_id | string | Identifier of the associated organization |
| status | string | Status of the invoice |
| total | number | Total amount of the invoice |

### `CreateSetupCheckoutSessionResPayload`
#### Description
Represents the response payload for creating a Stripe setup checkout session.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| url | string | URL to the Stripe checkout session |

## Utility Functions
The file includes several utility functions for type checking and conversion between different role representations.

## Dependencies
This file does not have external dependencies, but it is likely used throughout the application for type checking and data structuring.