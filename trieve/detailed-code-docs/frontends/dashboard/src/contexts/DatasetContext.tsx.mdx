---
title: "DatasetContext.tsx"
---

## High-level description
This code defines a React component called `DatasetContextWrapper` that provides a context for managing dataset information in a dashboard application. It fetches dataset details from an API, handles errors, and makes the dataset information available to child components through the `DatasetContext`.

## Code Structure
The main symbols in this code are:
1. `DatasetContext`: A context object created to share dataset information.
2. `DatasetContextWrapper`: A component that fetches and provides dataset information.
3. `DatasetStore`: An interface defining the shape of the dataset store.
4. `DatasetStoreContextProps`: An interface for the props of the `DatasetContextWrapper`.

The `DatasetContextWrapper` uses the `UserContext` to get user information and the `useParams` hook to get the dataset ID from the URL. It then fetches the dataset information and provides it through the `DatasetContext.Provider`.

## Symbols

### DatasetContext
#### Description
A React context created to share dataset information across components.

#### Inputs
None

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dataset | Accessor&lt;Dataset \| null&gt; \| null | An accessor function that returns the current dataset or null |

### DatasetContextWrapper
#### Description
A component that fetches dataset information and provides it through the `DatasetContext.Provider`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | DatasetStoreContextProps | The props for the component, including children to render |

#### Outputs
JSX.Element

#### Internal Logic
1. Initializes state for the dataset using `createSignal`.
2. Uses `createEffect` to fetch dataset information when the user is available.
3. Constructs the API URL using the `apiHost` and dataset ID from URL params.
4. Fetches dataset information using the Fetch API.
5. Updates the dataset state on successful fetch.
6. Handles errors by showing a toast notification.
7. Provides the dataset information through the `DatasetContext.Provider`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For creating signals, effects, and context |
| @solidjs/router | For accessing URL parameters |
| shared/types | For type definitions (Dataset) |
| ../components/ShowToasts | For displaying toast notifications |

## Error Handling
The component handles errors during the dataset fetch by displaying a toast notification with an error message.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.