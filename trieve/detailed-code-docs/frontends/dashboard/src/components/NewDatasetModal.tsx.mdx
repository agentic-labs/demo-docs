---
title: "NewDatasetModal.tsx"
---

## High-level description
The `NewDatasetModal` component is a modal dialog for creating a new dataset in a dashboard application. It allows users to configure various settings for the dataset, including embedding model, distance metric, and other options. The component handles the creation of the dataset and optionally fills it with sample data.

## Code Structure
The main component `NewDatasetModal` uses several state variables and utility functions to manage the form inputs and handle the dataset creation process. It interacts with the `UserContext` to get user and organization information, and uses API calls to create the dataset and upload sample data.

## References
- `UserContext`: Used to access user and organization information
- `createNewDataset`: API function to create a new dataset
- `uploadSampleData`: API function to upload sample data to the dataset
- `createToast`: Utility function to display toast notifications

## Symbols

### NewDatasetModal
#### Description
The main component that renders the modal dialog for creating a new dataset.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isOpen | Accessor&lt;boolean&gt; | Controls the visibility of the modal |
| closeModal | () =&gt; void | Function to close the modal |

#### Internal Logic
1. Initializes state variables for server configuration, dataset name, and other settings
2. Renders form inputs for various dataset settings
3. Handles form submission to create the dataset
4. Optionally uploads sample data if requested

### createDataset
#### Description
An asynchronous function that handles the creation of a new dataset and optional sample data upload.

#### Internal Logic
1. Calls `createNewDataset` API function with the provided settings
2. If successful, optionally calls `uploadSampleData` to fill the dataset with example data
3. Displays success or error toasts based on the operation result
4. Navigates to the newly created dataset page on success

## Side Effects
- Creates a new dataset in the backend
- Optionally uploads sample data to the new dataset
- Displays toast notifications for success or error states
- Navigates to the new dataset page on successful creation

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive state management and component rendering |
| terracotta | UI components for the modal dialog |
| @solidjs/router | For navigation after dataset creation |
| shared/types | Type definitions for dataset configuration |

## Error Handling
The component uses try-catch blocks to handle errors during dataset creation and sample data upload. Errors are displayed to the user via toast notifications.

This component provides a user-friendly interface for creating new datasets with customizable settings, integrating with the application's context and API functions to manage the dataset creation process.