---
title: "MultiSelect.tsx"
---

## High-level description
This code defines a `MultiSelect` component in React using SolidJS. It creates a customizable dropdown menu that allows users to select multiple items from a list. The component handles the display of selected items, the dropdown functionality, and the selection/deselection of individual items.

## Code Structure
The `MultiSelect` component is the main export of this file. It uses various SolidJS components and hooks to manage its state and render the UI. The component is composed of a button that displays the selected items and a dropdown list of options when clicked.

## Symbols

### `MultiSelect`
#### Description
A functional component that creates a multi-select dropdown menu.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | Object | Contains the component's properties |
| props.disabled | boolean | Optional. If true, disables the dropdown |
| props.items | I[] | Array of selectable items |
| props.selected | I[] | Optional. Array of initially selected items |
| props.setSelected | function | Callback function to update the selected items |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | JSX | The rendered multi-select component |

#### Internal Logic
1. Initializes the selected items state using `createSignal`.
2. Uses `createEffect` to filter out any selected items that are no longer in the `props.items` array.
3. Renders a `Listbox` component from the Terracotta library, which includes:
   - A button displaying the selected items or "None selected" if empty.
   - A dropdown list of options, each wrapped in a `ListboxOption` component.
4. Handles item selection/deselection and updates the parent component using the `setSelected` prop.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Provides core functionality for building user interfaces |
| solid-icons | Provides icons used in the component |
| terracotta | Provides UI components like Listbox |

## Performance Considerations
The component uses `createEffect` to keep the selected items in sync with the available items, which could impact performance if the list of items is very large or frequently changing. The use of `For` component for rendering list items helps optimize rendering performance.