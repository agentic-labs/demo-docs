---
title: "InviteUserModal.tsx"
---

## High-level description
This code defines the `InviteUserModal` component, which is a modal dialog for inviting new users to an organization. It allows the user to input an email address and select a role for the new user, then sends an invitation request to the server.

## Code Structure
The main component `InviteUserModal` uses several Solid.js primitives and custom hooks. It manages the state for email, role, and sending status, and handles the invitation process through a fetch request to the server.

## References
- `UserContext` from "../contexts/UserContext"
- `DefaultError`, `fromI32ToUserRole`, `UserRole`, `fromUserRoleToI32`, `stringToUserRole` from "shared/types"
- `createToast` from "./ShowToasts"
- Various components from "terracotta" library

## Symbols

### `InviteUserModal`
#### Description
A functional component that renders a modal dialog for inviting new users to an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | InviteUserModalProps | Contains `isOpen` accessor and `closeModal` function |

#### Internal Logic
1. Initializes state for email, role, and sending status.
2. Retrieves the current user's role in the selected organization.
3. Handles form submission by sending a POST request to the server.
4. Renders a form with input fields for email and role selection.
5. Displays success or error messages using `createToast`.

### `handleCloseModal`
#### Description
A function that resets the form and closes the modal.

### `inviteUser`
#### Description
A function that sends the invitation request to the server.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| closeModal | () =&gt; void | Function to close the modal after successful invitation |

#### Internal Logic
1. Sets the sending status to true.
2. Sends a POST request to the server with invitation details.
3. Handles the response, showing success or error messages.
4. Closes the modal on success.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive state management and component creation |
| terracotta | For UI components like Dialog, DialogOverlay, etc. |

## Error Handling
The component handles errors by catching them in the fetch request and displaying error messages using the `createToast` function.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.