---
title: "DatasetOverview.tsx"
---

## High-level description
This code defines a `DatasetOverview` component in React that displays a list of datasets for a selected organization. It provides functionality to search, paginate, and manage datasets, including creating, deleting, and clearing datasets. The component also shows usage statistics and provides links to various tools for each dataset.

## Code Structure
The main `DatasetOverview` component uses several hooks and sub-components to manage its state and render the UI. It interacts with an API to fetch and manipulate dataset information. The component is composed of several sections, including a header with search and creation options, a table displaying dataset information, and pagination controls.

## Symbols

### DatasetOverview
#### Description
The main component that renders the dataset overview UI.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| setOpenNewDatasetModal | Setter&lt;boolean&gt; | Function to open/close the new dataset modal |
| selectedOrganization | Accessor&lt;Organization \| undefined&gt; | The currently selected organization |

#### Internal Logic
1. Initializes state variables and fetches data using custom hooks.
2. Renders the header with search functionality and dataset creation button.
3. Displays a table of datasets with their details and management options.
4. Implements pagination for the dataset list.
5. Provides functions to delete, clear, and reload datasets.

### useDatasetPages
#### Description
A custom hook that manages the fetching and pagination of datasets.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| org | Accessor&lt;Organization \| undefined&gt; | The selected organization |
| searchQuery | Accessor&lt;string&gt; | The current search query |
| page | Accessor&lt;number&gt; | The current page number |
| setPage | (page: number) =&gt; void | Function to set the current page |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| datasets | Accessor&lt;DatasetAndUsage[]&gt; | The current page of datasets |
| maxPageDiscovered | Accessor&lt;number \| null&gt; | The highest page number discovered |
| maxDatasets | Accessor&lt;number&gt; | The total number of datasets |
| removeDataset | (datasetId: string) =&gt; void | Function to remove a dataset from the list |
| hasLoaded | Accessor&lt;boolean&gt; | Whether the datasets have finished loading |

### PaginationArrows
#### Description
A sub-component that renders pagination controls.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| page | Accessor&lt;number&gt; | The current page number |
| setPage | Setter&lt;number&gt; | Function to set the current page |
| maxPageDiscovered | Accessor&lt;number \| null&gt; | The highest page number discovered |

## Side Effects
- Fetches dataset usage information from an API.
- Deletes datasets via API calls.
- Clears datasets via API calls.
- Reloads chunk counts for datasets.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive programming and component rendering |
| @solidjs/router | For navigation within the application |
| solid-icons | For rendering various icons |
| shared/types | For type definitions used in the component |
| shared/ui | For shared UI components like Tooltip |

## Error Handling
The component uses the `createToast` function to display error messages when API calls fail, such as when deleting or clearing a dataset.

## API/Interface Reference
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| /dataset/usage/${datasetId} | GET | Fetches usage information for a dataset |
| /dataset/${datasetId} | DELETE | Deletes a dataset |
| /dataset/clear/${datasetId} | PUT | Clears all data from a dataset |

## TODOs
There are no explicit TODOs in the code.