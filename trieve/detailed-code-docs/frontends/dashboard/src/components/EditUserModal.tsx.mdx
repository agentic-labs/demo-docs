---
title: "EditUserModal.tsx"
---

## High-level description
The `EditUserModal` component is a reusable modal dialog for editing a user's role within an organization. It allows administrators to change a user's role (e.g., from User to Admin) and updates the server with the new role information.

## Code Structure
The component is structured as a functional component using SolidJS. It uses various hooks and components from SolidJS and external libraries to manage state, handle user interactions, and render the UI.

## Symbols

### EditUserModal
#### Description
This is the main component that renders the modal dialog for editing a user's role.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| editingUser | SlimUser \| null | The user being edited |
| closeModal | () =&gt; void | Function to close the modal |

#### Internal Logic
1. Initializes state for the user's role.
2. Fetches the API host from environment variables.
3. Uses `createEffect` to update the role when the editing user changes.
4. Calculates the current user's role and the editing user's role using `createMemo`.
5. Defines an `inviteUser` function to update the user's role on the server.
6. Renders a form with a dropdown to select the new role.
7. Handles form submission and error cases.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Core library for reactive UI components |
| terracotta | UI components library |
| shared/types | Type definitions and utility functions |

## Error Handling
The component handles errors by displaying toast notifications using the `createToast` function when the server request fails.

## Side Effects
- Updates the user's role on the server when the form is submitted successfully.
- Closes the modal after a successful update.

## Performance Considerations
The component uses `createMemo` for derived state calculations, which helps optimize performance by memoizing the results.

## TODOs
There are no explicit TODOs in the code.