---
title: "CreateNewOrgModal.tsx"
---

## High-level description
This code defines a React component called `NewOrgModal` that renders a modal dialog for creating a new organization. It handles user input, makes an API call to create the organization, and manages the UI state and navigation upon successful creation.

## Code Structure
The main component `NewOrgModal` uses various imported components from the `terracotta` library for the modal structure. It also utilizes hooks and context from Solid.js for state management and user context. The component handles form submission, API interaction, and toast notifications for user feedback.

## References
- `UserContext` from "../contexts/UserContext"
- `createToast` from "./ShowToasts"
- `Organization` type from "shared/types"

## Symbols

### NewOrgModal
#### Description
A functional component that renders a modal for creating a new organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | NewOrgModalProps | Contains `isOpen` accessor and `closeModal` function |

#### Internal Logic
1. Initializes state for organization name input
2. Defines `createDataset` function to handle form submission:
   - Makes a POST request to create a new organization
   - Handles success and error cases
   - Updates user context and navigates on success
3. Renders a form with input for organization name
4. Handles form submission and modal closing

#### Side Effects
- Creates a new organization via API call
- Updates user context
- Navigates to a new route on success
- Displays toast notifications

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive state management and component creation |
| terracotta | UI components for modal dialog |
| @solidjs/router | For navigation after organization creation |

## Error Handling
The component handles API errors by displaying error toasts to the user. It also disables the submit button when the organization name is empty to prevent invalid submissions.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /organization | POST | { name: string } | Organization object | Creates a new organization |