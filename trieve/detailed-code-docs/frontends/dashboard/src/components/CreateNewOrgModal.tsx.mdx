---
title: "CreateNewOrgModal.tsx"
---

## High-level description
This code defines a React component called `NewOrgModal` that renders a modal dialog for creating a new organization. It handles user input, makes an API call to create the organization, and manages the modal's visibility and state.

## Code Structure
The main component `NewOrgModal` uses various hooks and components from SolidJS and other libraries. It manages the state of the new organization's name, handles form submission, and interacts with the API to create the organization. The component also uses context to access and update user information.

## Symbols

### NewOrgModal
#### Description
A functional component that renders a modal dialog for creating a new organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | NewOrgModalProps | Contains `isOpen` and `closeModal` properties |

#### Internal Logic
1. Initializes state for the new organization's name.
2. Defines a `createDataset` function to handle form submission:
   - Makes a POST request to create a new organization.
   - Handles success and error cases.
   - Updates the user context and navigates to the new organization's dashboard.
3. Renders a modal dialog with a form for entering the organization name.
4. Handles form submission and modal closing.

#### Side Effects
- Creates a new organization via API call.
- Updates user context.
- Navigates to a new route on success.
- Displays toast notifications for success or error cases.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | Core library for reactive programming |
| terracotta | UI components for the modal dialog |
| @solidjs/router | Navigation functionality |

## Error Handling
The component handles API errors by displaying error toast notifications and closing the modal.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /organization | POST | { name: string } | Organization object | Creates a new organization |

## TODOs
- Consider adding validation for the organization name (e.g., minimum length, allowed characters).
- Implement error handling for specific error types returned by the API.
- Add loading state while the API request is in progress.