---
title: "Codeblock.tsx"
---

## High-level description
The `Codeblock` component is a React component that renders a syntax-highlighted code block with a copy-to-clipboard functionality. It uses the Shiki library for syntax highlighting and supports TypeScript code with a dark theme.

## Code Structure
The component is structured as a single functional component that uses Solid.js for state management and rendering. It utilizes the Shiki library for syntax highlighting and includes a copy-to-clipboard feature.

## Symbols

### Codeblock
#### Description
A functional component that renders a syntax-highlighted code block with a copy button.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | CodeblockProps | An object containing the `content` property, which is the code to be displayed |

#### Internal Logic
1. Creates a signal for tracking whether the code has been copied.
2. Uses a resource to asynchronously generate the highlighted HTML for the code.
3. Implements a copy-to-clipboard functionality.
4. Renders the highlighted code and a copy button, which changes to a check mark when clicked.

### createResource
#### Description
A Solid.js function used to asynchronously generate the highlighted HTML for the code.

#### Internal Logic
1. Creates a Shiki highlighter with the One Dark Pro theme and TypeScript language support.
2. Converts the input code to HTML using the highlighter.
3. Returns the generated HTML.

### copyCode
#### Description
A function that copies the code to the clipboard and updates the UI to show a confirmation.

#### Internal Logic
1. Copies the code content to the clipboard.
2. Sets the `copied` signal to true.
3. Uses a timeout to reset the `copied` signal after 2 seconds.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive state management and component rendering |
| shiki | For syntax highlighting of code |
| solid-icons/fa | For clipboard and check icons |

## Performance Considerations
The syntax highlighting is performed asynchronously using `createResource`, which helps to avoid blocking the main thread for large code blocks.

## Error Handling
The component doesn't implement explicit error handling for the syntax highlighting process. If the highlighting fails, the code block may not be displayed.

## Side Effects
The component interacts with the clipboard API when the copy button is clicked, which is a side effect that modifies the user's clipboard content.

This component is designed to be used within a larger application, likely for displaying code snippets or examples, as seen in the related `DatasetStart` component where it's used to show API request examples.