---
title: "ApiKeys.tsx"
---

## High-level description
This code defines the `ApiKeys` component, which is responsible for displaying and managing API keys for a user. It allows users to view their existing API keys, create new ones, and delete existing keys. The component interacts with a backend API to perform these operations and uses the UserContext to access user-related information.

## Code Structure
The `ApiKeys` component is the main export of this file. It uses various hooks and components from Solid.js and other custom components. The component fetches API keys from the server, renders them in a table, and provides functionality to create and delete keys.

## Symbols

### ApiKeys
#### Description
The main component that renders the API keys interface. It fetches and displays existing API keys, provides a button to create new keys, and allows deletion of keys.

#### Internal Logic
1. Fetches API keys from the server using `createResource`.
2. Renders a table of existing API keys or a message if no keys exist.
3. Provides a button to open the `ApiKeyGenerateModal` for creating new keys.
4. Implements a delete function for removing API keys.

#### Side Effects
- Fetches API keys from the server on component mount.
- Refetches API keys after creating a new key or deleting an existing one.

### deleteApiKey
#### Description
A function that deletes an API key by its ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | The ID of the API key to delete |

#### Internal Logic
1. Optimistically updates the UI by filtering out the deleted key.
2. Sends a DELETE request to the server to remove the key.
3. Refetches the API keys list if the deletion is successful.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| solid-js | For reactive programming and component creation |
| solid-icons/fa | For icons used in the component |
| ApiKeyGenerateModal | Custom component for generating new API keys |
| UserContext | Context for accessing user-related information |
| shared/types | For type definitions used in the component |
| formatters | For date formatting utility |

## Performance Considerations
The component uses `createResource` for efficient data fetching and caching of API keys. It also implements optimistic UI updates when deleting keys to improve perceived performance.

This documentation provides a comprehensive overview of the `ApiKeys` component, its functionality, and its integration within the larger application. The component plays a crucial role in managing API keys for users, providing a user-friendly interface for key management operations.