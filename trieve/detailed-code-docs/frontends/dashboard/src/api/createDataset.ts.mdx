---
title: "createDataset.ts"
---

## High-level description
This code defines an asynchronous function `createNewDataset` that creates a new dataset by sending a POST request to an API endpoint. It handles the creation process, including error handling and response parsing.

## Symbols

### `createNewDataset`
#### Description
An asynchronous function that creates a new dataset by sending a POST request to the API.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | The name of the dataset to be created |
| organizationId | string | The ID of the organization the dataset belongs to |
| serverConfig | ServerEnvsConfiguration | Configuration settings for the server |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dataset | Dataset | The created dataset object if successful |

#### Internal Logic
1. Constructs the request URL using the `api_host` environment variable.
2. Sends a POST request to the API with the provided dataset information.
3. If the response is successful (ok), it parses and returns the dataset object.
4. If the response is not successful, it parses the error message and throws an Error.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| shared/types | Imports types like Dataset, DefaultError, and ServerEnvsConfiguration |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| VITE_API_HOST | string | N/A | The API host URL, set as an environment variable |

## Error Handling
- If the API response is not successful, the function throws an Error with the message from the API response.

## Side Effects
- Makes an HTTP request to an external API endpoint.

## Performance Considerations
- The function uses `fetch` for making the API request, which is asynchronous and non-blocking.
- The response is parsed using `response.json()`, which is also asynchronous.

This function is likely used in the context of a dashboard application for creating new datasets within an organization. It interacts with a backend API and handles the dataset creation process, including error scenarios.