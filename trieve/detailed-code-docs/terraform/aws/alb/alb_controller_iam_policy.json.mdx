---
title: "alb_controller_iam_policy.json"
---

## High-level description
This JSON file defines an IAM policy for the AWS Load Balancer Controller. It specifies the permissions required for the controller to manage Application Load Balancers (ALBs) and Network Load Balancers (NLBs) in a Kubernetes cluster running on AWS.

## Code Structure
The policy consists of multiple statements, each granting specific permissions to various AWS services such as EC2, Elastic Load Balancing, IAM, WAF, Shield, ACM, and Cognito. The statements are organized based on the type of actions and resources they apply to.

## Symbols

### IAM Policy
#### Description
This IAM policy defines the permissions necessary for the AWS Load Balancer Controller to function properly in a Kubernetes environment. It allows the controller to create, modify, and delete load balancers, target groups, and related resources.

#### Internal Logic
The policy is structured into several statements, each addressing specific sets of permissions:

1. Creating a service-linked role for Elastic Load Balancing
2. Describing various EC2 and Elastic Load Balancing resources
3. Interacting with Cognito, ACM, IAM certificates, WAF, and Shield
4. Managing EC2 security groups
5. Creating and tagging EC2 security groups
6. Managing Elastic Load Balancing resources (load balancers, target groups, listeners, and rules)
7. Tagging Elastic Load Balancing resources
8. Modifying load balancer and target group attributes
9. Registering and deregistering targets
10. Configuring advanced load balancer settings (e.g., Web ACLs, listener certificates)

Each statement includes specific conditions to limit the scope of the permissions, often using tags to identify resources managed by the controller.

## Dependencies
This policy relies on various AWS services:
| Dependency | Purpose |
|:-----------|:--------|
| EC2 | Managing network interfaces, security groups, and other compute resources |
| Elastic Load Balancing | Creating and managing load balancers and target groups |
| IAM | Managing service-linked roles and server certificates |
| WAF | Associating Web ACLs with load balancers |
| Shield | Managing DDoS protection for load balancers |
| ACM | Managing SSL/TLS certificates |
| Cognito | Describing user pool clients for authentication |

## Error Handling
This policy does not implement error handling directly. Error handling is managed by the AWS services and the Load Balancer Controller using these permissions.

## API/Interface Reference
This policy grants permissions to interact with various AWS service APIs. Key endpoints include:
| Service | Actions | Description |
|:--------|:--------|:------------|
| EC2 | Describe*, Authorize*, Revoke*, Create*, Delete* | Manage EC2 resources |
| Elastic Load Balancing | Describe*, Create*, Delete*, Modify*, Register*, Deregister* | Manage load balancers and target groups |
| IAM | CreateServiceLinkedRole, List*, Get* | Manage IAM roles and certificates |
| WAF | Get*, Associate*, Disassociate* | Manage Web ACLs |
| Shield | Get*, Describe*, Create*, Delete* | Manage DDoS protection |
| ACM | List*, Describe* | Manage SSL/TLS certificates |
| Cognito | DescribeUserPoolClient | Interact with Cognito user pools |

This policy is crucial for the proper functioning of the AWS Load Balancer Controller in a Kubernetes environment, granting it the necessary permissions to manage load balancing resources on AWS.