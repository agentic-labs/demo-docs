---
title: "Overview"
---

## High-level description
The `terraform/aws` directory houses the infrastructure-as-code setup for deploying a text embedding and reranking service on AWS, leveraging Docker and Terraform. It provisions resources like EC2 instances, configures networking, and sets up the application environment.

## What does it do?
This code defines and deploys the infrastructure for a service that provides text embedding and reranking capabilities. It uses Terraform to create the necessary AWS resources, including an EC2 instance. The instance is then configured using a cloud-init script to set up users, groups, and install Docker. Finally, a Docker Compose file defines and runs multiple containers, each hosting a different text embedding or reranking model. This setup allows for scalable and efficient processing of text data.

## Key Files
### `alb`
This directory likely contains code related to setting up an Application Load Balancer (ALB) on AWS. This would be used to distribute incoming traffic across multiple instances of the text embedding and reranking service, ensuring high availability and scalability.

### `docker-compose.yml`
This file defines the multi-container Docker application for running the text embedding and reranking models. It specifies the Docker images, environment variables, ports, and volumes for each service. This allows for easy management and deployment of the application.

### `embedding_server_cloud_init.yaml`
This file configures the EC2 instance launched by Terraform. It sets up DNS, creates user groups and users, and installs any necessary software. This ensures that the instance is properly configured to run the Docker containers.

## Dependencies
1. **Terraform:** Used to define and manage the AWS infrastructure.
2. **Docker:** Used to containerize the text embedding and reranking models.
3. **AWS:** The cloud provider on which the infrastructure is deployed.
