---
title: "fileUpload.ts"
---

## High-level description
This code snippet demonstrates how to upload a file to the Trieve platform using the `trieve-fetch-client`. It reads a local PDF file, encodes it to base64, and sends it to the Trieve API endpoint for file uploads.

## References
- `trieve`: This symbol is imported from `./trieve.ts` and represents an instance of the `Trieve` client used to interact with the Trieve API.
- `EXAMPLE_DATASET_ID`: This symbol is imported from `./trieve.ts` and represents the ID of the dataset where the file will be uploaded.

## Symbols

### `main`
#### Description
This asynchronous function reads a local PDF file, encodes it to base64, and uploads it to the Trieve platform using the `trieve-fetch-client`.

#### Inputs
This function has no inputs.

#### Outputs
This function logs the response from the Trieve API to the console.

#### Internal Logic
1. **Read the file:** Reads the contents of the `uploadme.pdf` file located in the `src` directory.
2. **Encode the file:** Converts the file contents to a base64 encoded string and performs URL-safe encoding by replacing characters.
3. **Prepare the request payload:** Creates an object containing the base64 encoded file, file name, and group tracking ID.
4. **Upload the file:** Sends a POST request to the `/api/file` endpoint of the Trieve API using the `trieve.fetch` method. The request includes the encoded file data and specifies the target dataset ID.
5. **Log the response:** Logs the response received from the Trieve API to the console.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| fs         | Provides file system operations for reading the local PDF file. |
| trieve-fetch-client | Provides the `Trieve` client used to interact with the Trieve API. |

## Error Handling
This code snippet does not implement specific error handling. Any errors during file reading, encoding, or API communication will be thrown as exceptions.
