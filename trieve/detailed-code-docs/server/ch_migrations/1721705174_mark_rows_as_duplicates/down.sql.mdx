---
title: "down.sql"
---

## High-level description
This SQL script is designed to revert changes made to the `search_queries` table by removing the `is_duplicate` column. It's part of a database migration system, specifically a "down" migration, which is used to undo changes made by an "up" migration.

## Symbols

### ALTER TABLE search_queries
#### Description
This SQL command modifies the structure of the `search_queries` table by removing a column.

#### Internal Logic
The script uses the `DROP COLUMN` clause to remove the `is_duplicate` column from the `search_queries` table. The `IF EXISTS` condition is used to prevent errors if the column doesn't exist, making the script idempotent.

## Side Effects
Executing this script will modify the database schema by removing the `is_duplicate` column from the `search_queries` table. This action will result in the loss of any data stored in that column.

## Performance Considerations
This operation may temporarily lock the `search_queries` table, which could impact database performance during execution, especially if the table is large or frequently accessed.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| PostgreSQL | This SQL syntax is compatible with PostgreSQL databases. |

## Error Handling
The `IF EXISTS` clause in the `DROP COLUMN` statement prevents the script from throwing an error if the `is_duplicate` column doesn't exist in the `search_queries` table.