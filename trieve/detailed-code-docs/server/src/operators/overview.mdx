---
title: "Overview"
---

## High-level description
The `operators` directory contains modules that implement core business logic and data operations for the Trieve server application. These modules handle various aspects of the system, including analytics, data processing, user management, search functionality, and integrations with external services.

## What does it do?
The operators in this directory perform key functions such as:

- Managing user accounts, organizations, and permissions
- Processing and storing data chunks and files
- Handling search and recommendation operations
- Integrating with external services like Stripe for payments and ClickHouse for analytics
- Managing datasets and their configurations
- Handling email operations and invitations
- Processing and analyzing events
- Managing API keys and authentication

These operators work together to provide the core functionality of the Trieve application, enabling features like semantic search, data management, user collaboration, and usage analytics.

## Entry points
The main entry point for the operators is the `mod.rs` file, which exports all the individual operator modules. Key operator modules include:

- `user_operator.rs`: Handles user account management and authentication
- `dataset_operator.rs`: Manages datasets and their configurations
- `chunk_operator.rs`: Processes and stores data chunks
- `search_operator.rs`: Implements search functionality
- `analytics_operator.rs`: Handles analytics data processing and querying

These modules are typically used by the application's route handlers to implement API endpoints and business logic.

## Key Files
1. `chunk_operator.rs`: Manages the creation, retrieval, and manipulation of data chunks, which are the fundamental units of searchable content in the system.

2. `search_operator.rs`: Implements various search algorithms and methods, including semantic search, full-text search, and hybrid search approaches.

3. `user_operator.rs`: Handles user account management, including creation, authentication, and authorization. It also manages API keys and user roles within organizations.

4. `analytics_operator.rs`: Processes and queries analytics data, providing insights into system usage, search performance, and user behavior.

5. `qdrant_operator.rs`: Interfaces with the Qdrant vector database for efficient similarity search and vector operations.

6. `stripe_operator.rs`: Manages integration with Stripe for payment processing and subscription management.

7. `clickhouse_operator.rs`: Handles interactions with ClickHouse for storing and querying large-scale analytics data.

## Dependencies
The operators rely on several external libraries and frameworks:

- Diesel: For database operations and ORM functionality
- Qdrant Client: For interacting with the Qdrant vector database
- Stripe: For payment processing
- ClickHouse: For analytics data storage and querying
- Redis: For caching and temporary data storage
- OpenAI: For language model integrations
- AWS SDK: For S3 file storage operations

## Configuration
The operators use configuration settings defined in environment variables and passed through the application's configuration system. Key configuration areas include:

- Database connection settings
- External service API keys (Stripe, OpenAI, etc.)
- Feature flags and operational modes
- Security settings (e.g., API key hashing parameters)

The operators are designed to be flexible and configurable, allowing the application to be adapted to different deployment scenarios and requirements.

This directory forms the core of the Trieve server's business logic, providing a modular and extensible architecture for implementing complex data processing, search, and analytics functionality.