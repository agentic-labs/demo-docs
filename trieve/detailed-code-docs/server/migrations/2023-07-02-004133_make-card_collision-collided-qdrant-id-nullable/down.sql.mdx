---
title: "down.sql"
---

## High-level description
This SQL migration script is designed to revert changes made to the `card_collisions` table. Specifically, it modifies the `collision_qdrant_id` column to allow NULL values, effectively undoing a previous migration that made this column NOT NULL.

## Symbols

### ALTER TABLE card_collisions
#### Description
This SQL command alters the structure of the `card_collisions` table.

#### Internal Logic
The command modifies the `collision_qdrant_id` column in the `card_collisions` table by removing the NOT NULL constraint. This allows the column to accept NULL values.

## Dependencies
This script relies on the existence of:
1. The `card_collisions` table in the database.
2. The `collision_qdrant_id` column within the `card_collisions` table.

## Notes
1. This is a "down" migration script, meant to revert changes made by a corresponding "up" migration.
2. The comment at the top of the file indicates that this script should undo anything done in the `up.sql` file.
3. The filename suggests that this migration was created on July 2, 2023, and its purpose was to make the `collision_qdrant_id` column nullable.
4. It's important to note that this script assumes the column was previously NOT NULL. If run on a database where the column is already nullable, it will have no effect.
5. Care should be taken when applying this migration, as it may affect data integrity if the application relies on non-null values in this column.