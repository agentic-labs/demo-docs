---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for adding a new column `oc_file_path` to the `files` table in a database. The migration is dated 2023-07-14 and includes both an "up" script to apply the change and a "down" script to revert it.

## What does it do?
These scripts modify the structure of a database table called `files`. The "up" script adds a new column called `oc_file_path` to store text data, which can be left empty (null). This column likely represents a file path in some external system, possibly related to OpenCompute (OC) given the "oc" prefix. The "down" script removes this column, allowing the database to be reverted to its previous state if needed.

## Key Files

1. `up.sql`:
   This file contains the SQL command to add the new `oc_file_path` column to the `files` table. The command is:
   ```sql
   ALTER TABLE files ADD COLUMN oc_file_path TEXT NULL;
   ```
   This adds a nullable TEXT column named `oc_file_path` to the `files` table.

2. `down.sql`:
   This file contains the SQL command to remove the `oc_file_path` column from the `files` table. The command is:
   ```sql
   ALTER TABLE files DROP COLUMN oc_file_path;
   ```
   This removes the `oc_file_path` column from the `files` table, effectively undoing the change made by the `up.sql` script.

## Configuration
The migration is identified by its timestamp: 2023-07-14-133205. This timestamp is likely used by a migration management system to track which migrations have been applied and in what order.

These migration scripts are typically used with a database migration tool or ORM (Object-Relational Mapping) system. The tool would apply the `up.sql` script when migrating the database forward and the `down.sql` script when rolling back changes.

It's important to note that running the `down.sql` script will permanently delete any data stored in the `oc_file_path` column. Therefore, it should be used with caution in production environments where data loss could be critical.