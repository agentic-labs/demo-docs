---
title: "down.sql"
---

## High-level description
This SQL script defines the "down" migration for reverting changes related to tag sets in a database. It drops two tables, `chunk_metadata_tags` and `dataset_tags`, likely used for associating tags with data chunks and datasets, respectively.

## Symbols
### `DROP TABLE IF EXISTS chunk_metadata_tags`
#### Description
This statement attempts to drop the table named `chunk_metadata_tags`. The `IF EXISTS` clause ensures that the operation doesn't fail if the table doesn't exist. This is typically used in database migrations to handle cases where the table might not have been created in a previous migration.

#### Internal Logic
1. **Check for existence:** The database checks if a table named `chunk_metadata_tags` exists.
2. **Conditional drop:**
   - If the table exists, it is dropped, removing its definition and all associated data.
   - If the table doesn't exist, no action is taken.

### `DROP TABLE IF EXISTS dataset_tags`
#### Description
This statement is functionally identical to the previous one, but it targets the table named `dataset_tags`. It attempts to drop the table only if it exists, preventing errors if the table is already absent.

#### Internal Logic
1. **Check for existence:** The database checks if a table named `dataset_tags` exists.
2. **Conditional drop:**
   - If the table exists, it is dropped, removing its definition and all associated data.
   - If the table doesn't exist, no action is taken.
