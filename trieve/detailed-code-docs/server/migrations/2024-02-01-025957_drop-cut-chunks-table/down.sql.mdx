---
title: "down.sql"
---

## High-level description
This SQL script is a migration file designed to revert the changes made in the corresponding `up.sql` file. It recreates the `cut_chunks` table, which was presumably dropped in the `up.sql` migration.

## Symbols

### `cut_chunks` table
#### Description
This SQL command creates a table named `cut_chunks` with specific columns and constraints.

#### Internal Logic
The table is created with the following structure:
1. `id`: A UUID (Universally Unique Identifier) serving as the primary key.
2. `user_id`: A UUID that references the `id` column in the `users` table, establishing a foreign key relationship.
3. `cut_card_content`: A TEXT field to store the content of the cut card.
4. `created_at`: A TIMESTAMP field with a default value of the current time when a record is created.
5. `updated_at`: A TIMESTAMP field with a default value of the current time when a record is created or updated.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| users table | The `user_id` column in `cut_chunks` references the `id` column in the `users` table |

## Notes
1. This is a "down" migration file, typically used in database migration systems to roll back changes made by the corresponding "up" migration.
2. The comment at the top of the file indicates that this script should undo the actions performed in the `up.sql` file.
3. The `cut_chunks` table appears to be designed to store information about cut cards associated with users, including when they were created and last updated.
4. The use of UUIDs for `id` and `user_id` suggests a distributed or high-volume system where unique identifiers across multiple instances or large datasets are necessary.
5. The `NOT NULL` constraints on `user_id` and `cut_card_content` ensure that these fields always have a value when a record is inserted.
6. The `DEFAULT NOW()` for `created_at` and `updated_at` automatically sets these timestamps when a record is inserted, without requiring explicit values to be provided.