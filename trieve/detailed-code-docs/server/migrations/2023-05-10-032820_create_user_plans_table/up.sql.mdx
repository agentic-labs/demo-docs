---
title: "up.sql"
---

## High-level description
This SQL script creates a table named `user_plans` in the database. This table is designed to store information about user subscriptions, including their Stripe customer and subscription IDs, chosen plan, status, and timestamps for creation and last update. 

## Symbols

### `user_plans` table
#### Description
This table stores data about user subscription plans. Each row represents a user's subscription with details like Stripe IDs, plan details, status, and timestamps.

#### Columns
| Name | Type | Description |
|:-----|:-----|:------------|
| id | UUID | Unique identifier for the user plan record. Acts as primary key. |
| stripe_customer_id | TEXT | Unique identifier for the customer in Stripe. |
| stripe_subscription_id | TEXT | Unique identifier for the subscription in Stripe. |
| plan | TEXT | The name or identifier of the subscription plan. |
| status | TEXT | The current status of the subscription (e.g., active, trialing, canceled). |
| created_at | TIMESTAMP | Timestamp indicating when the record was created. |
| updated_at | TIMESTAMP | Timestamp indicating when the record was last updated. |

#### Indexes
* `idx_user_plans_stripe_customer_id`: An index on the `stripe_customer_id` column to speed up queries that look up user plans by their Stripe customer ID. 
