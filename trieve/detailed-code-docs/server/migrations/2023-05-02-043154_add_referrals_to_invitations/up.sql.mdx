---
title: "up.sql"
---

## High-level description
This SQL migration script adds a new column called `referral_tokens` of type TEXT to the existing `invitations` table. This modification allows the storage of referral token information within invitation records.

## Symbols

### ALTER TABLE invitations
#### Description
This SQL command modifies the structure of the `invitations` table by adding a new column.

#### Internal Logic
1. The `ALTER TABLE` statement is used to modify the existing `invitations` table.
2. The `ADD COLUMN` clause specifies that a new column is being added to the table.
3. The new column is named `referral_tokens` and is of type `TEXT`.

## Side Effects
- This migration will modify the schema of the `invitations` table in the database.
- Existing rows in the `invitations` table will have a `NULL` value for the new `referral_tokens` column unless a default value is specified (which is not the case in this migration).
- Any applications or queries that rely on the structure of the `invitations` table will need to be updated to accommodate the new column.

## Performance Considerations
- Adding a new column to an existing table is generally a fast operation, especially when no default value is specified.
- However, for very large tables, this operation might take some time and could potentially lock the table during the migration.

## TODOs
There are no explicit TODOs in this migration script. However, it's worth noting that:
1. No default value is specified for the new column. Depending on the application's requirements, you might want to consider adding a default value or constraints in a future migration.
2. The `TEXT` data type is used, which allows for storing strings of any length. Depending on the expected content and usage of `referral_tokens`, you might want to consider using a more specific data type or adding constraints in the future.