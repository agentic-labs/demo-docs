---
title: "down.sql"
---

## High-level description
This SQL script contains database migration commands to revert changes made by the `up.sql` migration script related to setting default dataset usage data for organizations. It specifically drops a trigger named `set_default_org_usage_data_trigger` and a function named `set_default_org_usage_data`.

## Code Structure
The script executes two SQL statements in sequence:
1. **`DROP TRIGGER IF EXISTS ...`**: Attempts to drop a trigger. This statement will only succeed if the trigger exists.
2. **`DROP FUNCTION IF EXISTS ...`**: Attempts to drop a function. This statement will only succeed if the function exists.

## Symbols

### `DROP TRIGGER IF EXISTS set_default_org_usage_data_trigger ON organizations;`
#### Description
This statement attempts to drop a trigger named `set_default_org_usage_data_trigger` that is defined on the `organizations` table. The `IF EXISTS` clause ensures that the statement does not fail if the trigger does not exist. This is typically used in a down migration script to revert the creation of a trigger.

#### Internal Logic
1. Checks if a trigger named `set_default_org_usage_data_trigger` exists on the `organizations` table.
2. If the trigger exists, it is dropped.
3. If the trigger does not exist, the statement completes without any action.

### `DROP FUNCTION IF EXISTS set_default_org_usage_data;`
#### Description
This statement attempts to drop a function named `set_default_org_usage_data`. The `IF EXISTS` clause ensures that the statement does not fail if the function does not exist. This is typically used in a down migration script to revert the creation of a function.

#### Internal Logic
1. Checks if a function named `set_default_org_usage_data` exists.
2. If the function exists, it is dropped.
3. If the function does not exist, the statement completes without any action.
