---
title: "down.sql"
---

## High-level description
This SQL script contains database migration commands to revert changes introduced by a corresponding `up.sql` script related to setting default dataset usage data. It specifically drops a trigger named `set_default_org_usage_data_trigger` on the `organizations` table and a function named `set_default_org_usage_data`.

## Code Structure
The script executes two SQL statements in sequence:
1. **`DROP TRIGGER IF EXISTS ...`**: Attempts to drop a trigger. This statement will not fail even if the trigger doesn't exist.
2. **`DROP FUNCTION IF EXISTS ...`**: Attempts to drop a function. This statement will not fail even if the function doesn't exist.

## Symbols

### `DROP TRIGGER IF EXISTS set_default_org_usage_data_trigger ON organizations;`
#### Description
This statement attempts to drop a trigger named `set_default_org_usage_data_trigger` that was defined on the `organizations` table. The `IF EXISTS` clause ensures that the statement doesn't fail if the trigger doesn't exist. This is typically used in rollback scenarios to handle cases where the trigger might not have been created in the first place.

#### Internal Logic
1. **Check for Trigger Existence**: The database checks if a trigger named `set_default_org_usage_data_trigger` exists on the `organizations` table.
2. **Drop Trigger (If Exists)**: If the trigger exists, it is dropped. If it doesn't exist, the statement completes without any action.

### `DROP FUNCTION IF EXISTS set_default_org_usage_data;`
#### Description
This statement attempts to drop a function named `set_default_org_usage_data`. The `IF EXISTS` clause ensures that the statement doesn't fail if the function doesn't exist, making it safe to execute even if the function was not created.

#### Internal Logic
1. **Check for Function Existence**: The database checks if a function named `set_default_org_usage_data` exists.
2. **Drop Function (If Exists)**: If the function exists, it is dropped. If it doesn't exist, the statement completes without any action. 
