---
title: "up.sql"
---

## High-level description
This SQL script adds a new column named `configuration` to the `datasets` table. The column is intended to store JSON data and is configured with `NOT NULL` and a default value of an empty JSON object (`{}`).

## Symbols

### `ALTER TABLE datasets`
#### Description
This SQL statement modifies the existing `datasets` table.

#### Internal Logic
- `ADD COLUMN configuration JSONB NOT NULL DEFAULT '{}'::JSONB;`: This part of the statement adds a new column with the following properties:
    - **Column name:** `configuration`
    - **Data type:** `JSONB` (Binary JSON, preferred for its efficiency in PostgreSQL)
    - **Constraints:**
        - `NOT NULL`: Ensures that every row in the table must have a value for this column.
        - `DEFAULT '{}'::JSONB`: Sets the default value of the column to an empty JSON object (`{}`) if no value is provided during insertion.

## Side Effects
- **Schema Change:** This migration directly modifies the database schema by adding a new column to the `datasets` table. 
- **Data Storage:**  Allows for storing arbitrary JSON configuration data associated with each dataset.
