---
title: "down.sql"
---

## High-level description
This SQL migration file is designed to revert the changes made in the corresponding `up.sql` file. It adds back the `is_public` column to the `card_collection` table, which was presumably removed in the `up` migration.

## Symbols

### ALTER TABLE card_collection
#### Description
This SQL command modifies the structure of the `card_collection` table by adding a new column.

#### Internal Logic
1. The `ALTER TABLE` statement targets the `card_collection` table.
2. The `ADD COLUMN` clause specifies that a new column is being added to the table.
3. The new column is named `is_public`.
4. The column type is set to `boolean`.
5. The `NOT NULL` constraint ensures that this column cannot contain null values.
6. The `DEFAULT true` clause sets the default value for this column to `true` when no value is explicitly provided during insertion.

## Side Effects
- This migration will modify the structure of the `card_collection` table in the database.
- Any existing rows in the `card_collection` table will have the `is_public` column added with a default value of `true`.
- Queries or application code that were modified to work without the `is_public` column may need to be updated to handle its presence again.

## Dependencies
This SQL script relies on the existence of the `card_collection` table in the database.

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| is_public | boolean | true | Determines whether a card collection is public or not |

## TODOs
The comment at the top of the file suggests that this script should undo anything done in the `up.sql` file. It's important to ensure that this down migration exactly reverses the changes made in the corresponding up migration for consistency and proper version control of the database schema.