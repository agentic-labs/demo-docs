---
title: "up.sql"
---

## High-level description
This SQL script defines a database migration that adds a new column named `tag_set_array` to three existing tables: `chunk_metadata`, `chunk_group`, and `files`. The new column is of type `TEXT[]` which represents an array of text values and has a default value of an empty array (`'{}'`).

## Symbols
### `ALTER TABLE chunk_metadata ADD COLUMN tag_set_array TEXT[] DEFAULT '{}'`
#### Description
This statement adds a new column named `tag_set_array` to the `chunk_metadata` table. 

#### Internal Logic
- `ALTER TABLE chunk_metadata`: This clause specifies that the `chunk_metadata` table is being modified.
- `ADD COLUMN tag_set_array`: This clause adds a new column named `tag_set_array` to the table.
- `TEXT[]`: This specifies the data type of the new column as an array of text strings.
- `DEFAULT '{}'`: This sets the default value of the `tag_set_array` column to an empty array for existing rows in the table.

### `ALTER TABLE chunk_group ADD COLUMN tag_set_array TEXT[] DEFAULT '{}'`
#### Description
This statement is identical to the previous one, but it adds the `tag_set_array` column to the `chunk_group` table instead of `chunk_metadata`.

### `ALTER TABLE files ADD COLUMN tag_set_array TEXT[] DEFAULT '{}'`
#### Description
This statement is also identical to the previous ones, but it adds the `tag_set_array` column to the `files` table.
