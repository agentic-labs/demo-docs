---
title: "up.sql"
---

## High-level description
This SQL script creates a new table named `topics` in the database. This table is designed to store information about debate topics, including their resolution, associated user, side, deletion status, and timestamps for creation and updates.

## Symbols

### `CREATE TABLE topics`
#### Description
This SQL statement creates a new table named `topics` with the specified columns and constraints.

#### Inputs
N/A - This is a database schema definition, not a function with inputs.

#### Outputs
N/A - This statement modifies the database schema by creating a table; it doesn't return a value.

#### Internal Logic
The statement defines the following columns for the `topics` table:

- `id`: A universally unique identifier (UUID) that serves as the primary key for the table, ensuring each topic has a unique identifier. The `NOT NULL` constraint enforces that this column cannot be empty.
- `user_id`: A foreign key referencing the `id` column of the `users` table. This establishes a relationship between topics and users, indicating which user created the topic. The `NOT NULL` constraint ensures every topic is associated with a user.
- `resolution`: A text field storing the resolution or statement of the debate topic. The `NOT NULL` constraint mandates that every topic must have a resolution.
- `side`: A boolean value indicating the side of the debate the topic is associated with. The `NOT NULL` constraint ensures this field always has a value.
- `deleted`: A boolean value with a default value of `FALSE`, indicating whether the topic has been marked as deleted. This allows for soft deletion of topics.
- `created_at`: A timestamp recording when the topic was created. The `NOT NULL` constraint ensures this field is always populated.
- `updated_at`: A timestamp recording when the topic was last updated. The `NOT NULL` constraint ensures this field is always populated.

## References
- `users(id)`: This statement references the `id` column of the `users` table to establish a foreign key relationship. This implies the existence of a `users` table in the database. 
