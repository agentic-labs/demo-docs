---
title: "down.sql"
---

## High-level description
This SQL script performs a database migration that reverses the changes introduced by a previous migration related to the `card_metadata` table. Specifically, it removes the `private` column, makes the `qdrant_point_id` column non-nullable, and removes a check constraint related to the `qdrant_point_id` column.

## Code Structure
The script consists of three SQL statements executed sequentially. Each statement targets the `card_metadata` table and either modifies its structure or constraints.

## Symbols

### `ALTER TABLE card_metadata DROP CONSTRAINT qdrant_point_nullable_constraint;`
#### Description
This statement removes the `qdrant_point_nullable_constraint` CHECK constraint from the `card_metadata` table. This constraint likely enforced some rule on the `qdrant_point_id` column, which is being removed as part of this migration reversal.

#### Inputs
N/A - This is a SQL statement, not a function.

#### Outputs
N/A - This statement modifies the database schema.

### `ALTER TABLE card_metadata ALTER COLUMN qdrant_point_id SET NOT NULL;`
#### Description
This statement modifies the `qdrant_point_id` column of the `card_metadata` table to disallow NULL values. This suggests that in the previous migration, this column was likely made nullable, and this statement reverses that change.

#### Inputs
N/A - This is a SQL statement, not a function.

#### Outputs
N/A - This statement modifies the database schema.

### `ALTER TABLE card_metadata DROP COLUMN private;`
#### Description
This statement removes the `private` column from the `card_metadata` table. This suggests that the previous migration added this column, and this statement is part of the reversal process.

#### Inputs
N/A - This is a SQL statement, not a function.

#### Outputs
N/A - This statement modifies the database schema.
