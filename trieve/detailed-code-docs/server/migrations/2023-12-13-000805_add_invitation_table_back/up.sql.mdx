---
title: "up.sql"
---

## High-level description
This SQL script creates a new table named `invitations` in the database. The table is designed to store information about invitations, likely for a system that allows users to invite others to access specific datasets.

## Code Structure
The script consists of a single SQL `CREATE TABLE` statement that defines the structure of the `invitations` table.

## Symbols

### `invitations` table
#### Description
The `invitations` table is created to store information about invitations sent to users for accessing datasets. It includes fields for tracking the invitation status, expiration, and associated dataset.

#### Internal Logic
The table is defined with the following columns:

1. `id`: A unique identifier for each invitation.
2. `email`: The email address of the invited user.
3. `dataset_id`: The identifier of the dataset the invitation is for.
4. `used`: A boolean flag to indicate if the invitation has been used.
5. `expires_at`: A timestamp for when the invitation expires.
6. `created_at`: A timestamp for when the invitation was created.
7. `updated_at`: A timestamp for when the invitation was last updated.

## Dependencies
This script relies on the SQL database system supporting the following data types:
| Dependency | Purpose |
|:-----------|:--------|
| UUID | For unique identifiers |
| VARCHAR | For storing email addresses |
| BOOLEAN | For the 'used' flag |
| TIMESTAMP | For storing date and time information |

## Performance Considerations
The `id` column is defined as the primary key, which should automatically create an index on this column for faster lookups. Depending on the expected query patterns, additional indexes might be considered for `email` and `dataset_id` columns to improve query performance.

## TODOs
The filename suggests that this table is being "added back," which might indicate that it was previously removed or modified. It may be worth reviewing the history of this table to understand why it was removed and if any additional changes are needed.