---
title: "down.sql"
---

## High-level description
This SQL script contains database migration commands to revert changes introduced by a corresponding `up.sql` migration. Specifically, it drops the `dataset_id` column from both the `card_metadata` and `card_collection` tables.

## Symbols

### `ALTER TABLE card_metadata DROP COLUMN IF EXISTS dataset_id;`
#### Description
This SQL statement removes the `dataset_id` column from the `card_metadata` table if it exists. The `IF EXISTS` clause ensures that the statement executes successfully even if the column has already been dropped.

#### Internal Logic
- **`ALTER TABLE card_metadata`**:  Initiates an alteration to the `card_metadata` table.
- **`DROP COLUMN IF EXISTS dataset_id`**: Specifies the action to drop a column named `dataset_id` only if it exists in the table.

### `ALTER TABLE card_collection DROP COLUMN IF EXISTS dataset_id;`
#### Description
This SQL statement is identical in structure and purpose to the previous one, but it targets the `card_collection` table instead of `card_metadata`. It removes the `dataset_id` column from this table if it exists.

#### Internal Logic
- **`ALTER TABLE card_collection`**: Initiates an alteration to the `card_collection` table.
- **`DROP COLUMN IF EXISTS dataset_id`**: Specifies the action to drop a column named `dataset_id` only if it exists in the table.
