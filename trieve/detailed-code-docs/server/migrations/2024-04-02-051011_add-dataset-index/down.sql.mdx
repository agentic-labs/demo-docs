---
title: "down.sql"
---

## High-level description
This SQL script defines the "down" migration for reverting changes introduced in a previous migration related to chunk metadata. It specifically drops three indexes and recreates one index on the `chunk_metadata` table.

## Symbols

### `DROP INDEX idx_chunk_metadata_dataset_id`
#### Description
This statement drops the index named `idx_chunk_metadata_dataset_id` from the `chunk_metadata` table. This index was likely created in the corresponding `up.sql` migration file.

#### Side Effects
- Removes the `idx_chunk_metadata_dataset_id` index, potentially slowing down queries that relied on it.

### `DROP INDEX idx_chunk_metadata_created_at`
#### Description
This statement drops the index named `idx_chunk_metadata_created_at` from the `chunk_metadata` table. This index was likely created in the corresponding `up.sql` migration file.

#### Side Effects
- Removes the `idx_chunk_metadata_created_at` index, potentially slowing down queries that relied on it.

### `DROP INDEX idx_chunk_metadata_time_stamp`
#### Description
This statement drops the index named `idx_chunk_metadata_time_stamp` from the `chunk_metadata` table. This index was likely created in the corresponding `up.sql` migration file.

#### Side Effects
- Removes the `idx_chunk_metadata_time_stamp` index, potentially slowing down queries that relied on it.

### `CREATE INDEX idx_card_metadata_qdrant_point_id ON chunk_metadata(qdrant_point_id)`
#### Description
This statement creates an index named `idx_card_metadata_qdrant_point_id` on the `qdrant_point_id` column of the `chunk_metadata` table. This index is being recreated as part of reverting the changes from the `up.sql` migration.

#### Side Effects
- Creates the `idx_card_metadata_qdrant_point_id` index, potentially improving the performance of queries that filter or order by the `qdrant_point_id` column. 
