---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for adding and removing a `time_stamp` column to the `card_metadata` and `files` tables in a database. The migration is dated 2023-11-21, indicating when it was created or intended to be applied.

## What does it do?
These migration scripts modify the structure of two database tables:

1. `card_metadata`
2. `files`

The scripts add a new column called `time_stamp` to both tables. This column is designed to store date and time information, allowing for temporal tracking of records in these tables. The `time_stamp` column is optional (can be NULL) and doesn't have a default value other than NULL.

If the migration needs to be reversed, the scripts also provide a way to remove the `time_stamp` column from both tables.

## Key Files
The directory contains two important SQL files:

1. `up.sql`: This file contains the SQL commands to add the `time_stamp` column to the `card_metadata` and `files` tables.

2. `down.sql`: This file contains the SQL commands to remove the `time_stamp` column from the `card_metadata` and `files` tables, effectively reversing the changes made by `up.sql`.

### up.sql
The `up.sql` file adds the `time_stamp` column to both tables using the following SQL commands:

```sql
ALTER TABLE card_metadata ADD COLUMN time_stamp TIMESTAMP NULL DEFAULT NULL;
ALTER TABLE files ADD COLUMN time_stamp TIMESTAMP NULL DEFAULT NULL;
```

These commands add a `time_stamp` column of type `TIMESTAMP` to each table. The column allows NULL values and has a default value of NULL.

### down.sql
The `down.sql` file removes the `time_stamp` column from both tables using the following SQL commands:

```sql
ALTER TABLE card_metadata DROP COLUMN IF EXISTS time_stamp;
ALTER TABLE files DROP COLUMN IF EXISTS time_stamp;
```

These commands remove the `time_stamp` column from each table if it exists. The `IF EXISTS` clause ensures that the operation doesn't fail if the column is not present.

## Configuration
The migration is identified by its timestamp: `2023-11-21-202931`. This timestamp likely serves as a unique identifier for the migration and may be used by a database migration tool to track which migrations have been applied to the database.