---
title: "down.sql"
---

## High-level description
This SQL script reverts the changes made by the migration `2024-04-29-180210_make-default-location-null`. It first drops the `location` column from the `chunk_metadata` table and then adds it back with a default value of an empty JSON object (`{}`) and allows it to be NULL.

## Symbols
### `ALTER TABLE chunk_metadata DROP COLUMN location;`
#### Description
This statement drops the `location` column from the `chunk_metadata` table. This reverts the column back to its state before the migration in `up.sql` was applied.

### `ALTER TABLE chunk_metadata ADD COLUMN location JSONB DEFAULT '{}' NULL;`
#### Description
This statement adds the `location` column back to the `chunk_metadata` table with the following properties:
* **Data Type:** JSONB - This indicates that the column will store JSON objects.
* **Default Value:** `{}` - An empty JSON object is set as the default value for the column.
* **Nullability:** `NULL` - The column is allowed to contain NULL values. 

This effectively restores the `location` column with its previous data type and nullability constraint, but now with a default value of an empty JSON object for new rows inserted into the table. 
