---
title: "down.sql"
---

## High-level description
This SQL script defines the down migration for a database schema change. It recreates the `stripe_customers` table, which was presumably dropped in the corresponding `up.sql` migration file. This table stores information about Stripe customers and their association with users in the application.

## Symbols

### `stripe_customers`
#### Description
This symbol defines the `stripe_customers` table, which stores information about Stripe customers.

#### Inputs
N/A - This is a table definition, not a function or procedure.

#### Outputs
N/A - This is a table definition, not a function or procedure.

#### Internal Logic
The table has the following columns:

*   `id`: A UUID serving as the primary key for the table.
*   `stripe_id`: A unique text field storing the Stripe ID of the customer.
*   `email`: A unique text field storing the customer's email address, which can be NULL.
*   `created_at`: A timestamp indicating when the record was created.
*   `updated_at`: A timestamp indicating when the record was last updated.

The table also defines a foreign key constraint on the `email` column, referencing the `email` column in the `users` table. This ensures that any email address in the `stripe_customers` table also exists in the `users` table.
