---
title: "down.sql"
---

## High-level description
This SQL script defines the **down** migration for reverting changes related to the `user_api_key` table introduced in a previous migration. It aims to undo the schema changes by dropping the `user_api_key` table and re-adding the `api_key_hash` column to the `users` table.

## Symbols
### `DROP TABLE IF EXISTS user_api_key;`
#### Description
This statement attempts to drop the `user_api_key` table. The `IF EXISTS` clause ensures that the operation doesn't fail if the table doesn't exist.

#### Side Effects
- If exists, the `user_api_key` table and all its data will be permanently deleted from the database.

### `ALTER TABLE users ADD COLUMN api_key_hash TEXT;`
#### Description
This statement adds a column named `api_key_hash` to the `users` table. The column is defined with the `TEXT` data type, allowing it to store API key hashes.

#### Side Effects
- The `users` table schema is modified to include the `api_key_hash` column.
