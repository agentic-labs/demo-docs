---
title: "down.sql"
---

## High-level description
This SQL script reverts database schema changes related to indexes on the `card_collection` and `card_collection_bookmarks` tables. It's intended to be used as the "down" migration step, undoing the changes applied by the corresponding "up" migration.

## Symbols

### `DROP INDEX IF EXISTS`
#### Description
This SQL statement attempts to drop an index if it exists. This ensures that the script can be run multiple times without causing errors if the index is already dropped.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| index_name | string | The name of the index to be dropped. |

#### Internal Logic
1. **Check for Index Existence:** The statement first checks if the specified index exists.
2. **Conditional Drop:** If the index exists, it is dropped. If the index doesn't exist, the statement does nothing.

#### Side Effects
- **Index Removal:** If the index exists, it is removed from the database schema. This can impact the performance of queries that previously utilized the index.

---

## Error Handling
The `IF EXISTS` clause in the `DROP INDEX` statements provides basic error handling. If an index doesn't exist, the script will not fail. 
