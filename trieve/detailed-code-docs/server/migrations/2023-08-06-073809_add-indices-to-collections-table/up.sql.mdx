---
title: "up.sql"
---

## High-level description
This SQL script defines a database migration that adds indices to the `card_collection` and `card_collection_bookmarks` tables. These indices are intended to improve the performance of queries that filter or sort by the indexed columns. 

## Symbols

### `up.sql`
#### Description
This SQL script defines the "up" migration for adding indices to the `card_collection` and `card_collection_bookmarks` tables. It creates several indices on different columns to optimize query performance.

#### Internal Logic
The script performs the following actions:

* **For the `card_collection` table:**
    * Creates an index named `idx_card_collection_author_id` on the `author_id` column.
    * Creates an index named `idx_card_collection_is_public` on the `is_public` column.
    * Creates an index named `idx_card_collection_created_at` on the `created_at` column.
    * Creates an index named `idx_card_collection_updated_at` on the `updated_at` column.

* **For the `card_collection_bookmarks` table:**
    * Creates an index named `idx_card_collection_bookmarks_collection_id` on the `collection_id` column.
    * Creates an index named `idx_card_collection_bookmarks_card_metadata_id` on the `card_metadata_id` column.
    * Creates an index named `idx_card_collection_bookmarks_created_at` on the `created_at` column.
    * Creates an index named `idx_card_collection_bookmarks_updated_at` on the `updated_at` column.

#### Performance Considerations
Adding these indices is expected to improve the performance of queries that involve filtering or sorting by the indexed columns. However, it's important to note that indices also have a storage cost and can slightly impact the performance of write operations (inserts, updates, deletes). 
