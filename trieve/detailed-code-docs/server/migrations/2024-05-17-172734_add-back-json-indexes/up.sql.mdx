---
title: "up.sql"
---

## High-level description
This SQL script drops three existing indexes and creates a new index on the `chunk_metadata` table. The new index is a GIN index on the `metadata` column, using `jsonb_path_ops` for indexing JSON data.

## Symbols

### `DROP INDEX idx_card_metadata_link`
#### Description
Drops the existing index named `idx_card_metadata_link`.

#### Internal Logic
This statement uses the `DROP INDEX` command to remove the specified index.

### `DROP INDEX idx_chunk_metadata_created_at`
#### Description
Drops the existing index named `idx_chunk_metadata_created_at`.

#### Internal Logic
This statement uses the `DROP INDEX` command to remove the specified index.

### `DROP INDEX idx_chunk_metadata_time_stamp`
#### Description
Drops the existing index named `idx_chunk_metadata_time_stamp`.

#### Internal Logic
This statement uses the `DROP INDEX` command to remove the specified index.

### `CREATE INDEX idx_chunk_metadata_json`
#### Description
Creates a new GIN index named `idx_chunk_metadata_json` on the `metadata` column of the `chunk_metadata` table.

#### Internal Logic
This statement uses the `CREATE INDEX` command to create a new index.
- `GIN`: Specifies the index type as GIN, which is suitable for indexing JSON data.
- `ON chunk_metadata`: Specifies the table on which the index is created.
- `USING gin`: Specifies the indexing method to use.
- `(metadata jsonb_path_ops)`: Defines the indexed column and uses `jsonb_path_ops` for indexing JSON data within the `metadata` column.
