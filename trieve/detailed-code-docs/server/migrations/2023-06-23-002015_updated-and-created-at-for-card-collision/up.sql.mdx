---
title: "up.sql"
---

## High-level description
This SQL migration script adds two timestamp columns, `created_at` and `updated_at`, to the `card_collisions` table. These columns are designed to track when a record is created and last updated, respectively.

## Symbols

### ALTER TABLE card_collisions
#### Description
This SQL command modifies the structure of the existing `card_collisions` table by adding two new columns.

#### Internal Logic
1. Adds a `created_at` column of type TIMESTAMP.
2. Adds an `updated_at` column of type TIMESTAMP.
3. Both columns are set to NOT NULL, ensuring they always have a value.
4. Both columns have a default value of NOW(), which sets the current timestamp when a new record is inserted.

## Side Effects
- This migration will modify the structure of the `card_collisions` table.
- Existing rows in the table will have their `created_at` and `updated_at` columns populated with the current timestamp at the time of migration.
- Future inserts into this table will automatically set these timestamp values.

## Performance Considerations
Adding new columns to an existing table can be a potentially expensive operation, especially if the table contains a large number of rows. The execution time of this migration may vary depending on the size of the `card_collisions` table.

## Notes
- This migration only handles the "up" direction, adding the columns. A corresponding "down" migration would be needed to reverse these changes if necessary.
- The `updated_at` column will need to be manually updated or managed through application logic or database triggers to reflect the actual last update time of each record.