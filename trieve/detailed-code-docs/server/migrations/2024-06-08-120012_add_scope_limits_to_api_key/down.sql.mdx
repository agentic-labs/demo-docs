---
title: "down.sql"
---

## High-level description
This SQL script contains database migration commands to revert changes introduced by a corresponding `up.sql` migration related to API key scope limits. It specifically removes the columns `dataset_ids` and `organization_ids` from the `user_api_key` table.

## Symbols

### `ALTER TABLE user_api_key DROP COLUMN IF EXISTS dataset_ids;`
#### Description
This SQL statement removes the `dataset_ids` column from the `user_api_key` table if it exists. The `IF EXISTS` clause ensures that the statement executes successfully even if the column has already been removed.

#### Internal Logic
- **`ALTER TABLE user_api_key`**: This part specifies that the `user_api_key` table is being modified.
- **`DROP COLUMN IF EXISTS dataset_ids`**: This part instructs the database to drop (remove) the column named `dataset_ids` if it exists in the table.

### `ALTER TABLE user_api_key DROP COLUMN IF EXISTS organization_ids;`
#### Description
This SQL statement is identical in structure to the previous one, but it targets the `organization_ids` column instead of `dataset_ids`. It removes the `organization_ids` column from the `user_api_key` table if it exists.

#### Internal Logic
- **`ALTER TABLE user_api_key`**: This part specifies that the `user_api_key` table is being modified.
- **`DROP COLUMN IF EXISTS organization_ids`**: This part instructs the database to drop (remove) the column named `organization_ids` if it exists in the table.
