---
title: "up.sql"
---

## High-level description
This SQL migration file adds a new column called `weight` to the `card_metadata` table. The `weight` column is of type `double precision` and has a default value of 1.

## Symbols

### ALTER TABLE statement
#### Description
This SQL statement modifies the structure of the existing `card_metadata` table by adding a new column.

#### Internal Logic
1. The `ALTER TABLE` command is used to modify the `card_metadata` table.
2. The `ADD COLUMN` clause specifies that a new column is being added to the table.
3. The new column is named `weight`.
4. The data type of the `weight` column is set to `double precision`, which allows for storing floating-point numbers with high precision.
5. The `NOT NULL` constraint ensures that this column cannot contain null values.
6. The `DEFAULT 1` clause sets the default value for this column to 1, meaning that if no value is specified when inserting a new row, it will automatically be set to 1.

## Side Effects
- This migration will modify the structure of the `card_metadata` table in the database.
- All existing rows in the `card_metadata` table will have the `weight` column added with a value of 1.
- Future insertions into the `card_metadata` table will require a value for the `weight` column, or it will default to 1 if not specified.

## Performance Considerations
- Depending on the size of the `card_metadata` table, this operation may take some time to complete, as it needs to update all existing rows.
- If there are any indexes on the `card_metadata` table, they may need to be rebuilt after this operation.

## TODOs
The comment "-- Your SQL goes here" at the beginning of the file suggests that this is a template or placeholder for SQL migrations. In this case, the SQL has been added, so this comment could be removed in a future cleanup.