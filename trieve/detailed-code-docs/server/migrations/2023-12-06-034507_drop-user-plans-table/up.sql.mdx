---
title: "up.sql"
---

## High-level description
This SQL script defines the "up" migration for removing the `user_plans` table and its associated index `idx_user_plans_stripe_customer_id` from the database. This suggests a change in how user subscription plans are being managed within the application.

## Symbols

### `DROP TABLE IF EXISTS user_plans;`
#### Description
This statement attempts to drop the table named `user_plans`. The `IF EXISTS` clause ensures that the statement executes without error even if the table does not exist.

#### Internal Logic
1. Checks if the table `user_plans` exists in the database.
2. If the table exists, it is permanently deleted, along with all its data.
3. If the table does not exist, the statement completes without any action.

### `DROP INDEX IF EXISTS idx_user_plans_stripe_customer_id;`
#### Description
This statement attempts to drop the index named `idx_user_plans_stripe_customer_id`. The `IF EXISTS` clause ensures that the statement executes without error even if the index does not exist.

#### Internal Logic
1. Checks if the index `idx_user_plans_stripe_customer_id` exists in the database.
2. If the index exists, it is permanently deleted.
3. If the index does not exist, the statement completes without any action.
