---
title: "down.sql"
---

## High-level description
This SQL migration file is designed to revert the changes made in the corresponding `up.sql` file. It adds back a `configuration` column to the `organizations` table with a `jsonb` data type and a `NOT NULL` constraint.

## Symbols

### ALTER TABLE organizations ADD COLUMN configuration
#### Description
This SQL command adds a new column named `configuration` to the `organizations` table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| configuration | jsonb | A JSON binary column to store organization configuration data |

#### Internal Logic
1. The `ALTER TABLE` statement is used to modify the existing `organizations` table.
2. The `ADD COLUMN` clause specifies that a new column is being added to the table.
3. The column name is set as `configuration`.
4. The data type is set to `jsonb`, which stands for JSON Binary. This allows for efficient storage and querying of JSON data.
5. The `NOT NULL` constraint is applied, ensuring that this column cannot contain null values.
6. The `DEFAULT` keyword is used, but no default value is specified after it. This is likely an error in the migration script.

## Error Handling
There is a potential issue in this migration script. The `DEFAULT` keyword is used without specifying a default value. This may cause an error when executing the migration or lead to unexpected behavior. It's recommended to either remove the `DEFAULT` keyword if no default value is needed or provide a valid default JSON value.

## TODOs
- Fix the `DEFAULT` clause by either removing it or providing a valid default JSON value.
- Consider adding a comment explaining the purpose of the `configuration` column and its expected content structure.