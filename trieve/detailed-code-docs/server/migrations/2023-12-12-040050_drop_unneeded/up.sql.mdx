---
title: "up.sql"
---

## High-level description
This SQL script defines an "up" migration that drops several database objects, including a column, tables, a trigger, and a function. This suggests a database schema simplification or removal of unused features.

## Symbols
### `ALTER TABLE card_metadata DROP COLUMN IF EXISTS card_metadata_tsvector;`
#### Description
This statement attempts to drop the column `card_metadata_tsvector` from the table `card_metadata`. The `IF EXISTS` clause ensures that the operation doesn't fail if the column doesn't exist.

#### Internal Logic
- Checks if the column `card_metadata_tsvector` exists in the table `card_metadata`.
- If the column exists, it is dropped from the table.
- If the column doesn't exist, the statement completes without error.

### `DROP TABLE IF EXISTS invitations;`
#### Description
This statement attempts to drop the table `invitations`. The `IF EXISTS` clause ensures that the operation doesn't fail if the table doesn't exist.

#### Internal Logic
- Checks if the table `invitations` exists in the database.
- If the table exists, it is dropped.
- If the table doesn't exist, the statement completes without error.

### `DROP TABLE IF EXISTS password_resets;`
#### Description
This statement attempts to drop the table `password_resets`. The `IF EXISTS` clause ensures that the operation doesn't fail if the table doesn't exist.

#### Internal Logic
- Checks if the table `password_resets` exists in the database.
- If the table exists, it is dropped.
- If the table doesn't exist, the statement completes without error.

### `DROP TRIGGER IF EXISTS update_tsvector_trigger ON card_metadata;`
#### Description
This statement attempts to drop the trigger `update_tsvector_trigger` on the table `card_metadata`. The `IF EXISTS` clause ensures that the operation doesn't fail if the trigger doesn't exist.

#### Internal Logic
- Checks if the trigger `update_tsvector_trigger` exists on the table `card_metadata`.
- If the trigger exists, it is dropped.
- If the trigger doesn't exist, the statement completes without error.

### `DROP FUNCTION IF EXISTS update_tsvector();`
#### Description
This statement attempts to drop the function `update_tsvector()`. The `IF EXISTS` clause ensures that the operation doesn't fail if the function doesn't exist.

#### Internal Logic
- Checks if the function `update_tsvector()` exists in the database.
- If the function exists, it is dropped.
- If the function doesn't exist, the statement completes without error.
