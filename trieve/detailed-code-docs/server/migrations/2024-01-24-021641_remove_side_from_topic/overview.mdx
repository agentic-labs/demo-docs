---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for modifying the `topics` table in a database. The migration is identified by the timestamp `2024-01-24-021641` and is specifically designed to remove the `side` and `normal_chat` columns from the `topics` table.

## What does it do?
The migration scripts in this directory perform the following actions:

1. In the "up" migration:
   - Remove the `side` column from the `topics` table
   - Remove the `normal_chat` column from the `topics` table

2. In the "down" migration (reverting the changes):
   - Add back the `side` column to the `topics` table as a VARCHAR(255)
   - Add back the `normal_chat` column to the `topics` table as a BOOLEAN with a default value of TRUE

These changes modify the structure of the `topics` table, removing two columns that were presumably no longer needed in the application. The "down" migration allows for reverting these changes if necessary.

## Key Files

1. `up.sql`:
   This file contains the SQL commands to perform the forward migration. It removes the `side` and `normal_chat` columns from the `topics` table.

   ```sql
   ALTER TABLE topics DROP COLUMN side;
   ALTER TABLE topics DROP COLUMN normal_chat;
   ```

2. `down.sql`:
   This file contains the SQL commands to revert the migration. It adds back the `side` and `normal_chat` columns to the `topics` table.

   ```sql
   ALTER TABLE topics ADD COLUMN side VARCHAR(255);
   ALTER TABLE topics ADD COLUMN normal_chat BOOLEAN DEFAULT TRUE;
   ```

These files work together to provide a reversible database migration, allowing developers to apply or roll back changes to the database schema as needed.

## Configuration
The migration is identified by the timestamp in the directory name: `2024-01-24-021641`. This timestamp is likely used by a migration tool to determine the order in which migrations should be applied or rolled back.

No additional configuration files or environment variables are present in this directory. The migration relies solely on the SQL commands defined in the `up.sql` and `down.sql` files.