---
title: "down.sql"
---

## High-level description
This SQL script reverts the changes made by the migration `2024-02-01-003109_fix_events_upload`. It drops the function `public.update_notification_count()` and renames the table `dataset_event_counts` back to `dataset_notification_counts`.

## Symbols

### `DROP FUNCTION IF EXISTS public.update_notification_count() CASCADE;`
#### Description
This statement attempts to drop the function named `update_notification_count` in the `public` schema. The `IF EXISTS` clause ensures that the statement doesn't fail if the function doesn't exist. The `CASCADE` option drops all dependent objects (if any) associated with the function.

#### Side Effects
- If the function `public.update_notification_count()` exists, it will be dropped along with any dependent objects.

### `ALTER TABLE dataset_event_counts RENAME TO dataset_notification_counts;`
#### Description
This statement renames the table `dataset_event_counts` to `dataset_notification_counts`. This reverts a potential table name change made in the `up.sql` migration script.

#### Side Effects
- The table name will be reverted, and all existing data and associated objects (indexes, constraints, etc.) will be retained under the new name. 
