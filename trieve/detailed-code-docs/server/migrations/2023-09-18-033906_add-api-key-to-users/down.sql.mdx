---
title: "down.sql"
---

## High-level description
This SQL migration file is designed to undo the changes made in the corresponding `up.sql` file. Specifically, it removes the `api_key_hash` column from the `users` table in the database.

## Symbols

### ALTER TABLE users
#### Description
This SQL command modifies the structure of the `users` table by removing a column.

#### Internal Logic
The command drops the `api_key_hash` column from the `users` table. This operation effectively removes the ability to store API key hashes for users in the database.

## Side Effects
- The `users` table structure is modified, removing the `api_key_hash` column.
- Any data that was stored in the `api_key_hash` column will be permanently lost when this migration is executed.

## Dependencies
This migration relies on the existence of:
1. The `users` table in the database.
2. The `api_key_hash` column in the `users` table.

## Error Handling
No explicit error handling is implemented in this migration. If the `users` table or the `api_key_hash` column doesn't exist, the database system will likely raise an error when attempting to execute this migration.

## Notes
- This migration is part of a pair, with an accompanying `up.sql` file that presumably added the `api_key_hash` column to the `users` table.
- The comment at the top of the file indicates that this migration is intended to reverse the changes made in the corresponding `up.sql` file.
- Care should be taken when running this migration, as it will result in data loss if the `api_key_hash` column contains any information.
- The naming convention of the file (2023-09-18-033906_add-api-key-to-users) suggests that this migration was created on September 18, 2023, at 03:39:06, and its purpose was to add an API key to users. This down migration reverses that action.