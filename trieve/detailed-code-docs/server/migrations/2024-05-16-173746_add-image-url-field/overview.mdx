---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for adding an `image_urls` field to the `chunk_metadata` table in the database. It consists of two files: `up.sql` for applying the change and `down.sql` for rolling it back.

## What does it do?
These migration scripts modify the database structure to accommodate a new feature related to image URLs. The `up.sql` script adds a new column called `image_urls` to the `chunk_metadata` table. This column is designed to store multiple URLs as an array of text strings, likely representing images associated with each chunk of metadata. The `down.sql` script provides a way to undo this change by removing the `image_urls` column if needed.

## Key Files

### up.sql
This file contains the SQL command to add the new `image_urls` column to the `chunk_metadata` table. The command is:

```sql
ALTER TABLE chunk_metadata ADD COLUMN image_urls TEXT[];
```

This adds an array of text strings, which can store multiple image URLs for each row in the `chunk_metadata` table.

### down.sql
This file contains the SQL command to remove the `image_urls` column from the `chunk_metadata` table. The command is:

```sql
ALTER TABLE chunk_metadata DROP COLUMN image_urls;
```

This removes the `image_urls` column, effectively undoing the change made by the `up.sql` script.

## Configuration
The migration is identified by its timestamp: `2024-05-16-173746`. This timestamp is used to order migrations and ensure they are applied in the correct sequence.

These migration scripts are typically executed by a database migration tool or framework, which would use the timestamp in the directory name to determine the order of execution and keep track of which migrations have been applied to the database.