---
title: "down.sql"
---

## High-level description
This SQL script reverts a database migration that changed event types from 'card_' prefix to 'chunk_' prefix. It updates all events with types starting with 'chunk_' back to 'card_' prefix.

## Symbols

### `UPDATE events`
#### Description
This statement updates the `events` table in the database. It specifically targets rows where the `event_type` column starts with 'chunk_' and replaces this prefix with 'card_'.

#### Inputs
N/A - This statement doesn't take explicit inputs. It operates on the existing data in the `events` table.

#### Outputs
N/A - This statement doesn't return any explicit output. It modifies the data within the `events` table.

#### Internal Logic
1. **`WHERE event_type LIKE 'chunk_%';`**: This clause filters the `events` table, selecting only rows where the `event_type` column starts with 'chunk_' (the '%' wildcard matches any characters after 'chunk_').
2. **`SET event_type = REPLACE(event_type, 'chunk_', 'card_')`**: This clause updates the selected rows. It uses the `REPLACE` function to substitute the 'chunk_' prefix in the `event_type` column with 'card_'.

## Side Effects
- **Modifies database data**: This script directly modifies the data in the `events` table by updating the `event_type` column for specific rows. 
