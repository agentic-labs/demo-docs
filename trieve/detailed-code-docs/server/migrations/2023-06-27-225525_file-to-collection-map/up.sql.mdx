---
title: "up.sql"
---

## High-level description
This SQL script creates a new table named `collections_from_files` in the database. This table is designed to store a many-to-many relationship between `card_collection` and `files` tables, tracking which files belong to which card collections. 

## Symbols

### `collections_from_files` table
#### Description
This table stores the relationships between card collections and files. Each row represents a link between a specific card collection and a specific file.

#### Columns
| Name | Type | Description |
|:-----|:-----|:------------|
| `id` | UUID | Unique identifier for each relationship record (Primary Key) |
| `collection_id` | UUID | Foreign key referencing the `card_collection` table, indicating which collection the file belongs to. This column has a cascade delete constraint, meaning if a `card_collection` is deleted, all related rows in `collections_from_files` will also be deleted. |
| `file_id` | UUID | Foreign key referencing the `files` table, indicating the specific file associated with the collection. This column also has a cascade delete constraint. |
| `created_at` | TIMESTAMP | Timestamp indicating when the relationship record was created. Defaults to the current timestamp. |
| `updated_at` | TIMESTAMP | Timestamp indicating when the relationship record was last updated. Defaults to the current timestamp. |


## References
- `card_collection` table (referenced by `collection_id` foreign key)
- `files` table (referenced by `file_id` foreign key) 
