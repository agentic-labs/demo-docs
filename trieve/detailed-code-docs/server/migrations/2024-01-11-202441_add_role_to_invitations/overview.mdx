---
title: "Overview"
---

## High-level description
This directory contains SQL migration scripts for modifying the `invitations` table in a database. The migration adds a new `role` column to the table and provides a way to revert this change if needed. The migration is timestamped (2024-01-11-202441), indicating when it was created.

## What does it do?
These scripts modify the structure of the `invitations` table in the database. The main action is to add a new column called `role` to store information about the role associated with an invitation. This column is set up as an integer with a default value of 0, suggesting that different numeric values might represent different roles in the system.

The migration also includes a way to undo this change, allowing the database administrator to remove the `role` column if needed. This reversibility is a common practice in database migrations to ensure that changes can be rolled back if issues arise.

## Key Files

1. `up.sql`: This file contains the SQL command to add the `role` column to the `invitations` table. It's executed when applying the migration.

   ```sql
   ALTER TABLE invitations ADD COLUMN role integer NOT NULL DEFAULT 0;
   ```

   This command adds an integer column named `role` that cannot be null and defaults to 0.

2. `down.sql`: This file contains the SQL command to remove the `role` column from the `invitations` table. It's used when reverting the migration.

   ```sql
   ALTER TABLE invitations DROP COLUMN IF EXISTS role;
   ```

   This command removes the `role` column if it exists, allowing for a clean rollback of the migration.

## Configuration
The migration is identified by its timestamp: 2024-01-11-202441. This timestamp is likely used by the migration system to track which migrations have been applied and in what order.

The `role` column is configured with the following properties:
- Data type: integer
- Constraints: NOT NULL
- Default value: 0

These settings indicate that every invitation must have a role (it can't be null), and if not specified, it will default to 0. The use of an integer suggests that roles are represented by numeric values in the system, which could correspond to different permission levels or types of invitations.

By providing both `up.sql` and `down.sql` scripts, this migration ensures that database changes can be applied and reversed smoothly, which is crucial for maintaining database integrity and supporting development and deployment workflows.