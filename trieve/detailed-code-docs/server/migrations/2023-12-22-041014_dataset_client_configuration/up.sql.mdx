---
title: "up.sql"
---

## High-level description
This SQL script adds a new column named `client_configuration` to the `datasets` table in a database. The new column is of type JSONB, cannot be NULL, and defaults to an empty JSON object (`{}`). It also renames an existing column from `configuration` to `server_configuration`.

## Symbols

### `ALTER TABLE datasets RENAME COLUMN configuration TO server_configuration;`
#### Description
This statement renames the existing column `configuration` in the `datasets` table to `server_configuration`.

#### Internal Logic
This statement uses the `ALTER TABLE` command to modify the structure of the `datasets` table. The `RENAME COLUMN` clause is used to rename the specified column.

### `ALTER TABLE datasets ADD COLUMN client_configuration JSONB NOT NULL DEFAULT '{}';`
#### Description
This statement adds a new column named `client_configuration` to the `datasets` table.

#### Internal Logic
This statement uses the `ALTER TABLE` command to modify the structure of the `datasets` table. The `ADD COLUMN` clause is used to add a new column with the following specifications:

*   **`client_configuration`**: The name of the new column.
*   **`JSONB`**: The data type of the new column, which is a JSON object type that allows storing structured data.
*   **`NOT NULL`**: This constraint ensures that the `client_configuration` column cannot contain NULL values.
*   **`DEFAULT '{}'`**: This sets the default value of the `client_configuration` column to an empty JSON object (`{}`) for any new rows inserted into the table.
