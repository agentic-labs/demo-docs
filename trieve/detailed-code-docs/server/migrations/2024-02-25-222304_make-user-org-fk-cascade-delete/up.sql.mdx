---
title: "up.sql"
---

## High-level description
This SQL script modifies the foreign key constraint `fk_organization_id` on the `user_organizations` table. It makes the constraint cascade on delete, meaning that when an organization is deleted, all associated user organization records will also be deleted automatically.

## Symbols

### `up.sql`
#### Description
This SQL script updates the foreign key constraint on the `user_organizations` table to cascade on delete. This ensures that when an organization is deleted, all associated user organization records are also deleted.

#### Internal Logic
1. **Drop existing constraint:** The script first drops the existing `fk_organization_id` foreign key constraint on the `user_organizations` table.
2. **Add new constraint with cascade delete:** It then adds a new foreign key constraint with the same name, `user_organizations_organization_id_fkey`, referencing the `organizations` table. This new constraint includes the `ON DELETE CASCADE` clause, which enforces the cascading delete behavior. 

#### Side Effects
- Modifies the database schema by altering the foreign key constraint on the `user_organizations` table.
- Deleting an organization will now automatically delete all associated records in the `user_organizations` table. 
