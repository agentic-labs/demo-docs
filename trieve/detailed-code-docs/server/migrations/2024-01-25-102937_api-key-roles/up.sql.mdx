---
title: "up.sql"
---

## High-level description
This SQL migration file adds a new column called `role` to the `user_api_key` table. The new column is an integer type with a default value of 0 and is set to be non-nullable.

## Symbols

### ALTER TABLE Statement
#### Description
This SQL statement modifies the structure of the existing `user_api_key` table by adding a new column.

#### Internal Logic
1. The `ALTER TABLE` command is used to modify the `user_api_key` table.
2. The `ADD COLUMN` clause specifies that a new column is being added to the table.
3. The new column is named `role`.
4. The data type of the `role` column is set to `integer`.
5. The `NOT NULL` constraint ensures that this column cannot contain null values.
6. The `DEFAULT 0` clause sets the default value for this column to 0, which will be used when no specific value is provided during insertion.

## Side Effects
- This migration will modify the structure of the `user_api_key` table in the database.
- Any existing rows in the `user_api_key` table will have the new `role` column added with the default value of 0.
- Future insertions into the `user_api_key` table will require a value for the `role` column (or will use the default value of 0 if not specified).

## Performance Considerations
- Depending on the size of the `user_api_key` table and the database system being used, this alteration might temporarily lock the table or cause a brief interruption in write operations to the table.
- For large tables, it's recommended to run this migration during a maintenance window or low-traffic period.

## TODOs
The comment `-- Your SQL goes here` at the beginning of the file suggests that this might be a template or placeholder for SQL migrations. In a production environment, it's recommended to remove or replace such comments with more specific documentation about the purpose of this particular migration.