---
title: "up.sql"
---

## High-level description
This SQL script adds a new column `tracking_id` to the `chunk_group` table and ensures its uniqueness. It also creates a unique constraint across `tracking_id` and `dataset_id` columns.

## Symbols
### `ALTER TABLE chunk_group ADD COLUMN tracking_id TEXT UNIQUE;`
#### Description
This statement adds a new column named `tracking_id` to the `chunk_group` table. The column is of type `TEXT` and has a `UNIQUE` constraint, ensuring that each value in this column is unique across all rows in the table.

#### Internal Logic
- `ALTER TABLE chunk_group`: This part specifies that we are modifying the existing table named `chunk_group`.
- `ADD COLUMN tracking_id TEXT UNIQUE`: This part adds a new column with the following attributes:
    - `tracking_id`: The name of the new column.
    - `TEXT`: The data type of the new column, allowing for text strings of variable length.
    - `UNIQUE`: This constraint ensures that all values within the `tracking_id` column are unique.

### `ALTER TABLE chunk_group ADD CONSTRAINT chunk_group_tracking_id_dataset_id_key UNIQUE (tracking_id, dataset_id);`
#### Description
This statement adds a unique constraint named `chunk_group_tracking_id_dataset_id_key` to the `chunk_group` table. This constraint ensures that the combination of `tracking_id` and `dataset_id` is unique across all rows in the table.

#### Internal Logic
- `ALTER TABLE chunk_group`: This part specifies that we are modifying the existing table named `chunk_group`.
- `ADD CONSTRAINT chunk_group_tracking_id_dataset_id_key UNIQUE (tracking_id, dataset_id)`: This part adds a new constraint with the following attributes:
    - `chunk_group_tracking_id_dataset_id_key`: The name assigned to the new constraint.
    - `UNIQUE`: This specifies that the constraint enforces uniqueness.
    - `(tracking_id, dataset_id)`: This defines the columns included in the constraint. The constraint ensures that no two rows have the same combination of values for `tracking_id` and `dataset_id`.
