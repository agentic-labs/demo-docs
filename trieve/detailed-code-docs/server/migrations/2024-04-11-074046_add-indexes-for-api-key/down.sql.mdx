---
title: "down.sql"
---

## High-level description
This SQL script reverts the database migration defined in the corresponding `up.sql` file, specifically by removing indexes related to API keys in the `user_api_key` table. 

## Symbols

### `DROP INDEX IF EXISTS user_api_key_api_key_hash_index;`
#### Description
This line attempts to drop an index named `user_api_key_api_key_hash_index` from the database. The `IF EXISTS` clause ensures that the operation doesn't fail if the index doesn't exist. This likely pertains to a hash of the API key itself.

#### Internal Logic
- **DROP INDEX IF EXISTS**: This SQL command attempts to remove an index. The `IF EXISTS` clause makes the operation conditional, only executing if the index exists.
- `user_api_key_api_key_hash_index`: This is the name of the index being dropped. The naming suggests it's an index on a hash of the `api_key` column within the `user_api_key` table.

### `DROP INDEX IF EXISTS user_api_key_blake3_hash_index;`
#### Description
Similar to the previous statement, this line attempts to drop an index named `user_api_key_blake3_hash_index`, likely related to a Blake3 hash of some data within the `user_api_key` table.

#### Internal Logic
- **DROP INDEX IF EXISTS**:  Same behavior as the previous statement, conditionally dropping an index.
- `user_api_key_blake3_hash_index`: This index name suggests it pertains to a Blake3 hash, a cryptographic hash function, applied to data within the `user_api_key` table. 
