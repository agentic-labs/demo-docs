---
title: "down.sql"
---

## High-level description
This SQL script is a database migration script that reverts a change made to the `users` table, specifically reverting the data types of the `email` and `hash` columns. This suggests that a previous migration had likely changed these columns to a different type, and this "down" migration is designed to undo that change.

## Symbols

### `ALTER TABLE users`
#### Description
This SQL statement modifies the existing `users` table. It is used twice to alter the data types of the `email` and `hash` columns.

#### Inputs
N/A - This is an SQL statement, not a function with inputs.

#### Outputs
N/A - This statement modifies the database schema and does not return output.

#### Internal Logic
1. **`ALTER TABLE users ALTER COLUMN email TYPE VARCHAR(100)`**: This statement changes the data type of the `email` column back to `VARCHAR(100)`. This likely undoes a previous change that had set it to a different data type, such as TEXT or a longer VARCHAR.
2. **`ALTER TABLE users ALTER COLUMN hash TYPE VARCHAR(122)`**: This statement changes the data type of the `hash` column back to `VARCHAR(122)`. Similar to the `email` column, this is likely reverting a previous change to the column's data type.

## Side Effects
- **Schema Change**: This script directly modifies the database schema by changing the data types of columns in the `users` table.

## Error Handling
This script does not implement specific error handling. Any errors encountered during the execution of the SQL statements will be returned to the client running the migration.
