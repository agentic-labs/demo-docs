---
title: "up.sql"
---

## High-level description
This SQL script creates a new table named `verification_notifications` in the database. This table is designed to store information about notifications related to card verification, linking them to users, cards, and verification attempts.

## Code Structure
The code consists of a single SQL statement that defines the structure of the `verification_notifications` table, including its columns and their data types, constraints, and default values.

## References
- `users`: References a table named "users", specifically the "id" column, establishing a foreign key relationship.
- `card_metadata`: References a table named "card_metadata", specifically the "id" column, establishing a foreign key relationship.
- `card_verification`: References a table named "card_verification", specifically the "id" column, establishing a foreign key relationship.

## Symbols
### `verification_notifications`
#### Description
This symbol represents the name of the table being created. It will store data about notifications related to card verification.

#### Inputs
N/A - This is a table definition, not a function or procedure.

#### Outputs
N/A - This is a table definition, not a function or procedure.

#### Internal Logic
The SQL statement defines the table structure as follows:
- `id`: A UUID (Universally Unique Identifier) acting as the primary key for uniquely identifying each notification.
- `user_uuid`: A UUID referencing the "id" column of the "users" table, indicating the user associated with the notification. This column is not nullable.
- `card_uuid`: A UUID referencing the "id" column of the "card_metadata" table, indicating the card related to the notification. This column is not nullable.
- `verification_uuid`: A UUID referencing the "id" column of the "card_verification" table, linking the notification to a specific verification attempt. This column is not nullable.
- `similarity_score`: A BigInt (large integer) representing a score related to the verification process. This column is not nullable.
- `user_read`: A boolean value indicating whether the user has read the notification. It defaults to 'false'.
- `created_at`: A timestamp indicating when the notification was created. It defaults to the current timestamp.
- `updated_at`: A timestamp indicating when the notification was last updated. It defaults to the current timestamp.

## Side Effects
- **Database Schema Modification:** This script modifies the database schema by adding a new table named `verification_notifications`.

## Dependencies
- **PostgreSQL:** This script is written in PostgreSQL dialect and depends on a PostgreSQL database to execute.
