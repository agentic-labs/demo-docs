---
title: "down.sql"
---

## High-level description
This SQL migration script reverts a change made in a previous migration, specifically by re-adding a unique constraint on the `tag` column of the `dataset_tags` table. This ensures that each tag associated with a dataset is unique.

## Symbols

### `ALTER TABLE dataset_tags`
#### Description
This statement modifies the existing `dataset_tags` table.

#### Internal Logic
It adds a constraint named `dataset_tags_tag_key` to the table. This constraint enforces uniqueness on the `tag` column, preventing duplicate tag entries for datasets. 

### `ADD CONSTRAINT dataset_tags_tag_key UNIQUE(tag)`
#### Description
This clause within the `ALTER TABLE` statement specifically adds the unique constraint.

#### Internal Logic
- `ADD CONSTRAINT dataset_tags_tag_key`: This part names the constraint as `dataset_tags_tag_key` for future reference (e.g., if it needs to be dropped or modified later).
- `UNIQUE(tag)`: This defines the constraint type as `UNIQUE` and applies it to the `tag` column. This ensures that all values within the `tag` column are unique.
