---
title: "up.sql"
---

## High-level description
This SQL script adds a new column named `deleted` to the `card_votes` table. This column will be used to track soft-deleted votes, allowing for a record of votes to be kept even after they are logically removed from the application.

## Symbols

### `ALTER TABLE card_votes ADD COLUMN deleted boolean NOT NULL DEFAULT false;`
#### Description
This SQL statement adds a new column named `deleted` to the `card_votes` table. 

#### Internal Logic
* **`ALTER TABLE card_votes`**: This clause specifies that the `card_votes` table is being modified.
* **`ADD COLUMN deleted`**: This clause adds a new column named `deleted` to the table.
* **`boolean`**: This specifies that the `deleted` column will store boolean values (true or false).
* **`NOT NULL`**: This constraint ensures that the `deleted` column cannot contain null values. Every row in the table must have a value for this column.
* **`DEFAULT false`**: This sets the default value of the `deleted` column to `false` for any new rows inserted into the table. This means that by default, new votes will be considered not deleted. 
