---
title: "Cargo.toml"
---

## High-level description
This file is the `Cargo.toml` file for the `trieve-server` package. It defines the package metadata, dependencies, build dependencies, features, and binary targets for the server application.

## Code Structure
The `Cargo.toml` file is structured into sections:
- `[package]`: Defines package metadata like name, version, and edition.
- `[profile.release]`: Specifies compiler settings for release builds.
- `[[bin]]`: Declares multiple binary targets within the package.
- `[dependencies]`: Lists external crates required by the project.
- `[build-dependencies]`: Lists crates needed only during the build process.
- `[features]`: Defines optional features that can be enabled or disabled.

## Dependencies
The `[dependencies]` section lists all the external crates that the `trieve-server` package depends on. Each dependency is specified with its name and version. Here's a breakdown of some key dependencies:

| Dependency | Purpose |
|:-----------|:--------|
| actix-web | Web framework for building the server. |
| actix-session | Session management for actix-web. |
| actix-identity | Identity management for actix-web. |
| async-stripe | Stripe API client for handling payments. |
| chrono | Date and time library. |
| diesel | ORM for interacting with the PostgreSQL database. |
| diesel-async | Asynchronous version of Diesel for database operations. |
| log | Logging library. |
| openai_dive | OpenAI API client for interacting with OpenAI's models. |
| tokio | Asynchronous runtime for Rust. |
| qdrant-client | Client library for interacting with the Qdrant vector database. |
| rust-s3 | Library for interacting with Amazon S3. |
| redis | Redis client library. |
| reqwest | HTTP client library. |
| utoipa | Library for generating OpenAPI documentation. |
| utoipa-redoc | Library for generating Redoc documentation from OpenAPI spec. |
| openidconnect | OpenID Connect client library. |
| oauth2 | OAuth 2.0 client library. |
| sentry | Sentry client library for error tracking. |
| prometheus | Prometheus client library for metrics. |
| clickhouse | ClickHouse client library for analytics. |
| tantivy | Full-text search engine library. |

## Symbols

### `[package]`
#### Description
This section defines metadata about the `trieve-server` package itself.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
- `name = "trieve-server"`: Specifies the name of the package.
- `version = "1.0.0"`: Sets the version of the package.
- `edition = "2021"`: Indicates the Rust edition used for the project.
- `default-run = "trieve-server"`: Sets the default binary target to run when executing `cargo run`.

### `[profile.release]`
#### Description
This section configures compiler settings specifically for release builds of the `trieve-server` package.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
- `debug = 0`: Disables debug symbols in the release build.
- `incremental = true`: Enables incremental compilation for faster rebuilds.
- `lto = "fat"`: Enables Link-Time Optimization (LTO) for better performance.
- `opt-level = 3`: Sets the optimization level to the highest setting for maximum performance.
- `codegen-units = 1`: Limits the number of code generation units to 1 for potentially smaller binary size.
- `strip = "symbols"`: Removes debugging symbols from the binary.
- `panic = "abort"`: Configures the program to abort on panics instead of unwinding the stack.

### `[[bin]]`
#### Description
This section defines multiple binary targets within the `trieve-server` package. Each `[[bin]]` block represents a separate executable that can be built and run.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
Each `[[bin]]` block has two fields:
- `name`: Specifies the name of the binary target.
- `path`: Sets the path to the Rust source file that contains the `main` function for this binary.

### `[build-dependencies]`
#### Description
This section lists crates that are only required during the build process of the `trieve-server` package.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
- `dotenvy = "0.15.7"`: Includes the `dotenvy` crate, which is used for loading environment variables from a `.env` file during the build process.

### `[features]`
#### Description
This section defines optional features that can be enabled or disabled for the `trieve-server` package.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
- `default = []`: Sets the default features to be empty, meaning no optional features are enabled by default.
- `runtime-env = []`: Defines an optional feature named `runtime-env`, which is currently empty. This feature can be used to enable functionality related to runtime environment configuration.
