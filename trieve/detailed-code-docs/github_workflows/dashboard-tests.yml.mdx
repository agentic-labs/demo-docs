---
title: "dashboard-tests.yml"
---

## High-level description
This GitHub Actions workflow defines two jobs, "build-test" and "eslint", that are triggered on pull requests modifying specific frontend code. These jobs aim to ensure code quality by running build and linting processes for the "dashboard" part of the project.

## Code Structure
The workflow defines two jobs: "build-test" and "eslint". Both jobs run on the same runner type and execute sequentially. They share similar initial steps for checking out the code and installing dependencies. The "eslint" job additionally utilizes an action for annotating code linting results.

## Symbols
### `name: dashboard test suite`
#### Description
Defines the name of the workflow displayed on GitHub Actions as "dashboard test suite".

### `concurrency`
#### Description
This section configures concurrency for the workflow, ensuring that only one workflow run is executed at a time for the same workflow-branch combination.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| group | string | Uses an expression to define the concurrency group. It combines the workflow name `${{ github.workflow }}` with the branch name `${{ github.head_ref }}` to create a unique group identifier. |
| cancel-in-progress | boolean | If set to true, it cancels any currently running workflow within the same concurrency group. |

### `on:`
#### Description
Specifies the trigger event for this workflow.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| pull_request | object | Defines the workflow to be triggered on pull requests. |
| paths | array |  Further filters the trigger event to only run the workflow if the pull request includes changes to files matching the specified patterns. |

### `jobs`
#### Description
This section defines the jobs that will be executed within the workflow.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| build-test | object | Defines a job named "build-test" responsible for building and testing the dashboard code. |
| eslint | object | Defines a job named "eslint" responsible for linting the dashboard code. |

### `runs-on: blacksmith-2vcpu-ubuntu-2204`
#### Description
Specifies the type of runner used to execute the jobs. In this case, it uses a "blacksmith-2vcpu-ubuntu-2204" runner, which likely refers to a self-hosted runner or a specific runner type provided by the organization.

### `steps`
#### Description
A sequence of tasks that define the job's execution steps.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| uses: actions/checkout@v4 | action | Utilizes the official "actions/checkout" action to check out the repository's code within the runner's workspace. |
| name: Install dependencies | string |  A descriptive name for the step, displayed on the workflow run log. |
| run: yarn --frozen-lockfile | script | Executes a command within the runner's shell. In this case, it runs the "yarn" package manager with the "--frozen-lockfile" flag to install dependencies based on the "yarn.lock" file, ensuring consistent dependency versions. |
| name: Running lint | string |  A descriptive name for the step, displayed on the workflow run log. |
| run: yarn build --filter dashboard | script | Executes a command to build the "dashboard" part of the project using Yarn. |
| run: yarn lint:CI --filter dashboard | script | Executes a command to run linting specifically for the "dashboard" code using Yarn. The ":CI" likely refers to a specific linting configuration or task for continuous integration environments. |
| name: Annotate Code Linting Results | string | A descriptive name for the step. |
| uses: ataylorme/eslint-annotate-action@1.0.4 | action | Utilizes a third-party action "eslint-annotate-action" to annotate code linting results directly on the pull request. |
| if: always() | expression | Ensures that this step always runs, regardless of the success or failure of previous steps. |
| with | object |  Allows passing inputs to the action. |
| repo-token: "${{ secrets.GITHUB_TOKEN }}" | string | Provides the action with the necessary permissions to interact with the GitHub repository. |
| report-json: "./frontends/dashboard/eslint_report.json" | string | Specifies the path to the ESLint report file generated in the previous step. The action uses this file to extract linting results and create annotations. |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| actions/checkout |  Checks out the repository's code. |
| ataylorme/eslint-annotate-action | Annotates code linting results on pull requests. |

