---
title: "push-frontends.yml"
---

## High-level description
This GitHub Actions workflow, named "Create Frontend Docker Images," is designed to automatically build and push Docker images for various frontend applications (chat, search, dashboard, and analytics) to Docker Hub when changes are pushed to the main branch or specific paths are modified. It ensures that the latest versions of these frontend applications are always available as Docker images.

## Code Structure
The workflow consists of four main jobs, each responsible for building and pushing a specific frontend application's Docker image. These jobs are: `build_chat`, `build_search`, `build_dashboard`, and `build_analytics_site`. Each job follows a similar structure with steps for checking out the code, setting up Docker buildx, logging into Docker Hub, creating metadata for the image, and finally building and pushing the image.

## Symbols

### Workflow
#### Description
This GitHub Actions workflow is triggered on pushes to the main branch or when specific paths are modified. It also supports manual triggering via `workflow_dispatch`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| github.event | object | The event that triggered the workflow |

#### Internal Logic
1. Defines the trigger conditions (push to main or specific path changes)
2. Sets up concurrency to prevent multiple workflow runs for the same branch
3. Defines four jobs for building and pushing different frontend Docker images

### Job: build_chat
#### Description
This job builds and pushes the Docker image for the chat frontend application.

#### Internal Logic
1. Checks out the repository
2. Sets up Docker buildx
3. Logs into Docker Hub
4. Generates Docker metadata
5. Builds and pushes the Docker image using a specified Dockerfile and context

### Job: build_search
#### Description
This job builds and pushes the Docker image for the search frontend application.

#### Internal Logic
Similar to `build_chat`, but uses a different Dockerfile and image name.

### Job: build_dashboard
#### Description
This job builds and pushes the Docker image for the dashboard frontend application.

#### Internal Logic
Similar to `build_chat`, but uses a different Dockerfile and image name.

### Job: build_analytics_site
#### Description
This job builds and pushes the Docker image for the analytics frontend application.

#### Internal Logic
Similar to `build_chat`, but uses a different Dockerfile and image name.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| actions/checkout@v4 | To check out the repository code |
| docker/setup-buildx-action@v3 | To set up Docker buildx for multi-platform builds |
| docker/login-action@v3 | To log in to Docker Hub |
| docker/metadata-action@v5 | To generate Docker image metadata |
| docker/build-push-action@v5 | To build and push Docker images |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| DOCKER_USERNAME | secret | N/A | Docker Hub username for authentication |
| DOCKER_PASSWORD | secret | N/A | Docker Hub password for authentication |

## TODOs
- The commented out `Set up QEMU` step suggests that multi-architecture builds (e.g., for ARM64) might be planned for the future but are currently disabled.
- The commented out `platforms` option in the build-push-action steps also indicates that multi-platform builds are not currently enabled but might be considered in the future.