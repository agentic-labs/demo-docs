---
title: "Overview"
---

## High-level description
This directory contains GitHub Actions workflow files that define various automated processes for the project. These workflows cover tasks such as running tests, building and pushing Docker images, and ensuring code quality across different components of the system.

## What does it do?
The workflows in this directory automate several key processes:

1. Running tests and linting for different frontend components (analytics, chat, dashboard, search) and the Rust backend.
2. Building and pushing Docker images for various components of the system, including frontend applications and backend services.
3. Generating and validating OpenAPI specifications.
4. Ensuring code formatting and style consistency.
5. Creating and updating Docker images for specific tools like ClickHouse and clustering scripts.

These automated processes help maintain code quality, ensure consistent builds, and streamline the deployment process across the project.

## Entry points
There isn't a single entry point for these workflows. Each `.yml` file in this directory represents a separate workflow that can be triggered by different events, such as pull requests, pushes to specific branches, or manual dispatch. The main workflows include:

- `rust-tests.yml`: Runs tests and linting for the Rust backend code.
- `push-frontends.yml`: Builds and pushes Docker images for frontend components.
- `push-server.yml`: Builds and pushes Docker images for backend services.
- Various `*-tests.yml` files: Run tests and linting for specific frontend components.
- `push-clickhouse.yml` and `push-clustering-script.yml`: Build and push specialized Docker images for data processing tools.

## Key Files
1. `rust-tests.yml`: Defines the workflow for running Rust backend tests, including code formatting checks, linting with Clippy, and OpenAPI spec generation and validation.

2. `push-frontends.yml`: Orchestrates the building and pushing of Docker images for various frontend components (chat, search, dashboard, analytics-site).

3. `push-server.yml`: Handles the building and pushing of Docker images for backend services, including the main server, ingestion worker, and delete worker.

4. `analytics-tests.yml`, `chat-tests.yml`, `dashboard-tests.yml`, `search-tests.yml`: These files define workflows for running tests and linting on specific frontend components.

5. `push-clickhouse.yml`: Builds and pushes a Docker image for ClickHouse, a column-oriented database management system.

6. `push-clustering-script.yml`: Creates and pushes a Docker image containing a ClickHouse clustering script.

## Dependencies
The workflows in this directory rely on several GitHub Actions and external tools:

1. `actions/checkout`: Used in most workflows to check out the repository code.
2. `docker/setup-buildx-action`: Sets up Docker Buildx for multi-platform image building.
3. `docker/login-action`: Handles authentication with Docker Hub.
4. `docker/metadata-action`: Generates metadata for Docker images.
5. `docker/build-push-action`: Builds and pushes Docker images.
6. `ataylorme/eslint-annotate-action`: Annotates ESLint results in pull requests.
7. `useblacksmith/cache`: Caches dependencies to speed up workflow runs.
8. `clechasseur/rs-clippy-check`: Runs Clippy checks for Rust code.
9. `@quobix/vacuum`: Lints and validates OpenAPI specifications.

## Configuration
The workflows use various configuration options and environment variables:

1. GitHub Secrets: `DOCKER_USERNAME` and `DOCKER_PASSWORD` for Docker Hub authentication.
2. Concurrency settings: Most workflows use concurrency groups to prevent overlapping runs.
3. Trigger events: Workflows are typically triggered on pull requests, pushes to specific branches, or manual dispatch.
4. Runner specifications: Many workflows use custom runner types (e.g., `blacksmith-2vcpu-ubuntu-2204`).

These workflows form a comprehensive CI/CD pipeline, ensuring code quality, automated testing, and streamlined deployment processes across the project's various components.