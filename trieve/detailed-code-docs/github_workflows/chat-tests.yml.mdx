---
title: "chat-tests.yml"
---

## High-level description
This GitHub Actions workflow defines two jobs, `build-test` and `eslint`, that are triggered on pull requests modifying specific paths in the repository. Both jobs run on the `blacksmith-2vcpu-ubuntu-2204` runner and aim to ensure code quality in the `chat` frontend component by running build, linting, and code style checks. 

## Code Structure
The workflow defines two jobs: `build-test` and `eslint`. Both jobs run sequentially and perform independent tasks. 

## Symbols
### `name`
#### Description
Defines the name of the workflow displayed in the GitHub Actions interface.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
N/A

### `concurrency`
#### Description
Configures concurrent workflow run behavior. It ensures that only one workflow run is active for the same workflow and branch. If a new run is triggered while a previous one is still in progress, the previous run will be canceled.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
N/A

### `on`
#### Description
Specifies the events that trigger the workflow. In this case, the workflow is triggered on pull requests that modify files within the specified paths.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
N/A

### `jobs`
#### Description
Defines the jobs that run within the workflow. Each job runs in its own virtual environment.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
N/A

### `build-test`
#### Description
This job runs a build and test process for the chat frontend component.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
1. **Checkout code:** Checks out the repository's code using the `actions/checkout@v4` action.
2. **Install dependencies:** Installs project dependencies using `yarn` with the `--frozen-lockfile` flag to ensure consistent dependency versions.
3. **Running lint:** Builds the project and runs linting using `yarn build` with the `--filter chat` flag to focus on the chat component.

### `eslint`
#### Description
This job runs ESLint on the chat frontend component to enforce code style and quality.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
1. **Checkout code:** Checks out the repository's code using the `actions/checkout@v4` action.
2. **Install dependencies:** Installs project dependencies using `yarn` with the `--frozen-lockfile` flag.
3. **Running lint:** Executes ESLint using `yarn lint:CI` with the `--filter chat` flag to target the chat component.
4. **Annotate Code Linting Results:** Uses the `eslint-annotate-action` to annotate code linting results directly on the pull request, providing visual feedback to developers. It uses the generated ESLint report (`./frontends/chat/eslint_report.json`) and the `GITHUB_TOKEN` for authorization.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| actions/checkout@v4 | Checks out the repository's code. |
| ataylorme/eslint-annotate-action@1.0.4 | Annotates ESLint results on pull requests. |

## Configuration
N/A

## Error Handling
The workflow does not implement specific error handling beyond the default behavior of GitHub Actions. If a step within a job fails, the job will fail, and the workflow run will be marked as failed.

## Logging
The workflow relies on the default logging mechanisms provided by GitHub Actions. Each step's output is captured and displayed in the workflow run logs.

## API/Interface Reference
N/A
