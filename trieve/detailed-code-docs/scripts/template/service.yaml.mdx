---
title: "service.yaml"
---

## High-level description
This code defines a Kubernetes Service resource named `$NAME-service` using a YAML template. This service exposes a container port on port 9000 and 42625, making it accessible within the cluster. 

## Code Structure
This code defines a single Kubernetes Service resource. It uses variables `$NAME-service` and `$NAME` for the service and selector names, respectively. The service targets pods with specific labels, ensuring traffic routing to the correct application instances.

## Symbols
### `service.yaml`
#### Description
This YAML file defines a Kubernetes Service resource that exposes a service on ports 9000 and 42625. It uses selectors to target pods belonging to the deployment.

#### Inputs
This code snippet doesn't take direct inputs. It uses variables `$NAME` and `$NAME-service` which are expected to be provided during the template rendering process, likely by a Helm chart.

#### Outputs
This code defines a Kubernetes Service resource that will be created in the cluster upon application.

#### Internal Logic
The code defines a Service with the following key attributes:
- `metadata.name`: Sets the name of the service to `$NAME-service`.
- `metadata.labels`: Defines labels for the service, including information about the application, chart, and release.
- `spec.type`: Specifies the service type as `ClusterIP`, making it accessible only within the cluster.
- `spec.ports`: Defines two port mappings:
    - Port 9000 on the service maps to port 9000 on the target pods.
    - Port 42625 on the service maps to port 42625 on the target pods.
- `spec.selector`: Defines labels used to select pods that the service will route traffic to. 

## Configuration
The code relies on two variables that determine the service and selector names:

| Option | Description |
|:-------|:------------|
| `$NAME` |  The base name used for the service selector and likely representing the application name. |
| `$NAME-service` | The name of the service, derived from `$NAME`. | 

This suggests that the template is designed to be deployed with different configurations by providing different values for these variables.
