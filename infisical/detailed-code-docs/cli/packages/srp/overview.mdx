---
title: "Overview"
---

## High-level description
This directory contains the implementation of the Secure Remote Password (SRP) protocol in Go. SRP is a cryptographic protocol that allows secure password-based authentication without transmitting the password itself. The package provides functionality for both client and server-side operations in the SRP authentication process.

## What does it do?
The SRP protocol implemented in this package allows for secure authentication between a client and a server without transmitting the actual password. Here's a simplified explanation of the process:

1. The client and server agree on a set of cryptographic parameters.
2. The client generates a secret value and computes a public value (A) to send to the server.
3. The server, using a pre-stored verifier for the client, generates its own secret and public value (B).
4. Both sides perform complex mathematical operations using these values and the agreed-upon parameters.
5. Through this process, both client and server independently arrive at the same shared secret key.
6. They then exchange proofs to verify that they both have the same key, without revealing the key itself.

This process allows for secure authentication and key exchange without the risk of password interception or offline dictionary attacks.

## Key Files

### client.go
This file implements the client-side functionality of the SRP protocol. It provides methods for generating and verifying cryptographic values used in the SRP authentication process. The main structure is `SRPClient`, which holds the necessary parameters and computed values for the SRP protocol.

Key functions include:
- `NewClient`: Creates a new SRPClient instance
- `ComputeA`: Computes the client's public value A
- `SetB`: Sets the server's public value B and computes the shared key and proofs
- `ComputeM1`: Returns the client's proof of key M1
- `CheckM2`: Verifies the server's proof of key M2

### server.go
This file implements the server-side functionality of the SRP protocol. It provides methods for initializing the server, computing and verifying various cryptographic values, and managing the authentication process. The main structure is `SRPServer`.

Key functions include:
- `NewServer`: Creates and initializes a new SRPServer instance
- `ComputeB`: Computes the server's public value B
- `SetA`: Sets the client's public value A and computes various protocol values
- `CheckM1`: Verifies the client's proof M1 and returns the server's proof M2 if valid

### params.go
This file defines the SRP parameters and provides functionality to create and retrieve these parameters. It implements a map of known SRP groups with different bit lengths and corresponding cryptographic parameters.

Key components:
- `SRPParams` struct: Represents the parameters for the SRP protocol
- `GetParams` function: Retrieves the SRP parameters for a given group size
- `knownGroups` map: Contains predefined SRP parameters for different group sizes

### srp.go
This file contains utility functions used in the SRP protocol implementation. These functions handle various cryptographic operations and computations required for the protocol.

Key functions include:
- `GenKey`: Generates a random 32-byte key
- `getK`: Computes the session key K
- `getu`: Computes the 'u' parameter in the SRP protocol
- `getM1` and `getM2`: Compute verification values

### util.go
This file provides helper functions for padding, hashing, and converting between different data types commonly used in cryptographic operations.

Key functions include:
- `padTo` and `padToN`: Pad byte slices or big integers
- `hashToBytes` and `hashToInt`: Convert hash objects to bytes or integers
- `intFromBytes` and `intToBytes`: Convert between big integers and byte slices
- `bytesFromHexString`: Convert hexadecimal strings to byte slices

## Dependencies
The package relies on several standard Go libraries:
- `crypto/rand`: For secure random number generation
- `math/big`: For arbitrary-precision arithmetic operations
- `crypto`: For cryptographic hash functions
- `encoding/hex`: For decoding hexadecimal strings
- `regexp`: For regular expression matching in string processing

## Configuration
The package uses predefined parameters for well-known SRP groups (1024, 1536, 2048, and 4096 bits). These parameters are initialized in the `init` function of `params.go` and can be retrieved using the `GetParams` function.

This implementation of SRP provides a robust and secure method for password-based authentication, suitable for use in various applications requiring secure user authentication without transmitting passwords in plain text.