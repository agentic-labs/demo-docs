---
title: "reset.go"
---

## High-level description
This code defines a `reset` command for the Infisical CLI tool. The command is used to delete all Infisical-related data on the user's machine, including the logged-in user's keyring item, configuration files, and secrets backup.

## Code Structure
The code defines a `resetCmd` variable of type `cobra.Command`, which is then added to the `rootCmd` in the `init()` function. The main functionality is implemented in the `Run` function of the command.

## Symbols

### `resetCmd`
#### Description
This variable defines the `reset` command for the Infisical CLI tool. It specifies the command's usage, short description, example, and the function to run when the command is executed.

#### Internal Logic
1. Retrieves the config file
2. Deletes the logged-in user's email from the keyring
3. Removes the entire configuration directory
4. Deletes secrets backup
5. Prints a success message
6. Captures a telemetry event for the reset command

### `init()`
#### Description
This function initializes the `reset` command by adding it to the `rootCmd`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| github.com/Infisical/infisical-merge/packages/util | Provides utility functions for configuration and error handling |
| github.com/posthog/posthog-go | Used for telemetry capture |
| github.com/spf13/cobra | Provides the command-line interface framework |

## Side Effects
- Deletes the keyring item for the logged-in user
- Removes the entire configuration directory
- Deletes secrets backup

## Logging
The code uses `util.PrintSuccessMessage()` to log a success message after the reset operation is complete.

## Error Handling
The code uses `util.HandleError()` to handle any errors that occur during the execution of the command.

## TODOs
There are no explicit TODOs in the code.