---
title: "man.go"
---

## High-level description
This code defines a command-line interface (CLI) command named "man" that generates manpages for the Infisical CLI tool. It uses the Cobra library for command structure and the mango-cobra and roff libraries for manpage generation.

## Symbols

### `manCmd`
#### Description
`manCmd` is a Cobra command that generates manpages for the Infisical CLI tool.

#### Inputs
This command doesn't take any arguments.

#### Internal Logic
1. Creates a new manpage using `mcobra.NewManPage` with the root command as input.
2. Builds the manpage document using `roff.NewDocument()`.
3. Prints the generated manpage to the standard output.

### `init()`
#### Description
This function initializes the CLI command structure by adding the `manCmd` to the root command.

#### Internal Logic
Calls `rootCmd.AddCommand(manCmd)` to add the "man" command to the CLI's command structure.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| fmt | For formatted printing |
| os | For standard output operations |
| github.com/muesli/mango-cobra | For generating manpages from Cobra commands |
| github.com/muesli/roff | For building roff documents (used in manpage generation) |
| github.com/spf13/cobra | For creating CLI commands and structure |

## Error Handling
The `RunE` function in `manCmd` returns any errors encountered during manpage generation or output writing.

## Side Effects
When executed, this command writes the generated manpage to the standard output.

## Notes
- The command is hidden from the default help output (`Hidden: true`).
- It's designed for internal use or development purposes, not for end-users.
- The generated manpage is for section 1 of the Unix manual, which is typically used for executable programs or shell commands.