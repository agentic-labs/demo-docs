---
title: "Overview"
---

## High-level description

This directory contains documentation for contributing to the backend of the Infisical platform. It provides detailed information about the backend folder structure, development guidelines, and step-by-step instructions for creating new features.

## What does it do?

The documentation in this directory serves as a guide for developers who want to contribute to the Infisical backend. It explains:

1. The organization of the backend codebase, including the purpose of each major directory and file.
2. Best practices and guidelines for backend development in the Infisical project.
3. The process of implementing new features, from database schema migrations to writing API routes.

## Key Files

1. `folder-structure.mdx`: This file provides a comprehensive overview of the backend folder structure. It explains the purpose of each directory and subdirectory, including:
   - `scripts`: Contains reusable scripts for backend automation.
   - `e2e-test`: Houses integration tests for the APIs.
   - `src`: The main source code directory, with detailed explanations of its subdirectories like `@types`, `db`, `lib`, `queue`, `server`, `services`, and `ee`.

2. `how-to-create-a-feature.mdx`: This file serves as a step-by-step guide for implementing new features in the Infisical backend. It covers:
   - Database schema migrations
   - Creating new database models
   - Generating TypeScript schemas
   - Implementing business logic
   - Connecting the service layer to the server layer
   - Writing API routes

## Dependencies

The documentation mentions several key dependencies and tools used in the Infisical backend:

1. Knex.js: Used for database operations and migrations.
2. Fastify: The web framework used for building the server and handling routes.
3. BullMQ: Used for Infisical's queue system.
4. Zod: Used for generating TypeScript schemas.

## Configuration

The documentation mentions a few configuration-related points:

1. A `.env.migration` file is used to set the database connection URI for migration scripts.
2. Alternatively, the `DB_CONNECTION_URI` environment variable can be exported.
3. The `TableName` enum in `/src/db/schemas/models.ts` needs to be updated when adding new tables.

## Guidelines and Best Practices

The documentation outlines several important guidelines and best practices for backend development:

1. Use dash-case for naming files.
2. Avoid using classes in the codebase; prefer simple functions instead.
3. All committed code must be properly linted using `npm run lint:fix` and type-checked with `npm run type:check`.
4. Minimize shared logic between services as much as possible.
5. Controllers within a router component should ideally call only one service layer, with exceptions for services like `audit-log` that require access to request object data.
6. Follow the co-location principle: keep related components together.
7. Use the custom Infisical function `ormify` in `src/lib/knex` for simple database operations within the DAL.
8. Use Fastify plugins for dependency injection when connecting the service layer to the server layer.

These guidelines ensure consistency, maintainability, and efficiency in the backend codebase.