---
title: "index.ts"
---

## High-level description
This code registers various API routes related to user authentication, user management, and secrets management under the `/v3` API version prefix. It uses the `FastifyZodProvider` server instance for route registration.

## Code Structure
The `registerV3Routes` function serves as the entry point, invoking individual route registration functions for different API concerns like `signup`, `auth`, `users`, `secrets`, and `workspaces`. Each of these functions is imported from other modules and is responsible for setting up routes under their respective prefixes.

## References
- `registerSignupRouter`: Registers routes related to user signup.
- `registerLoginRouter`: Registers routes related to user login and authentication.
- `registerUserRouter`: Registers routes related to user management.
- `registerSecretRouter`: Registers routes related to secret management.
- `registerSecretBlindIndexRouter`: Registers routes related to workspaces, likely involving a blind index for secrets.

## Symbols

### `registerV3Routes`
#### Description
Registers all API routes under the `/v3` version prefix.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| server | FastifyZodProvider | An instance of the Fastify server with Zod validation. |

#### Outputs
This function does not return any value.

#### Side Effects
- Registers multiple API routes related to user management and secrets management under the `/v3` prefix on the provided `FastifyZodProvider` instance.
