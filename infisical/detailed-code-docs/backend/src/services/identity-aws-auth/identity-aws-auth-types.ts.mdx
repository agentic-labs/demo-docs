---
title: "identity-aws-auth-types.ts"
---

## High-level description
This TypeScript file defines various types and interfaces related to AWS authentication and identity management. It includes data transfer objects (DTOs) for login, attaching, updating, and revoking AWS authentication, as well as types for AWS GetCallerIdentity API response and headers.

## Symbols

### `TLoginAwsAuthDTO`
#### Description
Defines the structure for the login data transfer object used in AWS authentication.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier for the identity |
| iamHttpRequestMethod | string | HTTP method used for IAM request |
| iamRequestBody | string | Body of the IAM request |
| iamRequestHeaders | string | Headers of the IAM request |

### `TAttachAwsAuthDTO`
#### Description
Defines the structure for attaching AWS authentication to an identity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier for the identity |
| stsEndpoint | string | STS (Security Token Service) endpoint |
| allowedPrincipalArns | string | Allowed principal ARNs |
| allowedAccountIds | string | Allowed AWS account IDs |
| accessTokenTTL | number | Access token time-to-live |
| accessTokenMaxTTL | number | Maximum access token time-to-live |
| accessTokenNumUsesLimit | number | Limit on the number of uses for access token |
| accessTokenTrustedIps | { ipAddress: string }[] | Array of trusted IP addresses for access token |

Note: This type also includes all properties from `TProjectPermission` except `projectId`.

### `TUpdateAwsAuthDTO`
#### Description
Defines the structure for updating AWS authentication settings for an identity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier for the identity |
| stsEndpoint? | string | Optional STS endpoint |
| allowedPrincipalArns? | string | Optional allowed principal ARNs |
| allowedAccountIds? | string | Optional allowed AWS account IDs |
| accessTokenTTL? | number | Optional access token time-to-live |
| accessTokenMaxTTL? | number | Optional maximum access token time-to-live |
| accessTokenNumUsesLimit? | number | Optional limit on the number of uses for access token |
| accessTokenTrustedIps? | { ipAddress: string }[] | Optional array of trusted IP addresses for access token |

Note: This type also includes all properties from `TProjectPermission` except `projectId`. All fields except `identityId` are optional.

### `TGetAwsAuthDTO`
#### Description
Defines the structure for retrieving AWS authentication information for an identity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier for the identity |

Note: This type also includes all properties from `TProjectPermission` except `projectId`.

### `TAwsGetCallerIdentityHeaders`
#### Description
Defines the structure for headers used in AWS GetCallerIdentity API requests.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Content-Type | string | Content type of the request |
| Host | string | Host for the request |
| X-Amz-Date | string | Date of the request in AWS format |
| Content-Length | number | Length of the request content |
| x-amz-security-token | string | AWS security token |
| Authorization | string | Authorization header |

### `TGetCallerIdentityResponse`
#### Description
Defines the structure for the response from AWS GetCallerIdentity API.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| GetCallerIdentityResponse | object | Contains the response data |
| GetCallerIdentityResult | object | Contains the result of the GetCallerIdentity operation |
| Account | string | AWS account ID |
| Arn | string | ARN of the caller |
| UserId | string | User ID of the caller |
| ResponseMetadata | object | Contains metadata about the response |
| RequestId | string | ID of the request |

### `TRevokeAwsAuthDTO`
#### Description
Defines the structure for revoking AWS authentication for an identity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier for the identity |

Note: This type also includes all properties from `TProjectPermission` except `projectId`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @app/lib/types | Imports `TProjectPermission` type |

This file defines various TypeScript types and interfaces used for AWS authentication and identity management in the application. It provides structured data types for operations such as login, attaching, updating, and revoking AWS authentication, as well as for handling responses from AWS APIs like GetCallerIdentity. These types ensure type safety and consistency when working with AWS-related functionality throughout the application.