---
title: "identity-oidc-auth-types.ts"
---

## High-level description
This file defines TypeScript types related to OpenID Connect (OIDC) authentication for an identity within a project. It includes types for attaching, updating, retrieving, logging in with, and revoking OIDC authentication.

## Code Structure
The code defines several TypeScript types: `TAttachOidcAuthDTO`, `TUpdateOidcAuthDTO`, `TGetOidcAuthDTO`, `TLoginOidcAuthDTO`, and `TRevokeOidcAuthDTO`. Each type represents data structures used for different OIDC authentication operations. 

## References
- `@app/lib/types`: This reference points to a type definition for `TProjectPermission`, likely defining permissions associated with a project.

## Symbols
### `TAttachOidcAuthDTO`
#### Description
This type defines the data required to attach OIDC authentication to an identity within a project.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier of the identity. |
| oidcDiscoveryUrl | string | URL of the OIDC discovery endpoint. |
| caCert | string | Certificate Authority (CA) certificate for validating the OIDC provider. |
| boundIssuer | string | Expected issuer of the OIDC token. |
| boundAudiences | string | Expected audience(s) in the OIDC token. |
| boundClaims | Record&lt;string, string&gt; | Expected claims in the OIDC token. |
| boundSubject | string | Expected subject in the OIDC token. |
| accessTokenTTL | number | Time-to-live (TTL) for access tokens in seconds. |
| accessTokenMaxTTL | number | Maximum TTL for access tokens in seconds. |
| accessTokenNumUsesLimit | number | Maximum number of times an access token can be used. |
| accessTokenTrustedIps | { ipAddress: string }[] | List of trusted IP addresses for access tokens. |
| ...TProjectPermission (excluding projectId) | | Project permissions inherited from `TProjectPermission` type. |

#### Outputs
This type does not return any output. It is used as a data structure for input.

### `TUpdateOidcAuthDTO`
#### Description
This type defines the data required to update existing OIDC authentication settings for an identity. All fields are optional, allowing for partial updates.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier of the identity. |
| oidcDiscoveryUrl | string | (Optional) Updated URL of the OIDC discovery endpoint. |
| caCert | string | (Optional) Updated CA certificate. |
| boundIssuer | string | (Optional) Updated expected issuer. |
| boundAudiences | string | (Optional) Updated expected audience(s). |
| boundClaims | Record&lt;string, string&gt; | (Optional) Updated expected claims. |
| boundSubject | string | (Optional) Updated expected subject. |
| accessTokenTTL | number | (Optional) Updated TTL for access tokens. |
| accessTokenMaxTTL | number | (Optional) Updated maximum TTL for access tokens. |
| accessTokenNumUsesLimit | number | (Optional) Updated maximum number of access token uses. |
| accessTokenTrustedIps | { ipAddress: string }[] | (Optional) Updated list of trusted IP addresses. |
| ...TProjectPermission (excluding projectId) | | Project permissions inherited from `TProjectPermission` type. |

#### Outputs
This type does not return any output. It is used as a data structure for input.

### `TGetOidcAuthDTO`
#### Description
This type defines the data required to retrieve OIDC authentication settings for an identity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier of the identity. |
| ...TProjectPermission (excluding projectId) | | Project permissions inherited from `TProjectPermission` type. |

#### Outputs
This type does not return any output. It is used as a data structure for input.

### `TLoginOidcAuthDTO`
#### Description
This type defines the data required for logging in with OIDC authentication.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier of the identity. |
| jwt | string | JSON Web Token (JWT) obtained from the OIDC provider. |

#### Outputs
This type does not return any output. It is used as a data structure for input.

### `TRevokeOidcAuthDTO`
#### Description
This type defines the data required to revoke OIDC authentication for an identity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identityId | string | Unique identifier of the identity. |
| ...TProjectPermission (excluding projectId) | | Project permissions inherited from `TProjectPermission` type. |

#### Outputs
This type does not return any output. It is used as a data structure for input.
