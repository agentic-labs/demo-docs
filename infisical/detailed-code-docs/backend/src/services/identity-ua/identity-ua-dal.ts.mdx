---
title: "identity-ua-dal.ts"
---

## High-level description
The code defines a factory function `identityUaDALFactory` that creates and returns an object representing the data access layer (DAL) for the `IdentityUniversalAuth` table. This DAL object is likely used to interact with the database table and perform CRUD operations related to universal authentication for identities.

## Symbols

### `identityUaDALFactory`
#### Description
This factory function creates and returns an ORM object for the `IdentityUniversalAuth` table. This ORM object can be used to interact with the table using the provided database client.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| db | `TDbClient` | A database client object used to interact with the database. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| universalAuthOrm | `ReturnType&lt;typeof ormify&gt;` | An ORM object representing the `IdentityUniversalAuth` table. |

#### Internal Logic
1. The function uses the `ormify` function from `@app/lib/knex` to create an ORM object for the `IdentityUniversalAuth` table.
2. The ORM object is created using the provided database client (`db`) and the table name (`TableName.IdentityUniversalAuth`).
3. The function returns the created ORM object.

## References
- `TDbClient` from "@app/db"
- `TableName` from "@app/db/schemas"
- `ormify` from "@app/lib/knex"

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @app/db | Provides the database client type and potentially other database-related utilities. |
| @app/db/schemas | Defines the database schema, including the `TableName` enum. |
| @app/lib/knex | Provides the `ormify` function for creating ORM objects. | 
