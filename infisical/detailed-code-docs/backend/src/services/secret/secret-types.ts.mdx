---
title: "secret-types.ts"
---

## High-level description
This file defines TypeScript types and interfaces for secret-related operations in a backend application. It includes types for creating, updating, and deleting secrets, as well as for various data transfer objects (DTOs) used in secret management operations.

## Code Structure
The file primarily consists of type definitions and interfaces. These types are used to define the structure of data for various secret-related operations, such as creating, updating, and deleting secrets. The types also include definitions for data access layer (DAL) factories and functions related to secret management.

## Symbols

### TCreateSecretDTO
#### Description
Defines the structure for creating a new secret.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| secretName | string | Name of the secret |
| path | string | Path of the secret |
| environment | string | Environment of the secret |
| type | "shared" \| "personal" | Type of the secret |
| secretKeyCiphertext | string | Encrypted secret key |
| secretKeyIV | string | Initialization vector for secret key |
| secretKeyTag | string | Tag for secret key |
| secretValueCiphertext | string | Encrypted secret value |
| secretValueIV | string | Initialization vector for secret value |
| secretValueTag | string | Tag for secret value |
| secretCommentCiphertext? | string | Encrypted secret comment (optional) |
| secretCommentIV? | string | Initialization vector for secret comment (optional) |
| secretCommentTag? | string | Tag for secret comment (optional) |
| skipMultilineEncoding? | boolean | Flag to skip multiline encoding (optional) |
| secretReminderRepeatDays? | number \| null | Repeat days for secret reminder (optional) |
| secretReminderNote? | string \| null | Note for secret reminder (optional) |
| tags? | string[] | Array of tags for the secret (optional) |
| metadata? | { source?: string } | Metadata for the secret (optional) |

### TUpdateSecretDTO
#### Description
Defines the structure for updating an existing secret.

#### Inputs
Similar to TCreateSecretDTO, with additional optional fields:
| Name | Type | Description |
|:-----|:-----|:------------|
| newSecretName? | string | New name for the secret (optional) |

### TDeleteSecretDTO
#### Description
Defines the structure for deleting a secret.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| secretName | string | Name of the secret to delete |
| secretId? | string | ID of the secret to delete (optional) |
| path | string | Path of the secret |
| environment | string | Environment of the secret |
| type | "shared" \| "personal" | Type of the secret |

### TGetSecretsDTO
#### Description
Defines the structure for retrieving secrets.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| path | string | Path of the secrets |
| environment | string | Environment of the secrets |
| includeImports? | boolean | Flag to include imports (optional) |
| recursive? | boolean | Flag for recursive retrieval (optional) |

### TGetASecretDTO
#### Description
Defines the structure for retrieving a single secret.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| secretName | string | Name of the secret |
| path | string | Path of the secret |
| environment | string | Environment of the secret |
| type | "shared" \| "personal" | Type of the secret |
| includeImports? | boolean | Flag to include imports (optional) |
| version? | number | Version of the secret (optional) |

### TCreateBulkSecretDTO, TUpdateBulkSecretDTO, TDeleteBulkSecretDTO
#### Description
These types define structures for bulk operations on secrets (creation, update, and deletion).

### TGetSecretsRawDTO, TGetASecretRawDTO, TCreateSecretRawDTO, TUpdateSecretRawDTO, TDeleteSecretRawDTO
#### Description
These types define structures for raw operations on secrets, which are likely used in lower-level or more direct interactions with the secret storage.

### TCreateManySecretRawDTO, TUpdateManySecretRawDTO, TDeleteManySecretRawDTO
#### Description
These types define structures for operations on multiple secrets in a raw format.

### TGetSecretVersionsDTO
#### Description
Defines the structure for retrieving versions of a secret.

### TSecretReference
#### Description
Defines the structure for a secret reference.

### TFnSecretBulkInsert, TFnSecretBulkUpdate, TFnSecretBulkDelete
#### Description
These types define structures for bulk operations on secrets, including the necessary data access layer (DAL) functions.

### TFnSecretBlindIndexCheck, TFnSecretBlindIndexCheckV2
#### Description
These types define structures for checking secret blind indexes.

### THandleReminderDTO, TCreateSecretReminderDTO, TRemoveSecretReminderDTO
#### Description
These types define structures for handling secret reminders.

### TBackFillSecretReferencesDTO
#### Description
Defines the structure for backfilling secret references.

### TCreateManySecretsRawFnFactory, TCreateManySecretsRawFn, TUpdateManySecretsRawFnFactory, TUpdateManySecretsRawFn
#### Description
These types define structures for creating and updating multiple secrets in a raw format, including the necessary factory functions.

### SecretOperations
#### Description
An enum defining the types of secret operations (Create, Update, Delete).

### TSyncSecretsDTO
#### Description
Defines the structure for synchronizing secrets.

### TMoveSecretsDTO
#### Description
Defines the structure for moving secrets between environments or paths.

### SecretProtectionType
#### Description
An enum defining the types of secret protection (Approval, Direct).

### TStartSecretsV2MigrationDTO
#### Description
Defines the structure for starting a V2 migration of secrets.

## Dependencies
The file imports types and schemas from various other modules in the application, including database schemas, error types, and other service-specific types.

## Notes
This file serves as a central location for defining the types and interfaces used in secret management operations throughout the application. It provides a clear structure for the data involved in these operations, which can help ensure consistency and type safety across the codebase.