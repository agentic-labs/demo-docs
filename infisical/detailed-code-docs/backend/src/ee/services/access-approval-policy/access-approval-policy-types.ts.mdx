---
title: "access-approval-policy-types.ts"
---

## High-level description
This TypeScript file defines various types and interfaces related to access approval policies in a backend system. It includes types for verifying approvers, creating, updating, and deleting access approval policies, as well as retrieving policy information.

## Symbols

### `TVerifyApprovers`
#### Description
This type defines the structure for verifying approvers in the system.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| userIds | string[] | Array of user IDs to be verified as approvers |
| permissionService | Pick&lt;TPermissionServiceFactory, "getProjectPermission"&gt; | Service to check project permissions |
| envSlug | string | Environment slug |
| actorAuthMethod | ActorAuthMethod | Authentication method of the actor |
| secretPath | string | Path of the secret |
| projectId | string | ID of the project |
| orgId | string | ID of the organization |

### `TCreateAccessApprovalPolicy`
#### Description
This type defines the structure for creating a new access approval policy.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| approvals | number | Number of approvals required |
| secretPath | string | Path of the secret |
| environment | string | Environment for the policy |
| approverUserIds | string[] | Array of user IDs who can approve |
| projectSlug | string | Slug of the project |
| name | string | Name of the policy |
| enforcementLevel | EnforcementLevel | Level of enforcement for the policy |

### `TUpdateAccessApprovalPolicy`
#### Description
This type defines the structure for updating an existing access approval policy.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| policyId | string | ID of the policy to update |
| approvals? | number | Optional: New number of approvals required |
| approverUserIds? | string[] | Optional: New array of approver user IDs |
| secretPath? | string | Optional: New secret path |
| name? | string | Optional: New name for the policy |
| enforcementLevel? | EnforcementLevel | Optional: New enforcement level |

### `TDeleteAccessApprovalPolicy`
#### Description
This type defines the structure for deleting an access approval policy.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| policyId | string | ID of the policy to delete |

### `TGetAccessPolicyCountByEnvironmentDTO`
#### Description
This type defines the structure for getting the count of access policies by environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| envSlug | string | Slug of the environment |
| projectSlug | string | Slug of the project |

### `TListAccessApprovalPoliciesDTO`
#### Description
This type defines the structure for listing access approval policies.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| projectSlug | string | Slug of the project |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @app/lib/types | Imports `EnforcementLevel` and `TProjectPermission` types |
| @app/services/auth/auth-type | Imports `ActorAuthMethod` type |
| ../permission/permission-service | Imports `TPermissionServiceFactory` type |

## Notes
1. All types except `TVerifyApprovers` extend `Omit&lt;TProjectPermission, "projectId"&gt;`, suggesting they inherit common project permission properties while excluding the `projectId` field.
2. The file uses TypeScript's utility types like `Pick` and `Omit` to create more specific types based on existing interfaces.
3. Some fields in `TUpdateAccessApprovalPolicy` are optional, allowing for partial updates of access approval policies.
4. The file doesn't contain any implementation logic, focusing solely on type definitions for access approval policy-related operations.