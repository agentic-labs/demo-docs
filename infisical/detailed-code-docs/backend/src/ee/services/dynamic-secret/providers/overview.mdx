---
title: "Overview"
---

## High-level description
This directory contains implementations of dynamic secret providers for various services and databases. It includes providers for AWS IAM, Cassandra, and SQL databases. The code in this directory is responsible for managing the lifecycle of dynamic secrets, including creation, validation, revocation, and renewal.

## What does it do?
The code in this directory enables the creation and management of temporary, dynamic credentials for different services:

1. For AWS IAM, it can create temporary IAM users with specific permissions, groups, and policies.
2. For Cassandra databases, it can generate and manage temporary database users.
3. For SQL databases (including PostgreSQL, MySQL, Oracle, and Microsoft SQL Server), it can create and manage temporary database users.

These providers allow for secure, time-limited access to various resources without the need for long-lived credentials. The system can automatically create, validate, revoke, and renew these credentials as needed.

## Entry points
The main entry point for this directory is the `index.ts` file, which exports a `buildDynamicSecretProviders` function. This function creates an object containing instances of all available dynamic secret providers.

The workflow typically involves:
1. Initializing the providers using `buildDynamicSecretProviders`.
2. Selecting the appropriate provider based on the service type.
3. Using the provider's methods to create, validate, revoke, or renew dynamic secrets.

## Key Files
1. `aws-iam.ts`: Implements the AWS IAM dynamic secret provider.
2. `cassandra.ts`: Implements the Cassandra dynamic secret provider.
3. `sql-database.ts`: Implements the SQL database dynamic secret provider.
4. `models.ts`: Defines the data models and schemas for all providers.
5. `index.ts`: Exports the `buildDynamicSecretProviders` function to initialize all providers.

## Dependencies
The code relies on several external libraries:

1. `@aws-sdk/client-iam`: For interacting with AWS IAM services.
2. `cassandra-driver`: For connecting to and managing Cassandra databases.
3. `knex`: A SQL query builder used for database operations across different SQL providers.
4. `handlebars`: Used for templating SQL statements.
5. `zod`: For input validation and schema definition.
6. `nanoid`: For generating secure random strings used in usernames and passwords.

## Configuration
The providers use various configuration options, typically passed as inputs when creating or using a provider. These include:

1. Connection details (host, port, username, password)
2. Database-specific options (e.g., keyspace for Cassandra)
3. AWS-specific options (region, access keys, IAM paths, policies)
4. SQL statements for creating, revoking, and renewing credentials

The `models.ts` file defines the schemas for these configuration options, ensuring that the correct information is provided for each provider type.

In summary, this directory provides a flexible and extensible system for managing dynamic secrets across various services and databases, allowing for secure and temporary access to resources.