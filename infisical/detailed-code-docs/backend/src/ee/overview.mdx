---
title: "Overview"
---

## High-level description
The `backend/src/ee` directory contains the enterprise edition (EE) features of a backend application. It includes both the API layer (routes) and the service layer implementations for various advanced functionalities. These features are designed to meet the needs of enterprise customers, focusing on enhanced security, compliance, and management capabilities.

## What does it do?
This directory implements a wide range of enterprise-grade features:

1. Access Control and Approvals: Manages access policies and approval workflows for secrets and projects.
2. Audit Logging: Tracks and streams system events for compliance and security purposes.
3. Dynamic Secrets: Generates and manages temporary, automatically rotated secrets.
4. Identity and Access Management (IAM): Integrates with LDAP, SAML, and OIDC for enterprise authentication.
5. Licensing and Billing: Handles enterprise licensing and feature flag management.
6. Project and Organization Role Management: Provides fine-grained permission controls.
7. Secret Management: Implements secret scanning, versioning, snapshots, rotation, and replication.
8. Trusted IP Management: Controls access based on IP allowlists.
9. User Privilege Management: Manages user roles and permissions across the system.
10. Certificate Authority Management: Handles certificate authorities and CRL (Certificate Revocation List).
11. SCIM: Supports identity provisioning and management.
12. Rate Limiting: Implements API request rate limiting for better resource management.

These features work together to provide a comprehensive suite of enterprise-level capabilities, enhancing the security, compliance, and manageability of the application.

## Entry points
The main entry point for the routes is the `index.ts` file in the `routes` directory, which exports a `registerV1EERoutes` function. This function registers all the enterprise edition routes on the server instance.

For the services, each service typically has a factory function (e.g., `accessApprovalPolicyServiceFactory`, `auditLogServiceFactory`) that serves as its entry point. These factory functions create service instances with the necessary dependencies injected.

## Key Files
1. Routes:
   - `index.ts`: Main entry point for registering all EE routes
   - Various router files (e.g., `access-approval-policy-router.ts`, `audit-log-stream-router.ts`, `dynamic-secret-router.ts`)

2. Services:
   - Service implementation files (e.g., `secret-rotation-service.ts`)
   - Data Access Layer (DAL) files (e.g., `secret-rotation-dal.ts`)
   - Type definition files (e.g., `secret-rotation-types.ts`)
   - Utility function files (e.g., `secret-rotation-fns.ts`)
   - Queue implementation files (e.g., `secret-rotation-queue.ts`)

## Dependencies
The EE features rely on several shared dependencies:

1. FastifyZod: For server implementation and route definition
2. Zod: For request and response schema validation
3. Knex.js: For database query building
4. CASL: For permission management
5. AWS SDK: For AWS integrations
6. Axios: For HTTP requests
7. Various cryptography libraries
8. Internal modules for error handling, logging, and configuration management

## Configuration
The EE features are highly configurable, typically using environment variables or database settings. Common configurable aspects include:

1. Database connection details
2. External service endpoints (e.g., LDAP servers, SAML providers)
3. Encryption keys and secrets
4. Feature flags and license tiers
5. Rate limiting thresholds
6. Queue processing intervals

The `LICENSE.md` file in this directory specifies the Infisical Enterprise License, which governs the use of these enterprise features. It outlines the terms under which the software can be used, modified, and distributed, emphasizing that a valid Infisical Enterprise subscription is required for production use.

In summary, the `backend/src/ee` directory implements a comprehensive suite of enterprise-grade features that significantly enhance the security, compliance, and manageability of the application. These features are designed to work together seamlessly, providing the advanced capabilities expected in enterprise environments.