---
title: "certificate-authorities.ts"
---

## High-level description
This code defines a Zod schema for the "CertificateAuthorities" table in a database. It also exports TypeScript types derived from this schema for use in other parts of the application. The schema represents the structure and validation rules for certificate authority records.

## Symbols

### `CertificateAuthoritiesSchema`
#### Description
This constant defines a Zod schema object that describes the structure and validation rules for certificate authority records.

#### Internal Logic
The schema includes various fields such as id, createdAt, updatedAt, parentCaId, projectId, type, status, friendlyName, organization, ou, country, province, locality, commonName, dn, serialNumber, maxPathLength, keyAlgorithm, notBefore, notAfter, and activeCaCertId. Each field is defined with its respective data type and validation rules.

### `TCertificateAuthorities`
#### Description
This type is inferred from the `CertificateAuthoritiesSchema` using Zod's `z.infer&lt;&gt;` utility. It represents the TypeScript type for a complete certificate authority record.

### `TCertificateAuthoritiesInsert`
#### Description
This type is derived from `TCertificateAuthorities` but omits fields defined in `TImmutableDBKeys`. It represents the TypeScript type for inserting a new certificate authority record, excluding immutable fields.

### `TCertificateAuthoritiesUpdate`
#### Description
This type is similar to `TCertificateAuthoritiesInsert` but makes all fields optional. It represents the TypeScript type for updating an existing certificate authority record.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for defining the schema and type inference |

## Notes
1. The code is generated by an automation script and should not be manually edited.
2. The schema can be updated by running `npm run generate:schema`.
3. The code was written by akhilmhdh.
4. The `TImmutableDBKeys` type is imported from "./models" but not shown in the provided code snippet.

This code provides a robust type-safe structure for working with certificate authority data in the application, ensuring consistency between the database schema and the TypeScript types used in the codebase.