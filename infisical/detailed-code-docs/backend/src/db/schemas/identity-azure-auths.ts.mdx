---
title: "identity-azure-auths.ts"
---

## High-level description
The code defines a Zod schema, `IdentityAzureAuthsSchema`, for validating and type-inferencing data related to Azure Active Directory authentication for identities. It represents the structure of data stored for Azure AD authentication configurations associated with identities.

## References
- `TImmutableDBKeys` from "./models"

## Symbols
### `IdentityAzureAuthsSchema`
#### Description
A Zod schema defining the structure and types for Azure AD authentication configuration data.

#### Inputs
None. It's a schema definition, not a function.

#### Outputs
None. It's a schema definition, not a function.

#### Internal Logic
Defines the following fields:
- `id`: A UUID string representing the primary key.
- `accessTokenTTL`: Number specifying the time-to-live for access tokens in seconds (default: 7200 seconds, 2 hours).
- `accessTokenMaxTTL`: Number specifying the maximum time-to-live for access tokens in seconds (default: 7200 seconds, 2 hours).
- `accessTokenNumUsesLimit`: Number specifying the maximum number of times an access token can be used (default: 0, unlimited).
- `accessTokenTrustedIps`:  Unknown type (needs further investigation) likely representing a list of trusted IP addresses.
- `createdAt`: Date object representing the creation timestamp.
- `updatedAt`: Date object representing the last update timestamp.
- `identityId`: A UUID string representing the foreign key to the associated identity.
- `tenantId`: String representing the Azure AD tenant ID.
- `resource`: String representing the Azure AD resource.
- `allowedServicePrincipalIds`: String representing allowed service principal IDs.

### `TIdentityAzureAuths`
#### Description
A type alias representing the inferred type of the `IdentityAzureAuthsSchema`.

### `TIdentityAzureAuthsInsert`
#### Description
A type alias representing the type of data for inserting a new Azure AD authentication configuration. It excludes immutable database keys.

### `TIdentityAzureAuthsUpdate`
#### Description
A type alias representing the type of data for updating an existing Azure AD authentication configuration. It excludes immutable database keys and allows for partial updates.

## Dependencies
- `zod`: Used for schema definition and validation.

## TODOs
- Investigate the type of `accessTokenTrustedIps` and update the documentation accordingly. 
