---
title: "integrations.ts"
---

## High-level description
The code defines a Zod schema named `IntegrationsSchema` for validating the structure and data types of integration objects. It also defines related types for inserting, updating, and inferring data from the schema.

## References
- `TImmutableDBKeys` from "./models"

## Symbols
### `IntegrationsSchema`
#### Description
This symbol defines a Zod schema that outlines the structure and data types for an integration object. This schema is used to validate integration data throughout the application.

#### Inputs
N/A - This is a Zod schema definition, not a function.

#### Outputs
N/A - This is a Zod schema definition, not a function.

#### Internal Logic
The schema defines various fields with their respective types and constraints:
- `id`: A universally unique identifier (UUID) string.
- `isActive`: A boolean indicating whether the integration is active.
- `url`, `app`, `appId`, `targetEnvironment`, `targetEnvironmentId`, `targetService`, `targetServiceId`, `owner`, `path`, `region`, `scope`: Optional strings for storing integration-specific details.
- `integration`: A required string indicating the type of integration.
- `metadata`: An optional field for storing arbitrary JSON data.
- `integrationAuthId`: A UUID string referencing the authentication details of the integration.
- `envId`: A UUID string referencing the environment associated with the integration.
- `secretPath`: A string representing the path to secrets, defaulting to "/".
- `createdAt`, `updatedAt`: Date objects tracking creation and last update timestamps.
- `lastUsed`: An optional date object indicating the last time the integration was used.
- `isSynced`: An optional boolean indicating whether the integration is synced.
- `syncMessage`: An optional string for storing sync-related messages.
- `lastSyncJobId`: An optional string referencing the last sync job associated with the integration.

### `TIntegrations`
#### Description
A type alias representing the inferred type of the `IntegrationsSchema`. It represents the structure of a valid integration object.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

### `TIntegrationsInsert`
#### Description
A type alias representing the type of data required to create a new integration. It omits fields with immutable database keys (`TImmutableDBKeys`) like `id`, `createdAt`, and `updatedAt`.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

### `TIntegrationsUpdate`
#### Description
A type alias representing the type of data allowed for updating an existing integration. It's a partial type of `TIntegrationsInsert`, meaning all fields are optional for updating.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.
