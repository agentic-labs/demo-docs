---
title: "certificate-authority-crl.ts"
---

## High-level description
This code defines a Zod schema for a Certificate Authority CRL (Certificate Revocation List) entity. It also exports TypeScript types derived from this schema for use in other parts of the application, particularly for database operations.

## Symbols

### `CertificateAuthorityCrlSchema`
#### Description
This constant defines a Zod schema for validating and parsing Certificate Authority CRL data.

#### Inputs
The schema expects an object with the following properties:

| Name | Type | Description |
|:-----|:-----|:------------|
| id | string (UUID) | Unique identifier for the CRL entry |
| createdAt | date | Timestamp of when the entry was created |
| updatedAt | date | Timestamp of when the entry was last updated |
| caId | string (UUID) | Identifier of the associated Certificate Authority |
| encryptedCrl | Buffer | The encrypted Certificate Revocation List data |
| caSecretId | string (UUID) | Identifier of the CA secret |

#### Outputs
When used for parsing or validation, this schema will either return a valid object matching the defined structure or throw an error if the input doesn't match the schema.

### `TCertificateAuthorityCrl`
#### Description
This type represents the full structure of a Certificate Authority CRL entry, inferred from the `CertificateAuthorityCrlSchema`.

### `TCertificateAuthorityCrlInsert`
#### Description
This type represents the structure for inserting a new Certificate Authority CRL entry. It omits the immutable database keys (likely `id`, `createdAt`, and `updatedAt`) from the full `TCertificateAuthorityCrl` type.

### `TCertificateAuthorityCrlUpdate`
#### Description
This type represents the structure for updating an existing Certificate Authority CRL entry. It makes all fields optional (using `Partial&lt;&gt;`) except for the immutable database keys, which are omitted.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |
| @app/lib/zod | Imports a custom `zodBuffer` type, likely for handling Buffer data in Zod schemas |

## Notes
1. The file is generated automatically and should not be edited manually.
2. The schema and types are designed to work with a database, likely for CRUD operations on Certificate Authority CRL entries.
3. The use of `zodBuffer` suggests that there's a custom Zod type defined elsewhere in the project to handle Buffer data, which is used for the encrypted CRL.
4. The `TImmutableDBKeys` type is imported but not defined in this file, suggesting it's defined elsewhere and likely includes keys like `id`, `createdAt`, and `updatedAt`.

This code provides a robust type-safe structure for working with Certificate Authority CRL data in the application, ensuring data integrity and consistency when interacting with the database.