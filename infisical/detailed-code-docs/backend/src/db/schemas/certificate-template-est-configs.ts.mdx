---
title: "certificate-template-est-configs.ts"
---

## High-level description
This code defines the `CertificateTemplateEstConfigsSchema` using Zod, which is used to validate the structure and data types of certificate template EST configuration objects. It also defines related types for inserting and updating these configurations in the database.

## Symbols

### `CertificateTemplateEstConfigsSchema`
#### Description
This symbol defines a Zod schema named `CertificateTemplateEstConfigsSchema`. This schema is used to validate the data structure and types for certificate template EST configurations.

#### Inputs
N/A - This is a Zod schema definition, not a function, so it doesn't have explicit inputs.

#### Outputs
N/A - This is a Zod schema definition, not a function, so it doesn't have explicit outputs. However, it implicitly defines the expected structure and types for certificate template EST configuration objects.

#### Internal Logic
The schema defines the following fields and their types:

- `id`: A universally unique identifier (UUID) represented as a string.
- `certificateTemplateId`: A UUID representing the associated certificate template, also as a string.
- `encryptedCaChain`: A buffer containing the encrypted Certificate Authority (CA) chain.
- `hashedPassphrase`: A string representing the hashed passphrase.
- `isEnabled`: A boolean indicating whether the configuration is enabled.
- `createdAt`: A date object representing the creation timestamp.
- `updatedAt`: A date object representing the last update timestamp.

### `TCertificateTemplateEstConfigs`
#### Description
This symbol defines a TypeScript type alias named `TCertificateTemplateEstConfigs`. It infers the type from the `CertificateTemplateEstConfigsSchema` using `z.infer`. This type represents a fully validated certificate template EST configuration object.

#### Inputs
N/A - This is a type alias, not a function, so it doesn't have inputs.

#### Outputs
N/A - This is a type alias, not a function, so it doesn't have outputs.

### `TCertificateTemplateEstConfigsInsert`
#### Description
This symbol defines a TypeScript type alias named `TCertificateTemplateEstConfigsInsert`. It represents the type of object used when inserting a new certificate template EST configuration into the database. It omits the `id` field (as it's likely auto-generated by the database) and uses `z.input` to allow for stricter type checking during insertion.

#### Inputs
N/A - This is a type alias, not a function, so it doesn't have inputs.

#### Outputs
N/A - This is a type alias, not a function, so it doesn't have outputs.

### `TCertificateTemplateEstConfigsUpdate`
#### Description
This symbol defines a TypeScript type alias named `TCertificateTemplateEstConfigsUpdate`. It represents the type of object used when updating an existing certificate template EST configuration in the database. It's a partial type (using `Partial`), meaning not all fields are required, and it omits the `id` field, similar to the `TCertificateTemplateEstConfigsInsert` type.

#### Inputs
N/A - This is a type alias, not a function, so it doesn't have inputs.

#### Outputs
N/A - This is a type alias, not a function, so it doesn't have outputs.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod        | Provides a way to define and validate schemas for TypeScript objects. |
| @app/lib/zod | Likely contains custom Zod utilities or extensions used within the application. | 

## TODOs
- The file header mentions an automation script for generating the schema. It would be beneficial to document the process of updating the schema if any changes are required in the database structure. 
