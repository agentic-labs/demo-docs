---
title: "secret-approval-requests.ts"
---

## High-level description
This code defines a Zod schema for secret approval requests in a database. It provides type definitions and validation for the structure of secret approval request objects, which are likely used in a system that manages and approves secrets or sensitive information.

## Symbols

### `SecretApprovalRequestsSchema`
#### Description
This is a Zod schema that defines the structure and validation rules for secret approval request objects.

#### Inputs
The schema expects an object with the following properties:

| Name | Type | Description |
|:-----|:-----|:------------|
| id | string (UUID) | Unique identifier for the approval request |
| policyId | string (UUID) | ID of the associated policy |
| hasMerged | boolean | Indicates if the request has been merged (default: false) |
| status | string | Current status of the request (default: "open") |
| conflicts | unknown | Potential conflicts (nullable, optional) |
| slug | string | A slug identifier for the request |
| folderId | string (UUID) | ID of the associated folder |
| createdAt | date | Timestamp of creation |
| updatedAt | date | Timestamp of last update |
| isReplicated | boolean | Indicates if the request is replicated (nullable, optional) |
| committerUserId | string (UUID) | ID of the user who committed the request |
| statusChangedByUserId | string (UUID) | ID of the user who last changed the status (nullable, optional) |
| bypassReason | string | Reason for bypassing normal approval process (nullable, optional) |

#### Outputs
The schema returns a validated object conforming to the defined structure.

### `TSecretApprovalRequests`
#### Description
This type represents the inferred type from the `SecretApprovalRequestsSchema`. It can be used for type checking and autocompletion in TypeScript.

### `TSecretApprovalRequestsInsert`
#### Description
This type represents the structure for inserting a new secret approval request. It omits the immutable database keys (likely fields like `id`, `createdAt`, and `updatedAt`) from the `SecretApprovalRequestsSchema`.

### `TSecretApprovalRequestsUpdate`
#### Description
This type represents the structure for updating an existing secret approval request. It makes all fields from `TSecretApprovalRequestsInsert` optional, allowing partial updates.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## Notes
1. The file is generated automatically by a script and should not be edited manually.
2. The schema uses various Zod validators like `z.string().uuid()`, `z.boolean()`, `z.date()`, etc., to ensure data integrity.
3. Some fields are marked as nullable and optional, providing flexibility in the data structure.
4. The `TImmutableDBKeys` type is imported but not defined in this file, suggesting it's defined elsewhere in the project.

This schema and its associated types are likely used throughout the application to ensure consistency in handling secret approval requests, both when interacting with the database and when processing this data in the application logic.