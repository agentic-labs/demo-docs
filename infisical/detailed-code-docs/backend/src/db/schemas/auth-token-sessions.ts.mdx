---
title: "auth-token-sessions.ts"
---

## High-level description
This code defines a Zod schema for authentication token sessions and exports related types. It's designed to provide a structured and type-safe way to handle authentication token session data in a TypeScript environment.

## Symbols

### `AuthTokenSessionsSchema`
#### Description
This constant defines a Zod schema for authentication token sessions. It specifies the structure and validation rules for session data.

#### Inputs
The schema expects an object with the following properties:

| Name | Type | Description |
|:-----|:-----|:------------|
| id | string (UUID) | Unique identifier for the session |
| ip | string | IP address associated with the session |
| userAgent | string (nullable, optional) | User agent string of the client |
| refreshVersion | number | Version of the refresh token (default: 1) |
| accessVersion | number | Version of the access token (default: 1) |
| lastUsed | date | Timestamp of the last session usage |
| createdAt | date | Timestamp of session creation |
| updatedAt | date | Timestamp of last session update |
| userId | string (UUID) | Unique identifier of the associated user |

#### Outputs
The schema produces a validated object conforming to the defined structure.

### `TAuthTokenSessions`
#### Description
This type is inferred from the `AuthTokenSessionsSchema`, representing the structure of a validated authentication token session object.

### `TAuthTokenSessionsInsert`
#### Description
This type represents the structure for inserting a new authentication token session. It omits immutable database keys (likely `id`, `createdAt`, and `updatedAt`) from the `AuthTokenSessionsSchema`.

### `TAuthTokenSessionsUpdate`
#### Description
This type represents the structure for updating an existing authentication token session. It makes all fields from `TAuthTokenSessionsInsert` optional, allowing partial updates.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## References
The `TImmutableDBKeys` type is imported from "./models" and is used in the definition of `TAuthTokenSessionsInsert` and `TAuthTokenSessionsUpdate` types.

## Notes
1. The file is generated automatically by a script and should not be edited manually.
2. The schema and types defined here are likely used throughout the application for consistent handling of authentication token sessions.
3. The schema includes fields for tracking token versions and usage, which can be useful for security purposes like token revocation or session management.