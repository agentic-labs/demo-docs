---
title: "kms-key-versions.ts"
---

## High-level description
This file defines a Zod schema for KMS (Key Management Service) key versions. It provides type definitions and validation for KMS key version objects, including their structure for insertion and update operations in a database.

## Symbols

### `KmsKeyVersionsSchema`
#### Description
Defines the structure and validation rules for KMS key version objects using Zod.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | UUID of the KMS key version |
| encryptedKey | Buffer | Encrypted key data |
| version | number | Version number of the key |
| kmsKeyId | string | UUID of the associated KMS key |

#### Outputs
A Zod schema object that can be used for validation and type inference.

### `TKmsKeyVersions`
#### Description
Type definition inferred from the `KmsKeyVersionsSchema`.

### `TKmsKeyVersionsInsert`
#### Description
Type definition for inserting new KMS key versions, omitting immutable database keys.

### `TKmsKeyVersionsUpdate`
#### Description
Type definition for updating existing KMS key versions, making all fields optional and omitting immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |
| @app/lib/zod | Imports `zodBuffer` for Buffer validation |
| ./models | Imports `TImmutableDBKeys` type |

## Notes
- This file is generated automatically and should not be edited manually.
- It is created by pulling database information and generating a Zod schema.
- To update the schema, run `npm run generate:schema`.
- The file was written by akhilmhdh.