---
title: "audit-log-streams.ts"
---

## High-level description
This code defines the `AuditLogStreamsSchema` using the `zod` library to validate the shape and types of data for audit log streams. It represents the structure of audit log stream records with fields like `id`, `url`, encryption details for headers, `orgId`, and timestamps. The code also defines types for inserting new records and updating existing ones.

## Symbols

### `AuditLogStreamsSchema`
#### Description
This symbol defines a zod schema for validating the structure and data types of audit log stream objects. It ensures that each field in an audit log stream record conforms to the defined types.

#### Inputs
This is a constant object, it does not take any input.

#### Outputs
This is a constant object, it does not return any output. It is used as a schema definition.

#### Internal Logic
The schema defines the following fields:
- `id`: A universally unique identifier (UUID) string.
- `url`: A string representing the URL of the audit log stream.
- `encryptedHeadersCiphertext`, `encryptedHeadersIV`, `encryptedHeadersTag`, `encryptedHeadersAlgorithm`, `encryptedHeadersKeyEncoding`: Strings that store encrypted headers information, allowing secure storage of sensitive data.
- `orgId`: A UUID string representing the organization associated with the audit log stream.
- `createdAt`: A date object indicating when the record was created.
- `updatedAt`: A date object indicating when the record was last updated.

### `TAuditLogStreams`
#### Description
A type alias representing the inferred type of the `AuditLogStreamsSchema`. It represents the actual TypeScript type of an audit log stream object that conforms to the schema.

### `TAuditLogStreamsInsert`
#### Description
A type alias representing the type of data required to insert a new audit log stream record. It excludes immutable database keys like `id` from the `TAuditLogStreams` type.

### `TAuditLogStreamsUpdate`
#### Description
A type alias representing the type of data allowed for updating an existing audit log stream record. It's a partial type of `TAuditLogStreamsInsert`, allowing updates to a subset of fields.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Provides a way to define and validate schemas for JavaScript objects. |

## References
- `TImmutableDBKeys` is referenced to exclude immutable database keys from insert and update types. This symbol is defined in the `./models` file. 
