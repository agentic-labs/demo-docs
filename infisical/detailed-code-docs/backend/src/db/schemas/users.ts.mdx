---
title: "users.ts"
---

## High-level description
This code defines a Zod schema for the Users table in a database. It specifies the structure and validation rules for user data, including fields like email, authentication methods, admin status, and various user-related flags.

## Symbols

### UsersSchema
#### Description
The `UsersSchema` is a Zod object schema that defines the structure and validation rules for user data in the database.

#### Internal Logic
The schema includes the following fields:
- `id`: A required UUID string
- `email`: An optional nullable string
- `authMethods`: An optional nullable array of strings
- `superAdmin`: An optional nullable boolean with a default value of false
- `firstName`: An optional nullable string
- `lastName`: An optional nullable string
- `isAccepted`: An optional nullable boolean with a default value of false
- `isMfaEnabled`: An optional nullable boolean with a default value of false
- `mfaMethods`: An optional nullable array of strings
- `devices`: An optional nullable unknown type
- `createdAt`: A required date
- `updatedAt`: A required date
- `isGhost`: A required boolean with a default value of false
- `username`: A required string
- `isEmailVerified`: An optional nullable boolean with a default value of false
- `consecutiveFailedMfaAttempts`: An optional nullable number with a default value of 0
- `isLocked`: An optional nullable boolean with a default value of false
- `temporaryLockDateEnd`: An optional nullable date
- `consecutiveFailedPasswordAttempts`: An optional nullable number with a default value of 0

### TUsers
#### Description
`TUsers` is a type alias that represents the inferred type from the `UsersSchema`.

### TUsersInsert
#### Description
`TUsersInsert` is a type alias that represents the input type for inserting a new user, excluding immutable database keys.

### TUsersUpdate
#### Description
`TUsersUpdate` is a type alias that represents the input type for updating a user, allowing partial updates and excluding immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for defining and validating the schema |

## References
This schema references the `TImmutableDBKeys` type, which is likely defined in another file to represent immutable database keys.

## TODOs
The code includes a comment indicating that it was generated by an automation script and should not be edited manually. To update the schema, the instruction is to run `npm run generate:schema`.