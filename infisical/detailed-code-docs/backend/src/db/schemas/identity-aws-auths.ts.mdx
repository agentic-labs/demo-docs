---
title: "identity-aws-auths.ts"
---

## High-level description
This file defines a Zod schema for AWS authentication configurations related to identities in the system. It includes various properties such as access token TTL, allowed principal ARNs, and account IDs. The schema is used to validate and type-check data related to AWS authentication for identities.

## Symbols

### `IdentityAwsAuthsSchema`
#### Description
A Zod schema that defines the structure and validation rules for AWS authentication configurations associated with identities.

#### Inputs
This is a schema definition, so it doesn't have traditional inputs. Instead, it defines the shape of objects that will be validated against this schema.

#### Outputs
When used, this schema will output a validated object of type `TIdentityAwsAuths`.

#### Internal Logic
The schema defines the following fields:
- `id`: A UUID string
- `accessTokenTTL`: A coerced number with a default value of 7200
- `accessTokenMaxTTL`: A coerced number with a default value of 7200
- `accessTokenNumUsesLimit`: A coerced number with a default value of 0
- `accessTokenTrustedIps`: An unknown type
- `createdAt`: A date object
- `updatedAt`: A date object
- `identityId`: A UUID string
- `type`: A string
- `stsEndpoint`: A string
- `allowedPrincipalArns`: A string
- `allowedAccountIds`: A string

### `TIdentityAwsAuths`
#### Description
A type alias for the inferred type from the `IdentityAwsAuthsSchema`.

### `TIdentityAwsAuthsInsert`
#### Description
A type representing the data structure for inserting a new AWS authentication configuration, omitting immutable database keys.

### `TIdentityAwsAuthsUpdate`
#### Description
A type representing the data structure for updating an existing AWS authentication configuration, making all fields optional except for immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for creating and working with the schema |

## Notes
1. The file is generated by an automation script and should not be edited manually.
2. The schema is created by pulling database information and generating a Zod schema.
3. To update the schema, the command `npm run generate:schema` should be used.
4. The schema was written by akhilmhdh.

This file is part of a larger system for managing identity authentication, specifically for AWS-related configurations. It provides a structured way to validate and type-check data related to AWS authentication for identities in the system.