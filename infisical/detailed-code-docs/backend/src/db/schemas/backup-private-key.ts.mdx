---
title: "backup-private-key.ts"
---

## High-level description
This code defines a Zod schema for a backup private key entity in a database. It also exports TypeScript types derived from this schema for use in other parts of the application, providing type safety and validation for backup private key data.

## Symbols

### `BackupPrivateKeySchema`
#### Description
A Zod schema object that defines the structure and validation rules for a backup private key entity.

#### Inputs
This is not a function, so it doesn't have inputs in the traditional sense. However, it defines the expected shape of a backup private key object.

#### Outputs
When used for validation, it will either pass (returning the validated object) or throw an error if the input doesn't match the schema.

#### Internal Logic
The schema defines the following fields for a backup private key:
- `id`: A UUID string
- `encryptedPrivateKey`: A string
- `iv`: A string (likely an initialization vector for encryption)
- `tag`: A string
- `algorithm`: A string (likely the encryption algorithm used)
- `keyEncoding`: A string
- `salt`: A string (likely used in the encryption process)
- `verifier`: A string
- `createdAt`: A date
- `updatedAt`: A date
- `userId`: A UUID string

### `TBackupPrivateKey`
#### Description
A TypeScript type inferred from the `BackupPrivateKeySchema`. It represents the shape of a valid backup private key object.

### `TBackupPrivateKeyInsert`
#### Description
A TypeScript type derived from `BackupPrivateKeySchema`, omitting fields defined in `TImmutableDBKeys`. This type is likely used when inserting new backup private key records, excluding auto-generated or immutable fields.

### `TBackupPrivateKeyUpdate`
#### Description
A TypeScript type similar to `TBackupPrivateKeyInsert`, but with all fields made optional using `Partial&lt;&gt;`. This type is likely used when updating existing backup private key records, allowing for partial updates.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## References
The code references `TImmutableDBKeys` from "./models", which likely defines a set of database keys that should not be modified directly (e.g., 'id', 'createdAt').

## Notes
1. The file is generated automatically and should not be edited manually.
2. It's part of a schema generation process, likely triggered by the command `npm run generate:schema`.
3. The original author of the automation script is mentioned as "akhilmhdh".

This schema and the derived types provide a robust way to ensure type safety and data validation for backup private key entities throughout the application, from database operations to API interactions.