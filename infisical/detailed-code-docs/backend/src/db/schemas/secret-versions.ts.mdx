---
title: "secret-versions.ts"
---

## High-level description
This code defines a Zod schema for secret versions in a database. It includes various fields related to secret management, such as encryption details, metadata, and timestamps. The schema is automatically generated and should not be manually edited.

## Symbols

### `SecretVersionsSchema`
#### Description
Defines a Zod schema for secret versions, specifying the structure and validation rules for each field in a secret version record.

#### Inputs
This is a schema definition, so it doesn't have traditional inputs. Instead, it defines the shape of the data it expects.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| SecretVersionsSchema | Zod Schema | A Zod schema object that can be used for validation and type inference |

#### Internal Logic
The schema defines various fields with their respective types and validation rules. Some key fields include:
- `id`: A UUID string
- `version`: A number with a default value of 1
- `type`: A string with a default value of "shared"
- Various fields for storing encrypted secret data (e.g., `secretKeyCiphertext`, `secretValueCiphertext`)
- Metadata fields like `envId`, `secretId`, `folderId`, `userId`
- Timestamp fields: `createdAt` and `updatedAt`

### `TSecretVersions`
#### Description
A TypeScript type inferred from the `SecretVersionsSchema`, representing the structure of a secret version object.

### `TSecretVersionsInsert`
#### Description
A TypeScript type representing the structure for inserting a new secret version, omitting immutable database keys.

### `TSecretVersionsUpdate`
#### Description
A TypeScript type representing the structure for updating an existing secret version, making all fields optional and omitting immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |
| TImmutableDBKeys | Imported type used in type definitions |

## Notes
The file includes a comment indicating that it is generated by an automation script and should not be manually edited. To update the schema, the script should be re-run using the command `npm run generate:schema`.