---
title: "oidc-configs.ts"
---

## High-level description
This code defines a Zod schema for OIDC (OpenID Connect) configurations and related TypeScript types. It's generated automatically from a database schema and is used to validate and type-check OIDC configuration data in the application.

## Code Structure
The code defines a Zod schema `OidcConfigsSchema` and three TypeScript types: `TOidcConfigs`, `TOidcConfigsInsert`, and `TOidcConfigsUpdate`. These types are derived from the Zod schema and are used for different operations (full object, insert, and update respectively).

## Symbols

### `OidcConfigsSchema`
#### Description
A Zod schema that defines the structure and validation rules for OIDC configuration objects.

#### Internal Logic
The schema defines various fields with their respective types and validation rules:
- `id`: UUID string
- `discoveryURL`, `issuer`, `authorizationEndpoint`, `jwksUri`, `tokenEndpoint`, `userinfoEndpoint`: Optional nullable strings
- `encryptedClientId`, `configurationType`, `clientIdIV`, `clientIdTag`, `encryptedClientSecret`, `clientSecretIV`, `clientSecretTag`: Required strings
- `allowedEmailDomains`: Optional nullable string
- `isActive`: Boolean
- `createdAt`, `updatedAt`: Date objects
- `orgId`: UUID string

### `TOidcConfigs`
#### Description
A TypeScript type inferred from the `OidcConfigsSchema`, representing the full OIDC configuration object.

### `TOidcConfigsInsert`
#### Description
A TypeScript type for inserting new OIDC configurations, omitting immutable database keys.

### `TOidcConfigsUpdate`
#### Description
A TypeScript type for updating existing OIDC configurations, making all fields optional and omitting immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## TODOs
The code includes a comment indicating that it is generated by an automation script and should not be edited manually. To update the schema, the instruction is to run `npm run generate:schema`.

## References
The code references `TImmutableDBKeys` from "./models", which is likely used to define keys that should not be included in insert and update operations.