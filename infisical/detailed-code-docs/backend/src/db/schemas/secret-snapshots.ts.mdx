---
title: "secret-snapshots.ts"
---

## High-level description
This file defines a Zod schema for secret snapshots in a database. It includes type definitions for inserting and updating secret snapshots, utilizing Zod for runtime type checking and TypeScript for static typing.

## Symbols

### `SecretSnapshotsSchema`
#### Description
Defines the structure and validation rules for secret snapshots using Zod.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | UUID of the secret snapshot |
| envId | string | UUID of the environment |
| folderId | string | UUID of the folder |
| parentFolderId | string \| null | Optional UUID of the parent folder |
| createdAt | Date | Creation timestamp |
| updatedAt | Date | Last update timestamp |

#### Internal Logic
- Uses Zod's `z.object()` to define the schema
- Applies `uuid()` validation to ID fields
- Makes `parentFolderId` optional and nullable
- Uses `z.date()` for timestamp fields

### `TSecretSnapshots`
#### Description
TypeScript type derived from the `SecretSnapshotsSchema`.

### `TSecretSnapshotsInsert`
#### Description
TypeScript type for inserting new secret snapshots, omitting immutable database keys.

### `TSecretSnapshotsUpdate`
#### Description
TypeScript type for updating existing secret snapshots, making all fields optional and omitting immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## References
The code references `TImmutableDBKeys` from "./models", which is likely used to define fields that should not be inserted or updated directly.

## TODOs
The file includes a comment indicating that it is generated by an automation script and should not be edited manually. To update the schema, the instruction is to run `npm run generate:schema`.