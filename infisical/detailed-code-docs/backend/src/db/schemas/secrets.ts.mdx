---
title: "secrets.ts"
---

## High-level description
This code defines a Zod schema for secrets in a database. It includes various fields for storing encrypted secret data, metadata, and related information. The schema is automatically generated and should not be manually edited.

## Code Structure
The code defines a `SecretsSchema` using Zod, which specifies the structure and validation rules for secret objects. It also exports type definitions derived from this schema for use in other parts of the application.

## Symbols

### `SecretsSchema`
#### Description
A Zod schema that defines the structure and validation rules for secret objects in the database.

#### Internal Logic
The schema includes various fields with specific data types and validation rules:
- `id`: A UUID string
- `version`: A number with a default value of 1
- `type`: A string with a default value of "shared"
- Various encrypted fields for storing secret data (e.g., `secretKeyCiphertext`, `secretValueCiphertext`)
- Optional fields for comments, reminders, and metadata
- Fields for tracking creation and update timestamps

### `TSecrets`
#### Description
A TypeScript type inferred from the `SecretsSchema`, representing the structure of a secret object.

### `TSecretsInsert`
#### Description
A TypeScript type for inserting new secrets, omitting immutable database keys.

### `TSecretsUpdate`
#### Description
A TypeScript type for updating existing secrets, making all fields optional except for immutable database keys.

## Dependencies
The code imports the following:
- `z` from the "zod" library for schema definition
- `TImmutableDBKeys` from "./models" (likely defines immutable database keys)

## Configuration
The code includes a comment indicating that it is generated by an automation script and should not be manually edited. To update the schema, the script should be run using `npm run generate:schema`.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.