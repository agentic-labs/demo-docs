---
title: "identity-access-tokens.ts"
---

## High-level description
This code defines a Zod schema for identity access tokens in a database. It provides type definitions and validation rules for the `IdentityAccessTokens` table, including fields like token TTL, usage limits, and associated identity information.

## Symbols

### `IdentityAccessTokensSchema`
#### Description
A Zod schema object that defines the structure and validation rules for identity access tokens.

#### Inputs
This is a schema definition, so it doesn't have traditional inputs. Instead, it defines the expected shape of the data.

#### Outputs
When used for validation or parsing, it will output an object conforming to the defined schema or throw an error if validation fails.

#### Internal Logic
The schema defines various fields with their respective types and default values:
- `id`: A required string
- `accessTokenTTL`: A number with a default of 2592000 (30 days in seconds)
- `accessTokenMaxTTL`: A number with a default of 2592000
- `accessTokenNumUses`: A number defaulting to 0
- `accessTokenNumUsesLimit`: A number defaulting to 0
- `accessTokenLastUsedAt`: An optional nullable date
- `accessTokenLastRenewedAt`: An optional nullable date
- `isAccessTokenRevoked`: A boolean defaulting to false
- `identityUAClientSecretId`: An optional nullable string
- `identityId`: A required UUID string
- `createdAt`: A required date
- `updatedAt`: A required date
- `name`: An optional nullable string

### `TIdentityAccessTokens`
#### Description
A TypeScript type inferred from the `IdentityAccessTokensSchema`.

### `TIdentityAccessTokensInsert`
#### Description
A TypeScript type for inserting new identity access tokens, omitting immutable database keys.

### `TIdentityAccessTokensUpdate`
#### Description
A TypeScript type for updating existing identity access tokens, making all fields optional and omitting immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## Notes
- This file is generated automatically and should not be edited manually.
- It is created by pulling database information and generating a Zod schema.
- To update the schema, run `npm run generate:schema`.
- The code was written by akhilmhdh.

## References
The code references `TImmutableDBKeys`, which is likely defined in the `./models` file. This type is used to omit certain fields from the insert and update types.