---
title: "identity-token-auths.ts"
---

## High-level description
This code defines a Zod schema for the `IdentityTokenAuths` table in a database. It also exports TypeScript types derived from this schema for insert and update operations, considering immutable database keys.

## Code Structure
The code defines a Zod schema `IdentityTokenAuthsSchema` and exports three types: `TIdentityTokenAuths`, `TIdentityTokenAuthsInsert`, and `TIdentityTokenAuthsUpdate`.

## Symbols

### `IdentityTokenAuthsSchema`
#### Description
A Zod schema that defines the structure and validation rules for the `IdentityTokenAuths` table.

#### Internal Logic
- Defines fields with their respective types and validation rules:
  - `id`: UUID string
  - `accessTokenTTL`: Coerced number with a default of 7200
  - `accessTokenMaxTTL`: Coerced number with a default of 7200
  - `accessTokenNumUsesLimit`: Coerced number with a default of 0
  - `accessTokenTrustedIps`: Unknown type
  - `createdAt`: Date
  - `updatedAt`: Date
  - `identityId`: UUID string

### `TIdentityTokenAuths`
#### Description
A TypeScript type inferred from the `IdentityTokenAuthsSchema`.

### `TIdentityTokenAuthsInsert`
#### Description
A TypeScript type for insert operations, omitting immutable database keys from `TIdentityTokenAuths`.

### `TIdentityTokenAuthsUpdate`
#### Description
A TypeScript type for update operations, making all fields optional except for immutable database keys.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## Notes
1. The code is generated by an automation script and should not be manually edited.
2. The schema can be updated by running `npm run generate:schema`.
3. The `TImmutableDBKeys` type is imported but not shown in the provided code snippet. It likely defines keys that cannot be modified after initial insertion.