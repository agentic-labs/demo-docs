---
title: "secret-blind-indexes.ts"
---

## High-level description
This code defines a Zod schema for a "SecretBlindIndexes" table in a database. It also exports TypeScript types derived from this schema for use in other parts of the application. The schema represents a structure for storing encrypted salt information used in blind indexing of secrets.

## Symbols

### `SecretBlindIndexesSchema`
#### Description
This constant defines a Zod schema for the SecretBlindIndexes table. It specifies the structure and validation rules for each field in the table.

#### Internal Logic
The schema includes the following fields:
- `id`: A UUID string
- `encryptedSaltCipherText`: A string representing the encrypted salt
- `saltIV`: A string for the initialization vector used in encryption
- `saltTag`: A string for the authentication tag
- `algorithm`: A string defaulting to "aes-256-gcm"
- `keyEncoding`: A string defaulting to "utf8"
- `projectId`: A string representing the associated project
- `createdAt`: A date object
- `updatedAt`: A date object

### `TSecretBlindIndexes`
#### Description
This type is inferred from the `SecretBlindIndexesSchema` and represents the full structure of a SecretBlindIndexes record.

### `TSecretBlindIndexesInsert`
#### Description
This type represents the structure for inserting a new SecretBlindIndexes record. It omits fields defined in `TImmutableDBKeys`.

### `TSecretBlindIndexesUpdate`
#### Description
This type represents the structure for updating an existing SecretBlindIndexes record. It makes all fields optional except those defined in `TImmutableDBKeys`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for defining and validating the schema |

## References
- `TImmutableDBKeys`: This type is imported and used in the definition of `TSecretBlindIndexesInsert` and `TSecretBlindIndexesUpdate`. It likely contains fields that should not be inserted or updated directly.

## TODOs
The file includes a comment indicating that it was generated by an automation script and should not be edited manually. To update the schema, the script should be run using `npm run generate:schema`.