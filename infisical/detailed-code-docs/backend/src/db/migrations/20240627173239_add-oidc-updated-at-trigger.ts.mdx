---
title: "20240627173239_add-oidc-updated-at-trigger.ts"
---

## High-level description
This migration script manages the creation and deletion of an "update" trigger on the `OidcConfig` table. This trigger likely updates a timestamp field when a row in the `OidcConfig` table is updated.

## References
- `TableName`: This enum is likely defined in the `db/schemas` directory and contains the names of database tables used in the application.
- `createOnUpdateTrigger`: This utility function is defined in the `db/utils` directory and is responsible for creating the update trigger on a given table.
- `dropOnUpdateTrigger`: This utility function, also defined in `db/utils`, is responsible for deleting the update trigger on a given table.

## Symbols

### `up`
#### Description
This function is executed when the migration is applied. It creates an update trigger on the `OidcConfig` table using the `createOnUpdateTrigger` utility function.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| knex | Knex | Knex instance for database interaction. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | void | This function does not return any value. |

### `down`
#### Description
This function is executed when the migration is rolled back. It drops the update trigger on the `OidcConfig` table using the `dropOnUpdateTrigger` utility function.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| knex | Knex | Knex instance for database interaction. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | void | This function does not return any value. |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| knex       | Provides a connection to the database and allows for schema migration. |
