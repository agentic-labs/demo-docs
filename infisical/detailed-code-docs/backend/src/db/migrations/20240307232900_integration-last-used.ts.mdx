---
title: "20240307232900_integration-last-used.ts"
---

## High-level description
This migration script adds and removes a `lastUsed` timestamp column to the `Integration` table in the database. 

## Symbols

### `up`
#### Description
This function defines the steps to apply the migration (adding the `lastUsed` column).

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| knex | Knex | Knex client instance for interacting with the database. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
|  | Promise\&lt;void\&gt; | A promise that resolves when the migration is applied. |

#### Internal Logic
1.  Uses `knex.schema.alterTable` to modify the `Integration` table.
2.  Adds a new column named `lastUsed` with the `datetime` data type.

### `down`
#### Description
This function defines the steps to rollback the migration (removing the `lastUsed` column).

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| knex | Knex | Knex client instance for interacting with the database. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
|  | Promise\&lt;void\&gt; | A promise that resolves when the migration rollback is complete. |

#### Internal Logic
1.  Uses `knex.schema.alterTable` to modify the `Integration` table.
2.  Removes the `lastUsed` column.

## References
- `TableName`: This likely refers to an enum or constant that defines table names used in the application. It's used to specify the `Integration` table.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| knex | Provides the query builder and schema building tools for interacting with the database. | 
