---
title: "20240424235842_user-search-filter.ts"
---

## High-level description
This migration file adds a new column called "searchFilter" to the LdapConfig table in the database. It provides both the up and down functions to apply and revert the migration, respectively.

## Symbols

### `up`
#### Description
This function adds a new column "searchFilter" to the LdapConfig table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| knex | Knex | The Knex instance used for database operations |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise&lt;void&gt; | Promise&lt;void&gt; | A promise that resolves when the migration is complete |

#### Internal Logic
1. Uses the Knex instance to alter the LdapConfig table.
2. Adds a new string column named "searchFilter".
3. Sets the column as not nullable and provides a default value of an empty string.

### `down`
#### Description
This function removes the "searchFilter" column from the LdapConfig table, effectively reverting the changes made by the `up` function.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| knex | Knex | The Knex instance used for database operations |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise&lt;void&gt; | Promise&lt;void&gt; | A promise that resolves when the migration is complete |

#### Internal Logic
1. Uses the Knex instance to alter the LdapConfig table.
2. Drops the "searchFilter" column.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| knex | Used for database schema migrations and query building |

## References
The code references the `TableName` enum from the "../schemas" module, specifically using `TableName.LdapConfig` to identify the table being altered.

Note: The actual definition of `TableName.LdapConfig` is not provided in this file, but it's assumed to be a string constant representing the name of the LdapConfig table in the database.