---
title: "Overview"
---

## High-level description
This directory contains a collection of utility scripts for managing and maintaining the backend of a TypeScript-based project. These scripts automate various tasks such as creating backend file templates, generating database migrations and seed files, creating Zod schema types from database schemas, and performing file extension modifications.

## What does it do?
The scripts in this directory perform the following tasks:

1. Create backend file templates: Generates boilerplate code for service components, data access layer (DAL) components, and router components.
2. Create database migrations: Assists in creating new migration files for database schema changes using Knex.js.
3. Create seed files: Helps in generating new seed files for populating the database with initial or test data.
4. Generate schema types: Automatically creates Zod schema types based on the existing database schema, enhancing type safety in the project.
5. Rename file extensions: Recursively traverses a directory (specifically 'dist') and replaces '.mjs' file extensions with '.js' in file contents.

These scripts streamline development processes, ensure consistency in file structures, and automate repetitive tasks, ultimately improving developer productivity and code quality.

## Key Files

1. `create-backend-file.ts`:
   - Purpose: Creates backend file templates for different component types.
   - Functionality: Prompts the user to select a component type (service, DAL, or router) and generates the corresponding boilerplate code.

2. `create-migration.ts`:
   - Purpose: Facilitates the creation of new database migration files.
   - Functionality: Prompts for a migration name, formats it, and uses Knex.js CLI to generate the migration file.

3. `create-seed-file.ts`:
   - Purpose: Assists in creating new database seed files.
   - Functionality: Prompts for a seed file name, determines the next file number, and generates the seed file using Knex.js.

4. `generate-schema-types.ts`:
   - Purpose: Generates Zod schema types based on the database schema.
   - Functionality: Connects to a PostgreSQL database, retrieves table information, and creates corresponding Zod schemas for each table.

5. `rename-mjs.ts`:
   - Purpose: Renames file extensions in file contents.
   - Functionality: Recursively traverses the 'dist' directory and replaces '.mjs' with '.js' in file contents.

## Dependencies
The scripts in this directory rely on several external libraries and Node.js built-in modules:

1. Knex.js (version not specified): Used for database migrations and seed file generation.
2. prompt-sync (version not specified): Provides interactive command-line prompts for user input.
3. @sindresorhus/slugify (version not specified): Used for formatting migration names.
4. dotenv (version not specified): Loads environment variables for database connection.
5. zod (version not specified): Used for generating schema types.

Node.js built-in modules:
- fs: File system operations
- path: Handling file and directory paths
- child_process: Executing shell commands

## Configuration
The scripts use various configuration options and environment variables:

1. Database connection:
   - `DB_CONNECTION_URI`: Environment variable for the database connection string (used in `generate-schema-types.ts`).

2. Knex.js configuration:
   - Knexfile path: "../src/db/knexfile.ts" (used in `create-seed-file.ts`).

3. Directory paths:
   - Migration files: "../src/db/migrations" (inferred from `create-migration.ts`).
   - Seed files: "../src/db/seeds" (used in `create-seed-file.ts`).
   - Generated schema types: "./src/db/schema" (used in `generate-schema-types.ts`).
   - File extension renaming: "dist" directory (used in `rename-mjs.ts`).

These scripts provide essential utilities for managing the backend of the project, automating common tasks, and ensuring consistency in code structure and database operations. They contribute to a more efficient development workflow and help maintain code quality throughout the project.