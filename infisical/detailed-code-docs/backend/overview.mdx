---
title: "Overview"
---

## High-level description
This directory contains the backend implementation of a secret management system, likely for the Infisical project. It includes a comprehensive set of features for managing secrets, user authentication, organization structures, and various enterprise-level functionalities. The backend is built using TypeScript and Fastify, with a focus on scalability, security, and extensibility.

## What does it do?
The backend provides a range of functionalities:

1. Secret Management: Create, read, update, and delete secrets securely.
2. User Authentication and Authorization: Handle user registration, login, and access control.
3. Organization and Project Management: Manage hierarchical structures for organizing secrets.
4. API Endpoints: Expose RESTful APIs for interacting with the system.
5. Database Operations: Handle database connections, migrations, and queries using Knex.js.
6. Asynchronous Task Processing: Implement a queue system for background jobs using BullMQ.
7. Webhook Management: Provide functionality for creating and managing webhooks.
8. Enterprise Features: Include advanced features like audit logging, dynamic secrets, and identity management.
9. Cryptographic Operations: Implement encryption, decryption, and hashing functionalities.
10. Configuration Management: Handle application settings and environment variables.

## Entry points
The main entry point is `src/main.ts`, which initializes the server and all necessary services. Other key entry points include:

- `src/server/app.ts`: Initializes the Fastify server and sets up routes and plugins.
- `src/db/index.ts`: Provides database connection initialization.
- `src/services/`: Contains various service factories for different functionalities.
- `src/ee/routes/index.ts`: Entry point for enterprise edition routes.

## Key Files
1. `src/main.ts`: Application bootstrap and initialization.
2. `src/db/`: Database-related code, including migrations and schema definitions.
3. `src/server/`: Server setup, route definitions, and plugins.
4. `src/services/`: Service implementations for various functionalities.
5. `src/ee/`: Enterprise edition features.
6. `src/lib/`: Utility functions and helper modules.
7. `src/queue/`: Implementation of asynchronous job processing.
8. `src/keystore/`: Key-value store implementation using Redis.
9. `src/@types/`: TypeScript type definitions and declarations.
10. `Dockerfile`: Defines the Docker image for the backend.
11. `tsconfig.json`: TypeScript configuration file.
12. `package.json`: Project metadata and dependencies.

## Dependencies
Key dependencies include:

1. Fastify: Web framework for the server.
2. Knex.js: SQL query builder for database operations.
3. Redis: For caching and job queues.
4. BullMQ: For managing background jobs.
5. Zod: For schema validation.
6. Various cryptographic libraries for secure operations.

## Configuration
The application uses a combination of environment variables and configuration files:

- Database connection details
- Redis URL for caching and queues
- API rate limiting settings
- Authentication secrets and token expiration times
- Feature flags for enterprise features
- Logging levels and destinations

Configuration is flexible, allowing for different settings in development, testing, and production environments.

The backend directory provides a robust foundation for a secret management system with enterprise-grade features, focusing on security, scalability, and extensibility. It uses modern TypeScript practices and incorporates various tools for testing, linting, and building to ensure code quality and maintainability.