---
title: "infisicalsecret-crd.yaml"
---

## High-level description
This YAML file defines a CustomResourceDefinition (CRD) for an "InfisicalSecret" resource in Kubernetes. It specifies the structure and validation rules for the InfisicalSecret custom resource, which is used to manage secrets in a Kubernetes cluster using the Infisical secrets management system.

## Symbols

### CustomResourceDefinition
#### Description
This is the main symbol in the file, defining the structure and behavior of the InfisicalSecret custom resource.

#### Internal Logic
The CRD defines the following key components:
1. Metadata: Specifies the name and labels for the CRD.
2. Spec: Defines the group, names, scope, and versions of the custom resource.
3. Schema: Describes the structure and validation rules for the InfisicalSecret resource.

### InfisicalSecret
#### Description
This is the custom resource being defined, representing an Infisical secret in Kubernetes.

#### Internal Logic
The InfisicalSecret resource has the following main components:
1. Spec: Defines the desired state of the InfisicalSecret, including:
   - Authentication methods (e.g., AWS IAM, Azure, GCP, Kubernetes, Service Account, Service Token, Universal Auth)
   - Host API
   - Managed Secret Reference
   - Resync Interval
   - Token Secret Reference
2. Status: Represents the observed state of the InfisicalSecret, including conditions.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| apiextensions.k8s.io/v1 | Kubernetes API for defining custom resources |

## Configuration
The CRD defines various configuration options for the InfisicalSecret resource. Key options include:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| authentication | object | - | Specifies the authentication method and details |
| hostAPI | string | - | Infisical host to pull secrets from |
| managedSecretReference | object | - | References the managed Kubernetes Secret |
| resyncInterval | integer | 60 | Interval for resyncing secrets |

## API/Interface Reference
The CRD defines the API for creating and managing InfisicalSecret resources in Kubernetes.

| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /apis/secrets.infisical.com/v1alpha1/namespaces/*/infisicalsecrets | POST, GET, etc. | InfisicalSecret object | InfisicalSecret object | Create, read, update, delete InfisicalSecret resources |

Note: The actual endpoints and methods will be provided by the Kubernetes API server based on this CRD definition.