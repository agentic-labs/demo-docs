---
title: "RotationOutputForm.tsx"
---

## High-level description
This code defines a React component called `RotationOutputForm` that creates a form for configuring secret rotation settings. It allows users to select an environment, specify a secret path, set a rotation interval, and map output schema keys to existing secrets.

## Code Structure
The main component `RotationOutputForm` uses React Hook Form for form management and validation. It integrates with the workspace context and fetches project secrets based on the selected environment and secret path.

## References
- `@app/components/v2`: Various UI components
- `@app/context`: Workspace context
- `@app/hooks/api`: API hooks for fetching project secrets

## Symbols

### `RotationOutputForm`
#### Description
A React component that renders a form for configuring secret rotation settings.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| outputSchema | Record&lt;string, unknown&gt; | Schema defining the output structure |
| onSubmit | (data: TFormSchema) =&gt; void | Callback function for form submission |
| onCancel | () =&gt; void | Callback function for canceling the form |

#### Internal Logic
1. Uses React Hook Form for form management and validation
2. Fetches the current workspace and environments
3. Retrieves project secrets based on the selected environment and secret path
4. Renders form fields for environment selection, secret path, rotation interval, and output mapping
5. Handles form submission and cancellation

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form management and validation |
| @hookform/resolvers/zod | Zod resolver for form validation |
| zod | Schema definition and validation |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| environment | string | First environment's slug | Selected environment for secret rotation |
| secretPath | string | "/" | Path where secrets are stored |
| interval | number | 15 | Rotation interval in days |
| secrets | Record&lt;string, string&gt; | {} | Mapping of output schema keys to secret IDs |

## API/Interface Reference
| Prop | Type | Description |
|:-----|:-----|:------------|
| outputSchema | Record&lt;string, unknown&gt; | Schema defining the output structure |
| onSubmit | (data: TFormSchema) =&gt; void | Callback function for form submission |
| onCancel | () =&gt; void | Callback function for canceling the form |

The component exposes a form interface that allows users to configure secret rotation settings. The form includes fields for selecting an environment, specifying a secret path, setting a rotation interval, and mapping output schema keys to existing secrets. Upon submission, the form data is passed to the `onSubmit` callback function.