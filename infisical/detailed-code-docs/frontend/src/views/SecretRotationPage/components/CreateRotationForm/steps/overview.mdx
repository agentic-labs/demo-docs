---
title: "Overview"
---

## High-level description
This directory contains React components that are part of a secret rotation feature in a larger application. The components are responsible for creating forms that handle the input and output configurations for secret rotation processes. These forms are likely steps in a multi-step process for setting up or managing secret rotation.

## What does it do?
The code in this directory implements two main functionalities:

1. Input Configuration (RotationInputForm):
   This component creates a dynamic form based on a provided schema. It allows users to input various parameters needed for secret rotation. The form adapts its fields based on the input schema, providing a flexible way to collect different types of information depending on the rotation requirements.

2. Output Configuration (RotationOutputForm):
   This component creates a form for configuring how the rotated secrets will be stored and managed. It allows users to select an environment, specify a secret path, set a rotation interval, and map output schema keys to existing secrets in the system.

Together, these components provide a user interface for setting up the complete process of secret rotation, from specifying the input parameters to configuring how the rotated secrets will be handled and stored.

## Key Files

1. RotationInputForm.tsx
   - Purpose: Renders a dynamic form for inputting secret rotation parameters.
   - Key features:
     - Uses react-hook-form for form management and validation
     - Dynamically generates form fields based on an input schema
     - Supports custom UI components for different input types
     - Handles form submission and cancellation

2. RotationOutputForm.tsx
   - Purpose: Renders a form for configuring the output settings of secret rotation.
   - Key features:
     - Allows selection of environment and secret path
     - Provides input for rotation interval
     - Enables mapping of output schema keys to existing secrets
     - Integrates with workspace context and API hooks for fetching project secrets

## Dependencies
Both components rely on several external libraries and internal modules:

1. react-hook-form: Used for form state management and validation in both components.
2. @hookform/resolvers/zod and zod: Used for schema validation in both components.
3. @fortawesome/free-solid-svg-icons and @fortawesome/react-fontawesome: Used in RotationInputForm for icons.
4. @app/components/v2: Custom UI components used in both forms.
5. @app/context: Used in RotationOutputForm for accessing workspace context.
6. @app/hooks/api: Used in RotationOutputForm for fetching project secrets.

These dependencies were likely chosen to provide robust form handling, schema validation, and integration with the existing application architecture.

## Configuration
While there are no explicit configuration files in this directory, both components accept props that configure their behavior:

RotationInputForm:
- inputSchema: Defines the structure and validation rules for the input form.

RotationOutputForm:
- outputSchema: Defines the structure of the output data.
- environment: Selected environment for secret rotation (default: first environment's slug).
- secretPath: Path where secrets are stored (default: "/").
- interval: Rotation interval in days (default: 15).
- secrets: Mapping of output schema keys to secret IDs (default: {}).

These configuration options allow the forms to be customized based on the specific needs of different secret rotation scenarios.

In summary, this directory contains crucial components for managing the user interface of a secret rotation feature, providing flexible and dynamic forms for both input and output configurations. The components are designed to be adaptable to different schemas and integrate well with the larger application ecosystem.