---
title: "UserPage.tsx"
---

## High-level description
This code defines a `UserPage` component in React for managing user details within an organization. It provides functionality to view, edit, deactivate, and remove users, as well as manage their organization membership and projects.

## Code Structure
The `UserPage` component is the main symbol, which uses several hooks and sub-components to handle user data, permissions, and UI elements. It also includes modals for various actions like removing or deactivating members.

## Symbols

### UserPage
#### Description
A React component that displays and manages user details within an organization. It's wrapped with a permission check using the `withPermission` HOC.

#### Inputs
This component doesn't explicitly receive props, but it uses various hooks to access data and functionality.

#### Internal Logic
1. Retrieves user and organization data from context and router.
2. Fetches the user's membership details using `useGetOrgMembership`.
3. Sets up mutation functions for updating and deleting org memberships.
4. Manages popups for various actions using `usePopUp`.
5. Defines handlers for deactivating and removing members.
6. Renders user details, projects, and action buttons based on permissions.
7. Includes modals for confirming user removal and deactivation.

#### Side Effects
- Navigates to different routes using `router.push`.
- Creates notifications using `createNotification`.
- Mutates organization membership data.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| next/router | For routing functionality |
| @fortawesome/react-fontawesome | For icons |
| tailwind-merge | For merging Tailwind CSS classes |
| Various @app components and hooks | For UI components and application logic |

## Error Handling
The component uses try-catch blocks in its submission handlers to catch and log errors, as well as display error notifications to the user.

## API/Interface Reference
This component doesn't explicitly define an API, but it interacts with several API hooks:
- `useGetOrgMembership`
- `useDeleteOrgMembership`
- `useUpdateOrgMembership`

These hooks are used to fetch, delete, and update organization membership data respectively.

## Performance Considerations
The component uses the `usePopUp` hook to manage multiple popup states, which could be more efficient than managing separate state for each popup.

## TODOs
There's an eslint-disable comment at the top of the file for unused variables, which might indicate areas for potential cleanup or future implementation.