---
title: "CreateOrgModal.tsx"
---

## High-level description
The `CreateOrgModal` component is a React functional component that renders a modal for creating a new organization in the Infisical application. It handles form submission, organization creation, and navigation to the newly created organization's overview page.

## Code Structure
The component uses React Hook Form for form management, Zod for schema validation, and various custom hooks for API interactions. It also utilizes UI components from a custom component library.

## Symbols

### `CreateOrgModal`
#### Description
This is the main functional component that renders the modal for creating a new organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isOpen | boolean | Determines if the modal is open or closed |
| onClose | () =&gt; void | Function to call when closing the modal |

#### Internal Logic
1. Sets up form handling using `useForm` with Zod schema validation.
2. Uses custom hooks for creating an organization and selecting an organization.
3. Handles form submission, including:
   - Creating a new organization
   - Selecting the newly created organization
   - Displaying success/error notifications
   - Navigating to the new organization's overview page
   - Storing the organization ID in local storage
   - Resetting the form and closing the modal

### `schema`
#### Description
Zod schema for validating the organization name input.

### `FormData`
#### Description
Type definition for the form data, inferred from the Zod schema.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form handling |
| next/router | Routing in Next.js |
| @hookform/resolvers/zod | Zod resolver for react-hook-form |
| zod | Schema validation |
| @app/components/notifications | Custom notification component |
| @app/components/v2 | Custom UI components |
| @app/hooks/api | Custom API hooks |

## Error Handling
The component implements error handling in the form submission process. If an error occurs during organization creation, it logs the error to the console and displays an error notification to the user.

## Logging
The component logs errors to the console when organization creation fails.

## API/Interface Reference
The component interacts with the following API endpoints through custom hooks:
- `useCreateOrg`: Creates a new organization
- `useSelectOrganization`: Selects the newly created organization

## TODOs
There are no explicit TODOs in this code.