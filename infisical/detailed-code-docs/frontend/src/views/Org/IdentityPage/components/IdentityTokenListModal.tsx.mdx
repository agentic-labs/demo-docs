---
title: "IdentityTokenListModal.tsx"
---

## High-level description
This code defines a React component called `IdentityTokenListModal` that manages and displays access tokens for a specific identity. It allows users to create new tokens, view existing tokens, and revoke tokens. The component uses a modal interface and includes form handling, API interactions, and data display.

## Code Structure
The main component `IdentityTokenListModal` contains several interconnected parts:
1. Form handling for creating new tokens
2. Display of newly created token
3. Table display of existing tokens
4. API calls for fetching and creating tokens
5. Modal management and state handling

## Symbols

### IdentityTokenListModal
#### Description
This is the main functional component that renders the modal for managing identity tokens.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["tokenList", "revokeToken"]&gt; | State object for managing modal visibility |
| handlePopUpOpen | function | Function to open specific pop-ups |
| handlePopUpToggle | function | Function to toggle pop-up visibility |

#### Internal Logic
1. Initializes state and form handling
2. Fetches existing tokens and client secrets
3. Handles token creation form submission
4. Renders the modal content, including:
   - Form for creating new tokens
   - Display of newly created token
   - Table of existing tokens
5. Manages copy-to-clipboard functionality for tokens and client secrets

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form handling and validation |
| react-i18next | Internationalization |
| @fortawesome/react-fontawesome | Icon components |
| @hookform/resolvers/zod | Form validation with Zod |
| date-fns | Date formatting |
| zod | Schema validation |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components |
| @app/hooks | Custom hooks |
| @app/hooks/api | API interaction hooks |

## Error Handling
The component implements basic error handling in the token creation process, displaying error notifications when token creation fails.

## Logging
The component logs errors to the console when token creation fails.

## API/Interface Reference
The component uses several API hooks:
- `useGetIdentityTokensTokenAuth`: Fetches existing tokens
- `useGetIdentityUniversalAuthClientSecrets`: Fetches client secrets
- `useCreateTokenIdentityTokenAuth`: Creates new tokens

These hooks are likely defined in the `@app/hooks/api` module.

## Performance Considerations
The component uses React hooks like `useEffect` to manage side effects and optimize performance, such as setting timeouts for copy feedback.