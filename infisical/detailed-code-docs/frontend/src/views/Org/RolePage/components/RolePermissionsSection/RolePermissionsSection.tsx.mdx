---
title: "RolePermissionsSection.tsx"
---

## High-level description
This code defines a React component called `RolePermissionsSection` that renders a form for managing role permissions within an organization. It allows users to view and edit various permissions for a specific role, including user management, group management, and other organizational settings.

## Code Structure
The main component `RolePermissionsSection` uses React Hook Form for form management and makes API calls to fetch and update role data. It renders a table of permissions with rows for different resources, each managed by sub-components like `RolePermissionRow`, `OrgRoleWorkspaceRow`, and `OrgPermissionAdminConsoleRow`.

## References
- `@app/components/notifications`
- `@app/components/v2`
- `@app/context`
- `@app/hooks/api`
- `@app/views/Org/RolePage/components/OrgRoleModifySection.utils`

## Symbols

### RolePermissionsSection
#### Description
A React component that renders a form for managing role permissions within an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| roleId | string | The ID of the role being edited |

#### Internal Logic
1. Fetches the current role data using `useGetOrgRole` hook
2. Sets up form management using `useForm` hook from react-hook-form
3. Handles form submission, updating the role permissions via API call
4. Renders a table of permissions with editable rows for different resources
5. Provides save and cancel buttons for custom roles

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management |
| @hookform/resolvers/zod | Form validation using Zod schema |
| @app/components/notifications | Displaying notifications |
| @app/components/v2 | UI components |
| @app/context | Accessing organization context |
| @app/hooks/api | API hooks for fetching and updating role data |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| SIMPLE_PERMISSION_OPTIONS | Array | [Object] | Defines the list of simple permissions with their titles and form names |

## Error Handling
The component uses try-catch block in the `onSubmit` function to handle errors during role update. It displays an error notification if the update fails.

## Logging
The component logs errors to the console when role update fails.