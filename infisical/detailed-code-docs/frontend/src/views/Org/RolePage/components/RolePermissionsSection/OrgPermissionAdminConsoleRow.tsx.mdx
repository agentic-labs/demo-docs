---
title: "OrgPermissionAdminConsoleRow.tsx"
---

## High-level description
This code defines a React component called `OrgPermissionAdminConsoleRow` that represents a row in a table for managing organization admin console permissions. It allows users to toggle between "No Access" and "Custom" permission levels, and when "Custom" is selected, it expands to show more detailed permission options.

## Code Structure
The main component `OrgPermissionAdminConsoleRow` uses several React hooks and sub-components to manage its state and render the UI. It interacts with a form using react-hook-form, and renders a collapsible row with a dropdown for permission selection and checkboxes for specific permissions.

## Symbols

### OrgPermissionAdminConsoleRow
#### Description
This is the main functional component that renders a row for organization admin console permissions in a table format.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isEditable | boolean | Determines if the permissions can be edited |
| setValue | UseFormSetValue&lt;TFormSchema&gt; | Function to set form values |
| control | Control&lt;TFormSchema&gt; | Form control object from react-hook-form |

#### Internal Logic
1. Uses `useToggle` hook to manage row expansion and custom permission states.
2. Watches the form for changes in the organization-admin-console permissions.
3. Determines the selected permission category based on the current rule.
4. Handles permission changes, updating the form and UI accordingly.
5. Renders a table row with a dropdown for permission selection.
6. When expanded, renders checkboxes for specific permissions.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management |
| @fortawesome/free-solid-svg-icons | Icons for UI |
| @fortawesome/react-fontawesome | FontAwesome icon component |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components |
| @app/hooks | Custom hooks |
| @app/views/Org/RolePage/components/OrgRoleModifySection.utils | Form schema type |

## Enums and Constants

### Permission
An enum defining permission levels:
```typescript
enum Permission {
  NoAccess = "no-access",
  Custom = "custom"
}
```

### PERMISSION_ACTIONS
A constant array defining specific permission actions:
```typescript
const PERMISSION_ACTIONS = [
  { action: "access-all-projects", label: "Access all organization projects" }
] as const;
```

## Error Handling
The component includes basic error handling by showing an error notification when attempting to update a non-editable field:

```typescript
if (!isEditable) {
  createNotification({
    type: "error",
    text: "Failed to update default role"
  });
  return;
}
```

## UI Components
The component uses several custom UI components from `@app/components/v2`, including:
- `Checkbox`
- `Select`
- `SelectItem`
- `Td` (Table cell)
- `Tr` (Table row)

These components are used to create a responsive and interactive UI for managing permissions.

## Styling
The component uses Tailwind CSS classes for styling, with conditional classes applied based on component state (e.g., row expansion).

In summary, this component provides a user-friendly interface for managing organization admin console permissions within a larger role management system. It handles both the UI representation and the logic for updating permissions in the form state.