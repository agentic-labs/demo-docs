---
title: "AddOrgMemberModal.tsx"
---

## High-level description
This code defines a React component called `AddOrgMemberModal` that allows users to invite new members to an organization. It provides a form for entering email addresses, selecting organization and project roles, and assigning users to specific projects.

## Code Structure
The main component `AddOrgMemberModal` uses React Hook Form for form management and validation. It interacts with several custom hooks for API calls and context. The component renders either a form for adding members or a list of invite links, depending on the state.

## Symbols

### AddOrgMemberModal
#### Description
A modal component for adding new members to an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["addMember"]&gt; | State for controlling the modal's visibility |
| handlePopUpToggle | function | Function to toggle the modal's visibility |
| completeInviteLinks | Array&lt;{email: string; link: string}&gt; \| null | Array of invite links or null |
| setCompleteInviteLinks | function | Function to set the invite links |

#### Internal Logic
1. Uses React Hook Form to manage form state and validation.
2. Fetches organization roles, server status, and user workspaces using custom hooks.
3. Handles form submission by calling the `addUsersMutateAsync` function.
4. Renders either a form for adding members or a list of invite links based on the `completeInviteLinks` state.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form management and validation |
| @fortawesome/free-solid-svg-icons | Icons for UI elements |
| @fortawesome/react-fontawesome | FontAwesome icon component |
| @hookform/resolvers/zod | Zod resolver for form validation |
| zod | Schema validation |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components |
| @app/context | Organization context |
| @app/hooks/api | Custom API hooks |
| @app/hooks/usePopUp | Custom hook for managing pop-up state |

## Error Handling
The component handles errors during the member addition process by catching exceptions and displaying error notifications using the `createNotification` function.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| addUsersToOrg | POST | { organizationId, inviteeEmails, organizationRoleSlug, projectIds, projectRoleSlug } | { completeInviteLinks } | Adds users to the organization |

## TODOs
- There is a commented-out eslint-disable rule for no-nested-ternary, which might indicate a potential area for improvement in the code structure.