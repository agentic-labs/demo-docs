---
title: "OrgGroupsSection.tsx"
---

## High-level description
This code defines the `OrgGroupsSection` component, which renders a section for managing user groups in an organization. It includes functionality for creating, viewing, and deleting groups, as well as managing group members. The component also handles permission checks and plan upgrade prompts.

## Code Structure
The `OrgGroupsSection` component is the main export. It uses several custom hooks and components to manage state and render different parts of the UI. The component renders a table of groups and various modals for different actions.

## Symbols

### OrgGroupsSection
#### Description
This is the main component that renders the user groups section. It manages the state for various pop-ups and handles group-related actions.

#### Inputs
This component doesn't take any props.

#### Internal Logic
1. Uses the `useSubscription` hook to get the current subscription.
2. Uses the `useDeleteGroup` hook to get the delete group mutation function.
3. Uses the `usePopUp` hook to manage the state of various pop-ups.
4. Defines handlers for opening pop-ups and deleting groups.
5. Renders a section with a title, create group button, groups table, and various modals.

#### Performance Considerations
The component uses React hooks for state management, which should provide good performance for most use cases. However, if the number of groups becomes very large, the `OrgGroupsTable` component might need optimization.

### handleAddGroupModal
#### Description
This function handles the logic for opening the add group modal or the upgrade plan modal based on the current subscription.

#### Internal Logic
1. Checks if the current subscription includes groups.
2. If groups are not included, opens the upgrade plan modal.
3. If groups are included, opens the group creation modal.

### onDeleteGroupSubmit
#### Description
This async function handles the submission of a group deletion request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| { name, slug } | Object | An object containing the name and slug of the group to be deleted |

#### Internal Logic
1. Calls the `deleteMutateAsync` function with the group slug.
2. Creates a success notification if the deletion is successful.
3. Creates an error notification if the deletion fails.
4. Closes the delete group modal.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the UI |
| @fortawesome/react-fontawesome | Renders Font Awesome icons in React |
| @app/components/notifications | Provides notification functionality |
| @app/components/permissions | Provides permission-related components |
| @app/components/v2 | Provides various UI components |
| @app/context | Provides context-related hooks and utilities |
| @app/hooks/api | Provides API-related hooks |
| @app/hooks/usePopUp | Provides a hook for managing pop-up state |

## Error Handling
The component uses try-catch blocks to handle errors in asynchronous operations, such as deleting a group. Errors are logged to the console and displayed to the user via notifications.

## API/Interface Reference
This component doesn't expose an API directly, but it interacts with the following APIs:
- `useDeleteGroup`: Used to delete a group
- `createNotification`: Used to display notifications to the user

## TODOs
There are no explicit TODOs in this code.