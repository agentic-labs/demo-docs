---
title: "OrgGroupsTable.tsx"
---

## High-level description
This code defines a React component called `OrgGroupsTable` that renders a table of organization groups. It provides functionality for searching groups, displaying group details, and managing group roles and actions. The component uses various UI components and hooks for data fetching and state management.

## Code Structure
The main component `OrgGroupsTable` uses several hooks and sub-components to render the table and handle user interactions. It fetches organization groups and roles data, and provides functionality for updating group roles and opening various pop-ups for group management.

## Symbols

### OrgGroupsTable
#### Description
A React functional component that renders a table of organization groups with search functionality and group management options.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handlePopUpOpen | function | A function to open various pop-ups for group management |

#### Internal Logic
1. Fetches organization groups and roles data using custom hooks.
2. Implements a search filter for groups.
3. Renders a table with group details (name, slug, role).
4. Provides a dropdown menu for each group with options to manage users, edit group, and delete group.
5. Implements role change functionality for groups.

#### Performance Considerations
The component uses React hooks for efficient data fetching and state management. The search filter is implemented using local state, which may need optimization for large datasets.

### handleChangeRole
#### Description
An asynchronous function that updates a group's role.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| currentSlug | string | The current slug of the group |
| role | string | The new role to be assigned |

#### Internal Logic
1. Calls the `updateMutateAsync` function to update the group's role.
2. Creates a success notification if the update is successful.
3. Creates an error notification and logs the error if the update fails.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| @fortawesome/free-solid-svg-icons | Icons for UI elements |
| @fortawesome/react-fontawesome | FontAwesome icon component |
| tailwind-merge | Utility for merging Tailwind CSS classes |
| @app/components/notifications | Notification creation utility |
| @app/components/permissions | Permission checking component |
| @app/components/v2 | Various UI components |
| @app/context | Organization context and permission constants |
| @app/hooks/api | Custom hooks for API calls |
| @app/hooks/usePopUp | Custom hook for managing pop-up states |

## Error Handling
The component implements basic error handling for the role update functionality, logging errors to the console and displaying error notifications to the user.

## API/Interface Reference
The component doesn't explicitly define an API but interacts with the following endpoints through custom hooks:
- `useGetOrganizationGroups`: Fetches organization groups
- `useGetOrgRoles`: Fetches organization roles
- `useUpdateGroup`: Updates a group's role