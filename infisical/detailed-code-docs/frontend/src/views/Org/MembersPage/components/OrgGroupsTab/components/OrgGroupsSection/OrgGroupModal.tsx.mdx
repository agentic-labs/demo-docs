---
title: "OrgGroupModal.tsx"
---

## High-level description
This code defines a React component called `OrgGroupModal` that provides a modal interface for creating or updating organization groups. It uses React Hook Form for form management and Zod for form validation. The component interacts with API hooks for creating and updating groups, and it manages the modal's state through props.

## Code Structure
The main component `OrgGroupModal` uses several hooks and components to manage its state and render the form. It relies on the `useForm` hook for form management, custom API hooks for data operations, and various UI components from a custom component library.

## Symbols

### OrgGroupModal
#### Description
A React component that renders a modal for creating or updating organization groups.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["group"]&gt; | State object for managing the modal's visibility and data |
| handlePopUpClose | function | Function to close the modal |
| handlePopUpToggle | function | Function to toggle the modal's visibility |

#### Internal Logic
1. Uses `useForm` hook to manage form state and validation.
2. Utilizes custom hooks (`useCreateGroup`, `useUpdateGroup`, `useGetOrgRoles`) for API operations.
3. Implements `useEffect` to reset form data when the modal opens or roles data changes.
4. Defines `onGroupModalSubmit` function to handle form submission, which creates or updates a group based on the modal's state.
5. Renders a form with input fields for group name, slug, and role selection.

### GroupFormSchema
#### Description
A Zod schema that defines the structure and validation rules for the group form data.

#### Internal Logic
Defines validation rules for:
- `name`: String, 1-50 characters
- `slug`: String, 5-36 characters
- `role`: String

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management and validation |
| @hookform/resolvers/zod | Zod resolver for react-hook-form |
| zod | Schema validation |
| @app/components/notifications | Custom notification component |
| @app/components/v2 | Custom UI components |
| @app/context | Organization context |
| @app/hooks/api | Custom API hooks |
| @app/hooks/usePopUp | Custom hook for managing pop-up state |

## Error Handling
The component uses try-catch blocks in the `onGroupModalSubmit` function to handle errors during group creation or update. It displays success or error notifications using the `createNotification` function.

## API/Interface Reference
The component interacts with the following API endpoints through custom hooks:
- `useCreateGroup`: Creates a new group
- `useUpdateGroup`: Updates an existing group
- `useGetOrgRoles`: Fetches organization roles

## Performance Considerations
The component uses `useEffect` to reset form data when necessary, which helps prevent unnecessary re-renders and ensures the form is in the correct state when opened.