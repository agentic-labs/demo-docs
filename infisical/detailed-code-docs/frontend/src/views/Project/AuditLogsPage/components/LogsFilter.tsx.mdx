---
title: "LogsFilter.tsx"
---

## High-level description
This code defines a React component called `LogsFilter` that provides a user interface for filtering audit logs. It includes filters for event type, actor, source, start date, and end date, along with a button to clear all filters.

## Code Structure
The `LogsFilter` component uses React Hook Form for form management and control. It utilizes various UI components from a custom component library and integrates with the workspace context and API hooks for data fetching.

## Symbols

### `LogsFilter`
#### Description
A React functional component that renders a filter interface for audit logs.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| control | Control&lt;AuditLogFilterFormData&gt; | React Hook Form control object |
| reset | UseFormReset&lt;AuditLogFilterFormData&gt; | Function to reset form values |

#### Internal Logic
1. Initializes state for date picker open/close status
2. Fetches actor filter options using `useGetAuditLogActorFilterOpts` hook
3. Renders form controls for event type, actor, source, start date, and end date using React Hook Form's `Controller`
4. Implements a custom render function for actor select items based on actor type
5. Provides a "Clear filters" button to reset all form values

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management |
| @fortawesome/free-solid-svg-icons | Icon for clear filters button |
| @fortawesome/react-fontawesome | FontAwesome icon component |
| @app/components/v2 | Custom UI components |
| @app/context | Workspace context |
| @app/hooks/api | API hooks for fetching data |
| @app/hooks/api/auditLogs/constants | Constants for event and user agent types |
| @app/hooks/api/auditLogs/enums | Enums for actor types |
| @app/hooks/api/auditLogs/types | Type definitions |

## Configuration
The component uses predefined options for event types and user agent types:
| Option | Type | Description |
|:-------|:-----|:------------|
| eventTypes | Array | List of event types and their labels |
| userAgentTypes | Array | List of user agent types and their labels |

## Performance Considerations
The component fetches actor filter options using the `useGetAuditLogActorFilterOpts` hook, which may impact performance if the data is large or the API is slow. The fetch is dependent on the current workspace ID.

## TODOs
- Consider implementing pagination or virtualization if the number of actor options becomes large.
- Evaluate the need for memoization of the `renderActorSelectItem` function if the component re-renders frequently.
- Consider adding error handling for the API call to fetch actor filter options.