---
title: "PkiCollectionModal.tsx"
---

## High-level description
This code defines a React component called `PkiCollectionModal` that renders a modal for creating or editing a PKI (Public Key Infrastructure) collection. It uses React Hook Form for form management and validation, and integrates with API hooks for creating and updating PKI collections.

## Code Structure
The main component `PkiCollectionModal` uses several hooks and components:
- `useForm` from react-hook-form for form management
- `useRouter` from Next.js for routing
- `useWorkspace` for accessing the current workspace
- API hooks for fetching, creating, and updating PKI collections
- Various UI components from a custom component library

## Symbols

### PkiCollectionModal
#### Description
A React component that renders a modal for creating or editing a PKI collection.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["pkiCollection"]&gt; | State of the popup |
| handlePopUpToggle | function | Function to toggle the popup state |

#### Internal Logic
1. Initializes form using `useForm` with zod schema validation
2. Fetches existing PKI collection data if editing
3. Handles form submission, creating or updating the PKI collection
4. Renders form fields for name and description
5. Displays success or error notifications after form submission

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form management and validation |
| @hookform/resolvers/zod | Zod schema resolver for react-hook-form |
| zod | Schema validation |
| next/router | Routing in Next.js applications |
| @app/components/notifications | Displaying notifications |
| @app/components/v2 | UI components |
| @app/context | Workspace context |
| @app/hooks/api | API hooks for PKI collections |
| @app/hooks/usePopUp | Custom hook for managing popups |

## Error Handling
The component uses try-catch block in the form submission handler to catch and log errors. It also displays error notifications using the `createNotification` function.

## API/Interface Reference
| Function | Description |
|:---------|:------------|
| createPkiCollection | Creates a new PKI collection |
| updatePkiCollection | Updates an existing PKI collection |
| useGetPkiCollectionById | Fetches a PKI collection by ID |

This component provides a user interface for creating and editing PKI collections, integrating with the application's API and state management system.