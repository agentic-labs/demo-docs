---
title: "CertificateTemplatesSection.tsx"
---

## High-level description
This code defines a React component called `CertificateTemplatesSection` that manages the display and interaction with certificate templates in a project. It includes functionality for creating, viewing, and deleting certificate templates, as well as managing enrollment options.

## Code Structure
The main `CertificateTemplatesSection` component uses several custom hooks and sub-components to handle different aspects of the UI and functionality. It manages pop-up states for various modals and interacts with the workspace context and API hooks for data management.

## Symbols

### CertificateTemplatesSection
#### Description
This is the main functional component that renders the certificate templates section of the project view.

#### Internal Logic
1. Uses the `usePopUp` hook to manage the state of various pop-ups/modals.
2. Retrieves the current workspace using the `useWorkspace` hook.
3. Uses the `useDeleteCertTemplate` hook to get the delete mutation function.
4. Defines an `onRemoveCertificateTemplateSubmit` function to handle template deletion.
5. Renders a section with a title, create button (with permission check), and a table of certificate templates.
6. Includes modals for creating/editing templates, managing enrollment options, and confirming deletion.

#### Side Effects
- Creates notifications on successful or failed template deletion.
- Mutates the certificate template data when deleting a template.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the UI |
| @fortawesome/react-fontawesome | Renders Font Awesome icons in React |
| @app/components/notifications | Handles notification creation |
| @app/components/permissions | Provides permission-based rendering |
| @app/components/v2 | Provides UI components like Button and DeleteActionModal |
| @app/context | Provides workspace context and permission constants |
| @app/hooks | Provides custom hooks like usePopUp |
| @app/hooks/api | Provides API-related hooks like useDeleteCertTemplate |

## Error Handling
The component includes basic error handling in the `onRemoveCertificateTemplateSubmit` function:
- Catches errors during template deletion
- Logs the error to the console
- Creates an error notification for the user

## Logging
The component logs errors to the console when certificate template deletion fails.

## API/Interface Reference
The component interacts with the API through the `useDeleteCertTemplate` hook, which is used to delete certificate templates.

| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| (not specified in the code) | DELETE | { id: string, projectId: string } | (not specified) | Deletes a certificate template |

## Performance Considerations
The component uses React hooks for state management and API interactions, which generally provide good performance. However, the specific performance characteristics would depend on the implementation of the custom hooks and sub-components used.