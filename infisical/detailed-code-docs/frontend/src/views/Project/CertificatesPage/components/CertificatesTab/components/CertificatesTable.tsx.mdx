---
title: "CertificatesTable.tsx"
---

## High-level description
This code defines a React component called `CertificatesTable` that displays a table of certificates for a workspace. It includes functionality for pagination, filtering, and various actions on certificates such as exporting, viewing details, revoking, and deleting.

## Code Structure
The main component `CertificatesTable` uses several hooks and sub-components to manage state and render the table. It interacts with the API using the `useListWorkspaceCertificates` hook and handles user interactions through the `handlePopUpOpen` function passed as a prop.

## Symbols

### CertificatesTable
#### Description
The main component that renders a table of certificates with pagination and action options.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handlePopUpOpen | function | Callback to open various pop-ups for certificate actions |

#### Internal Logic
1. Uses `useState` to manage pagination state (page and perPage).
2. Fetches workspace data using `useWorkspace` hook.
3. Fetches certificate data using `useListWorkspaceCertificates` hook.
4. Renders a table with columns for Friendly Name, Status, Not Before, and Not After dates.
5. Implements a dropdown menu for each certificate with actions like Export, View Details, Revoke, and Delete.
6. Uses `ProjectPermissionCan` to handle permission checks for different actions.
7. Implements pagination using the `Pagination` component when there are enough certificates.
8. Shows an empty state when no certificates are present.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| @fortawesome/free-solid-svg-icons | Icons for the UI |
| @fortawesome/react-fontawesome | FontAwesome component for React |
| date-fns | Date formatting |
| tailwind-merge | Utility for merging Tailwind CSS classes |
| @app/components/permissions | Custom permission component |
| @app/components/v2 | Various UI components |
| @app/context | Workspace and permission context |
| @app/hooks/api | API hooks for fetching data |
| @app/hooks/usePopUp | Hook for managing pop-up state |

## Error Handling
The component doesn't implement explicit error handling. It relies on the error handling mechanisms of the hooks it uses, particularly `useListWorkspaceCertificates`.

## Performance Considerations
1. The component uses pagination to limit the number of certificates loaded and displayed at once.
2. It uses the `useListWorkspaceCertificates` hook which likely implements caching and optimized data fetching.

This component is part of a larger application for managing certificates and workspaces. It provides a user interface for viewing and managing certificates within a specific workspace context.