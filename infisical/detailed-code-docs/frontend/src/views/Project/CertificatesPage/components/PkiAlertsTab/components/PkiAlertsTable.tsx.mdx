---
title: "PkiAlertsTable.tsx"
---

## High-level description
This code defines a React component called `PkiAlertsTable` that renders a table of PKI (Public Key Infrastructure) alerts for a workspace. It fetches alert data using a custom hook, displays the alerts in a table format, and provides functionality to open pop-ups for each alert.

## Code Structure
The main component `PkiAlertsTable` uses several imported components from the application's component library and custom hooks. It renders a table structure with headers and rows, where each row represents a PKI alert. The component also handles loading states and empty states.

## Symbols

### `PkiAlertsTable`
#### Description
This is the main functional component that renders the PKI alerts table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handlePopUpOpen | function | A function to handle opening pop-ups for alerts |

#### Internal Logic
1. Retrieves the current workspace using the `useWorkspace` hook.
2. Fetches PKI alerts data using the `useListWorkspacePkiAlerts` hook.
3. Renders a table structure with headers for Alert Name, Alert Before Days, Certificate Collection, and an empty column for actions.
4. Displays a loading skeleton while data is being fetched.
5. Maps through the fetched alerts and renders a `PkiAlertRow` for each alert.
6. Shows an empty state message if no alerts are found.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the component |
| @app/components/v2 | Provides reusable UI components |
| @app/context | Provides access to workspace context |
| @app/hooks/api | Provides custom hooks for API calls |
| @app/hooks/usePopUp | Provides types for pop-up state management |

## References
- `PkiAlertRow`: A component used to render individual rows in the table (not provided in the given code snippets).
- `useWorkspace`: A custom hook to access the current workspace information.
- `useListWorkspacePkiAlerts`: A custom hook to fetch PKI alerts for a workspace.

## Notes
- The component uses a table structure from a custom component library (`@app/components/v2`).
- It implements loading states using a `TableSkeleton` component.
- An empty state is displayed when there are no alerts to show.
- The component is designed to work within a workspace context, using the current workspace ID to fetch relevant alerts.

This component serves as a central part of the PKI Alerts management interface, providing a clear and organized view of all PKI alerts associated with a workspace.