---
title: "PkiCollectionTable.tsx"
---

## High-level description
This code defines a React component called `PkiCollectionTable` that displays a table of PKI (Public Key Infrastructure) collections. It allows users to view, edit, and delete collections based on their permissions, and provides navigation to individual collection pages.

## Code Structure
The main component `PkiCollectionTable` uses various UI components and hooks to fetch and display PKI collections. It also handles user interactions like editing and deleting collections.

## Symbols

### PkiCollectionTable
#### Description
A React functional component that renders a table of PKI collections with options to view, edit, and delete collections.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| handlePopUpOpen | function | A function to open pop-ups for editing or deleting collections |

#### Internal Logic
1. Fetches the current workspace and project ID.
2. Uses `useListWorkspacePkiCollections` hook to fetch PKI collections data.
3. Renders a table with columns for Name, Description, and Actions.
4. Maps over the fetched collections to create table rows.
5. Implements click handlers for row navigation and dropdown menu actions.
6. Uses `ProjectPermissionCan` component to conditionally render edit and delete options based on user permissions.
7. Displays a loading skeleton while data is being fetched.
8. Shows an empty state when no collections are available.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| next/router | For navigation between pages |
| @fortawesome/free-solid-svg-icons | For icons used in the component |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| tailwind-merge | For merging Tailwind CSS classes |
| @app/components/permissions | For handling permission-based rendering |
| @app/components/v2 | For various UI components used in the table |
| @app/context | For workspace and permission-related context |
| @app/hooks/api | For fetching PKI collections data |
| @app/hooks/usePopUp | For managing pop-up states |

## Error Handling
The component doesn't implement explicit error handling. It relies on the `useListWorkspacePkiCollections` hook for data fetching and assumes it handles errors internally.

## Performance Considerations
The component uses conditional rendering to optimize the display of loading states and empty states. It also leverages the `key` prop in the map function for efficient list rendering.