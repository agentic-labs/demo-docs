---
title: "CertificatesSection.tsx"
---

## High-level description
This code defines a React component called `CertificatesSection` that manages and displays certificates in a project. It includes functionality for issuing, viewing, revoking, and deleting certificates, with appropriate permissions checks and error handling.

## Code Structure
The `CertificatesSection` component is the main container for certificate-related functionality. It uses several sub-components and hooks to manage state, handle user interactions, and perform API calls.

## Symbols

### CertificatesSection
#### Description
A React functional component that renders the certificates section of a project page. It includes a table of certificates and buttons for various certificate-related actions.

#### Internal Logic
1. Initializes hooks for workspace context and certificate deletion.
2. Sets up a popup management system for various modals.
3. Defines a function to handle certificate deletion.
4. Renders a section with a title, an "Issue" button (with permission check), and a table of certificates.
5. Renders various modals for certificate-related actions.

#### Side Effects
- Makes API calls to delete certificates.
- Creates notifications for successful or failed certificate deletions.

### onRemoveCertificateSubmit
#### Description
An asynchronous function that handles the deletion of a certificate.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| serialNumber | string | The serial number of the certificate to be deleted |

#### Internal Logic
1. Checks if the current workspace slug exists.
2. Calls the `deleteCert` API function with the serial number and project slug.
3. Creates a success notification if the deletion is successful.
4. Closes the delete certificate popup.
5. Catches and logs any errors, creating an error notification if the deletion fails.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the UI |
| @fortawesome/react-fontawesome | Allows usage of FontAwesome icons in React |
| @app/components/notifications | Provides notification functionality |
| @app/components/permissions | Handles permission checks |
| @app/components/v2 | Provides UI components |
| @app/context | Provides workspace context and permission constants |
| @app/hooks/api | Provides API hooks for certificate operations |
| @app/hooks/usePopUp | Manages popup state |

## Error Handling
The code implements try-catch error handling in the `onRemoveCertificateSubmit` function. Errors are logged to the console and displayed to the user via notifications.

## API/Interface Reference
The component interacts with the following API:
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| deleteCert | DELETE | Deletes a certificate based on serial number and project slug |

Note: The exact API endpoint is not visible in this code snippet, as it's abstracted by the `useDeleteCert` hook.