---
title: "Overview"
---

## High-level description
This directory contains the implementation of the PKI Collection Page, a React-based user interface for managing Public Key Infrastructure (PKI) collections within a project. The main component, `PkiCollectionPage`, along with its supporting components, provides functionality for viewing, editing, and deleting PKI collections, as well as managing their associated items (Certificate Authorities and Certificates).

## What does it do?
The PKI Collection Page allows users to:
1. View details of a specific PKI collection, including its ID, name, and description.
2. Edit the collection's details, subject to user permissions.
3. Delete the entire PKI collection.
4. View a paginated table of items (CAs and certificates) associated with the collection.
5. Add new Certificate Authorities or Certificates to the collection.
6. Remove existing items from the collection.

The interface adapts based on user permissions, showing or hiding certain actions accordingly. It also provides a user-friendly experience with features like copy-to-clipboard functionality for the collection ID, modals for adding and removing items, and proper error handling and notifications for various operations.

## Key Files
1. `PkiCollectionPage.tsx`: The main component that orchestrates the entire PKI Collection Page. It handles data fetching, state management, and renders the overall page structure.

2. `components/PkiCollectionDetailsSection.tsx`: Displays and manages the details of a PKI collection, including ID, name, and description. It also provides editing functionality.

3. `components/PkiCollectionItemsSection.tsx`: Manages the display and interaction with the collection's items (CAs and certificates). It includes functionality for adding and removing items.

4. `components/PkiCollectionItemsTable.tsx`: Renders a paginated table of PKI collection items, displaying relevant information and handling user interactions.

5. `components/AddPkiCollectionItemModal.tsx`: Provides a modal interface for adding new items to the PKI collection, with form validation and submission handling.

## Dependencies
The PKI Collection Page relies on several external libraries and internal modules:

1. React and related hooks
2. next/router: For routing and navigation
3. react-hook-form: For form state management in modals and edit forms
4. zod: For schema validation in forms
5. @fortawesome/react-fontawesome and @fortawesome/free-solid-svg-icons: For icons
6. date-fns: For date formatting in the items table
7. tailwind-merge: For merging Tailwind CSS classes
8. Custom components and hooks from the application:
   - @app/components/*: Various UI components
   - @app/context: For workspace and permission context
   - @app/hoc: For higher-order components (e.g., withProjectPermission)
   - @app/hooks/api: For API-related hooks
   - @app/hooks/usePopUp: For managing popups and modals

## Configuration
While there are no explicit configuration files, the components use various props and hooks to configure their behavior:

1. `collectionId`: Used across components to identify the specific PKI collection being managed.
2. `type`: Determines whether a component is dealing with Certificate Authorities or Certificates.
3. API hooks (e.g., `useGetPkiCollectionById`, `useDeletePkiCollection`): Used for data fetching and mutations.
4. Permission contexts: Used to control access to certain features based on user permissions.

The components also rely on API hooks and contexts for fetching and managing data, which may have their own configuration settings elsewhere in the application.

In summary, the PKI Collection Page provides a comprehensive interface for managing PKI collections within a project. It offers a range of functionalities while considering user permissions and providing a responsive, user-friendly interface. The modular structure of the components allows for easy maintenance and potential reuse in other parts of the application.