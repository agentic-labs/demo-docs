---
title: "Overview"
---

## High-level description
This directory contains React components for managing and displaying PKI (Public Key Infrastructure) collections within a project. The components handle various aspects of PKI collection management, including displaying collection details, managing collection items (both Certificate Authorities and Certificates), and providing user interfaces for adding and removing items from collections.

## What does it do?
The components in this directory work together to create a user interface for managing PKI collections. Here's a breakdown of the main functionalities:

1. Display PKI collection details: Shows information such as the collection's ID, name, and description.
2. Manage PKI collection items: Allows users to view, add, and remove Certificate Authorities (CAs) and Certificates from a collection.
3. Render a table of PKI collection items: Displays a paginated table of items with relevant information like friendly names and validity dates.
4. Handle user permissions: Implements permission-based rendering for certain actions like editing collection details or deleting items.
5. Provide modals for adding and removing items: Offers user-friendly interfaces for modifying the collection's contents.

## Key Files

1. `AddPkiCollectionItemModal.tsx`: Renders a modal for adding either a Certificate Authority or a Certificate to a PKI collection. It uses React Hook Form for form management and Zod for schema validation.

2. `PkiCollectionDetailsSection.tsx`: Displays the details of a PKI collection, including its ID, name, and description. It also provides functionality to copy the ID and edit the collection details, subject to user permissions.

3. `PkiCollectionItemsSection.tsx`: Manages and displays a section of PKI collection items. It allows users to view, add, and remove items from a PKI collection, with different handling for Certificate Authorities and Certificates.

4. `PkiCollectionItemsTable.tsx`: Renders a table of PKI collection items with pagination, loading states, and conditional rendering based on user permissions.

5. `index.tsx`: Serves as an entry point for the components, exporting `PkiCollectionDetailsSection` and `PkiCollectionItemsSection` for use in other parts of the application.

## Dependencies
The components in this directory rely on several external libraries and internal modules:

1. React and related hooks
2. react-hook-form: For form state management
3. zod: For schema validation
4. @fortawesome/react-fontawesome and @fortawesome/free-solid-svg-icons: For icons
5. date-fns: For date formatting
6. Custom hooks and components from the application:
   - @app/components/v2: For UI components
   - @app/components/permissions: For permission-based rendering
   - @app/context: For workspace and permission-related contexts
   - @app/hooks/api: For API interactions
   - @app/hooks/usePopUp: For managing modal states

## Configuration
While there are no explicit configuration files in this directory, the components use various props and hooks to configure their behavior:

1. `collectionId`: Used across components to identify the specific PKI collection being managed.
2. `type`: Determines whether the component is dealing with Certificate Authorities or Certificates.
3. `handlePopUpOpen` and `handlePopUpToggle`: Functions passed to components for managing modal visibility.

The components also rely on API hooks and contexts for fetching and managing data, which may have their own configuration settings elsewhere in the application.

In summary, this directory contains a set of interconnected React components that work together to provide a comprehensive interface for managing PKI collections within a project. The components handle various aspects of PKI management, from displaying collection details to managing individual items, while also considering user permissions and providing a responsive user interface.