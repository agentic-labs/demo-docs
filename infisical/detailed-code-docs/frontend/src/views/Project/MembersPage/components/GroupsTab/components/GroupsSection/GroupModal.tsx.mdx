---
title: "GroupModal.tsx"
---

## High-level description
The `GroupModal` component is a React component that provides a modal interface for adding groups to a workspace (project) in an organization. It allows users to select a group and assign a role to it within the project, handling form submission and displaying appropriate notifications.

## Code Structure
The main component `GroupModal` uses React hooks and external libraries to manage form state, API calls, and UI components. It interacts with the application's context to access organization and workspace data, and uses custom hooks for API operations.

## Symbols

### `GroupModal`
#### Description
A functional component that renders a modal for adding groups to a workspace. It manages the form state, handles group selection and role assignment, and submits the data to add a group to the workspace.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["group"]&gt; | State object for controlling the modal's visibility |
| handlePopUpToggle | function | Function to toggle the modal's visibility |

#### Internal Logic
1. Retrieves organization and workspace data from context.
2. Fetches groups, group memberships, and project roles using custom hooks.
3. Filters out groups that are already members of the workspace.
4. Uses `react-hook-form` to manage form state and validation.
5. Handles form submission, adding the selected group to the workspace.
6. Displays appropriate notifications on success or failure.
7. Renders a form with group and role selection, or a message if all groups are already added.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management and validation |
| next/link | Next.js link component for navigation |
| @hookform/resolvers/zod | Zod resolver for react-hook-form |
| zod | Schema validation library |
| @app/components/* | Custom UI components |
| @app/context | Application context providers |
| @app/hooks/api | Custom API hooks |

## Error Handling
The component uses try-catch blocks to handle errors during form submission. It displays error notifications using the `createNotification` function.

## API/Interface Reference
| Hook | Purpose |
|:-----|:--------|
| useGetOrganizationGroups | Fetches organization groups |
| useListWorkspaceGroups | Fetches workspace group memberships |
| useGetProjectRoles | Fetches project roles |
| useAddGroupToWorkspace | Adds a group to the workspace |

The component interacts with these API hooks to fetch and manipulate data related to groups and workspaces.