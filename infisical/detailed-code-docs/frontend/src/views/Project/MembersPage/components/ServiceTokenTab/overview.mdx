---
title: "Overview"
---

## High-level description
This directory contains components for managing service tokens within a project or workspace. The main component is `ServiceTokenTab`, which serves as a container for the service token management interface. It includes sub-components for displaying tokens in a table format, creating new tokens, and handling token deletion.

## What does it do?
The code in this directory implements a user interface for managing service tokens, which are likely used for authentication or authorization purposes within the application. The main functionalities include:

1. Displaying existing service tokens in a table format, showing details such as token name, environment, secret path, and expiration date.
2. Creating new service tokens through a form, allowing users to specify details like token name, expiration, and scope (environment and secret path).
3. Deleting existing service tokens, with a confirmation modal to prevent accidental deletions.
4. Implementing permission-based access control to ensure users have appropriate rights to view, create, or delete tokens.
5. Supporting internationalization for multiple language interfaces.

The `ServiceTokenTab` component wraps these functionalities in an animated container, providing smooth transitions when the tab is displayed or hidden.

## Entry points
The main entry point is the `ServiceTokenTab` component, exported from the `index.tsx` file. This component serves as the container for the entire service token management interface. It uses Framer Motion for animations and includes the `ServiceTokenSection` component, which orchestrates the token management functionality.

The data flow typically starts with fetching existing tokens when the component mounts. User interactions then trigger actions such as opening modals for creating or deleting tokens, which in turn may update the token list.

## Key Files
1. `ServiceTokenTab.tsx`: The main container component that provides animation and structure for the service token interface.
2. `components/ServiceTokenSection.tsx`: The core component that brings together all the service token management functionality.
3. `components/ServiceTokenTable.tsx`: Responsible for displaying the list of existing service tokens in a tabular format.
4. `components/AddServiceTokenModal.tsx`: Handles the creation of new service tokens through a modal interface.

## Dependencies
The code relies on several external libraries and internal modules:

1. React and related libraries:
   - react-hook-form: For managing form state and validation
   - @hookform/resolvers/yup and yup: For form schema validation
   - react-i18next: For internationalization

2. UI libraries:
   - framer-motion: Used for animating the component's entry and exit
   - @fortawesome/react-fontawesome and @fortawesome/free-solid-svg-icons: For icons
   - Custom UI components from `@app/components/v2`

3. Internal modules:
   - @app/hooks: Custom React hooks for API calls and state management
   - @app/context: For accessing workspace and permission-related context
   - @app/components/permissions: For permission-based rendering
   - @app/components/notifications: For displaying notifications

4. Cryptographic functions: Used for encrypting and decrypting keys when creating new service tokens

## Configuration
The code doesn't explicitly use configuration files, but it does rely on environment-specific settings and permissions:

1. API endpoints: The code interacts with API endpoints for creating, fetching, and deleting service tokens. These endpoints are likely configured elsewhere in the application.

2. Permissions: The components use permission checks to control access to certain features. The specific permission requirements are defined within the components.

3. Token expiry options: The `AddServiceTokenModal` component defines a set of token expiry options, which could potentially be configured externally for easier maintenance.

4. Deprecation notice: There's a commented-out section in the `ServiceTokenTab` component that includes a deprecation notice. This suggests that service tokens might be planned for deprecation in favor of Machine Identities, but the notice is not currently being displayed.

In summary, this directory provides a comprehensive set of components for managing service tokens within a project or workspace. It handles the display, creation, and deletion of tokens while considering user permissions and providing a user-friendly interface with smooth animations.