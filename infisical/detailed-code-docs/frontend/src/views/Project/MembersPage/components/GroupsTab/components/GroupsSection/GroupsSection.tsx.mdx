---
title: "GroupsSection.tsx"
---

## High-level description
This code defines a React component called `GroupsSection` that manages and displays user groups in a project. It provides functionality to add, view, and delete groups, with appropriate permissions checks and plan-based restrictions.

## Code Structure
The `GroupsSection` component uses several hooks and sub-components to manage its state and render its UI. It interacts with the application's context (subscription and workspace) and uses custom hooks for API calls and UI state management.

## Symbols

### GroupsSection
#### Description
This is the main component that renders the user groups section of the project members page.

#### Internal Logic
1. It uses hooks to access subscription and workspace data.
2. It sets up a popup management system using `usePopUp` hook.
3. It defines handlers for adding groups and removing groups.
4. It renders a section with a title, an "Add Group" button, and sub-components for displaying and managing groups.

#### Side Effects
- Makes API calls to delete groups from the workspace.
- Creates notifications for successful or failed group removal.

### handleAddGroupModal
#### Description
This function handles the logic for opening the add group modal.

#### Internal Logic
- Checks if the subscription includes groups.
- If groups are not included, it opens an upgrade plan modal.
- If groups are included, it opens the group addition modal.

### onRemoveGroupSubmit
#### Description
This async function handles the removal of a group from the project.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| groupSlug | string | The slug of the group to be removed |

#### Internal Logic
1. Calls the `deleteMutateAsync` function to remove the group.
2. Creates a success notification if the removal is successful.
3. Closes the delete confirmation modal.
4. Creates an error notification if the removal fails.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | For icon usage |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| @app/components/notifications | For creating notifications |
| @app/components/permissions | For permission checks |
| @app/components/v2 | For UI components |
| @app/context | For accessing application context |
| @app/hooks | For custom hooks |
| @app/hooks/api | For API-related hooks |

## Error Handling
The component implements error handling in the `onRemoveGroupSubmit` function, catching any errors during the group removal process and displaying an error notification to the user.

## References
The component references several other components and hooks:
- `GroupModal`
- `GroupTable`
- `DeleteActionModal`
- `UpgradePlanModal`
- `useSubscription`
- `useWorkspace`
- `usePopUp`
- `useDeleteGroupFromWorkspace`

These references are crucial for understanding the full functionality of the `GroupsSection` component.