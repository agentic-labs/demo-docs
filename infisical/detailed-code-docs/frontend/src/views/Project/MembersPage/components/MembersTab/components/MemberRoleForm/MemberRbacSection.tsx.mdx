---
title: "MemberRbacSection.tsx"
---

## High-level description
This code defines a React component called `MemberRbacSection` that allows users to manage roles and temporary access for project members. It provides a form for selecting roles, setting temporary access, and updating member roles within a project.

## Code Structure
The main component `MemberRbacSection` uses React Hook Form for form management and various UI components from a custom component library. It interacts with API hooks for fetching project roles and updating user workspace roles.

## Symbols

### MemberRbacSection
#### Description
A React component that renders a form for managing project member roles and temporary access.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| projectMember | TWorkspaceUser | The project member whose roles are being managed |
| onOpenUpgradeModal | (title: string) =&gt; void | Function to open an upgrade modal |

#### Internal Logic
1. Fetches project roles using `useGetProjectRoles` hook
2. Sets up a form using `useForm` and `useFieldArray` from react-hook-form
3. Renders a list of selected roles with options for temporary access
4. Handles role updates and temporary access changes
5. Submits updated roles to the server using `useUpdateUserWorkspaceRole` hook

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form management |
| @fortawesome/react-fontawesome | Icon components |
| @hookform/resolvers/zod | Form validation |
| date-fns | Date formatting |
| ms | Time string parsing |
| tailwind-merge | CSS class merging |
| zod | Schema validation |

## Error Handling
The component uses try-catch blocks to handle errors when updating roles. It displays error notifications using the `createNotification` function.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| updateUserWorkspaceRole | POST | { workspaceId, membershipId, roles } | - | Updates the roles for a project member |

## Performance Considerations
The component uses `useFieldArray` for efficient management of dynamic form fields. It also employs memoization techniques to optimize re-renders.

## TODOs
There are no explicit TODOs in the code.