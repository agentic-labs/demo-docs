---
title: "ProjectRoleList.tsx"
---

## High-level description
This code defines a React component called `ProjectRoleList` that displays a list of project roles, allows adding new roles, and provides options to edit or delete existing roles. It utilizes various hooks and components to manage state, handle API calls, and render the UI.

## Code Structure
The `ProjectRoleList` component uses several hooks and components:
- `useRouter` for navigation
- `usePopUp` for managing modal states
- `useWorkspace` for accessing workspace context
- `useGetProjectRoles` and `useDeleteProjectRole` for API interactions
- Various UI components from the `@app/components/v2` package
- `ProjectPermissionCan` for permission-based rendering

## Symbols

### ProjectRoleList
#### Description
The main component that renders the list of project roles and handles role management operations.

#### Internal Logic
1. Initializes state and hooks for managing popups, workspace context, and API calls.
2. Renders a table with project roles, including options to add, edit, and delete roles.
3. Implements role deletion functionality with confirmation modal.
4. Uses permission-based rendering for add, edit, and delete actions.

#### Side Effects
- Fetches project roles on component mount
- Updates the UI when roles are added, edited, or deleted
- Navigates to role edit page when a role is clicked

## Dependencies
- @fortawesome/free-solid-svg-icons
- @fortawesome/react-fontawesome
- tailwind-merge
- next/router
- Various custom components and hooks from the @app directory

## Error Handling
The component uses try-catch blocks for error handling in the `handleRoleDelete` function. Errors are logged to the console, and notifications are created to inform the user of success or failure.

## API/Interface Reference
The component interacts with the following API endpoints (indirectly through hooks):
- GET project roles
- DELETE project role

## Performance Considerations
The component uses React Query hooks (`useGetProjectRoles` and `useDeleteProjectRole`) which provide caching and automatic refetching, potentially improving performance and reducing unnecessary API calls.

This component is crucial for managing project roles and permissions within the application. It provides a user-friendly interface for administrators to view, add, edit, and delete roles, while ensuring proper permission checks are in place for each action.