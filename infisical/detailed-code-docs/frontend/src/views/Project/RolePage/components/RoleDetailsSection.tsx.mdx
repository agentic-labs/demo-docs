---
title: "RoleDetailsSection.tsx"
---

## High-level description
This code defines a React component called `RoleDetailsSection` that displays details of a project role. It includes functionality for copying the role ID, editing custom roles, and displaying various role attributes such as name, slug, and description.

## Code Structure
The main component `RoleDetailsSection` uses several custom hooks and components to fetch and display role data. It also includes conditional rendering based on role type and user permissions.

## References
- `ProjectPermissionCan` from "@app/components/permissions"
- `IconButton`, `Tooltip` from "@app/components/v2"
- `ProjectPermissionActions`, `ProjectPermissionSub`, `useWorkspace` from "@app/context"
- `useTimedReset` from "@app/hooks"
- `useGetProjectRoleBySlug` from "@app/hooks/api"

## Symbols

### RoleDetailsSection
#### Description
A React component that displays detailed information about a project role.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| roleSlug | string | The slug of the role to display |
| handlePopUpOpen | function | A function to handle opening popups |

#### Internal Logic
1. Fetches role data using `useGetProjectRoleBySlug` hook
2. Determines if the role is a custom role
3. Renders role details including ID, name, slug, and description
4. Provides functionality to copy role ID and edit custom roles (if permitted)

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the component |
| @fortawesome/react-fontawesome | Renders FontAwesome icons |

## Error Handling
The component handles the case when data is not available by rendering an empty div.

## Performance Considerations
The component uses the `useTimedReset` hook for managing the state of the "Copy ID" button, which automatically resets after a delay, improving user experience without unnecessary re-renders.

___

### `useTimedReset`
#### Description
A custom hook that manages a state value that automatically resets to its initial value after a specified delay.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| initialState | T (generic) | The initial state value |
| delay | number | The delay in milliseconds before resetting (default: 2000) |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| state | T | The current state value |
| isChanging | boolean | Whether the state is different from the initial state |
| setState | function | Function to update the state |

#### Internal Logic
Uses `useState` and `useEffect` to manage the state and reset timer. When the state changes from the initial value, a timer is set to reset it after the specified delay.

___

This component demonstrates good practices in React development, including the use of custom hooks, conditional rendering, and integration with permission systems. It provides a clear and interactive way to display and manage project role details.