---
title: "RolePermissionSecretFoldersRow.tsx"
---

## High-level description
This code defines a React component `RowPermissionSecretFoldersRow` that renders a table row for managing permissions related to secret folders in a project role management interface. It allows users to set permissions for secret folders to either be the same as secrets or read-only.

## Code Structure
The main component `RowPermissionSecretFoldersRow` uses React Hook Form for form management and custom UI components for rendering. It interacts with the form's state to display and update permissions for secret folders.

## Symbols

### `RowPermissionSecretFoldersRow`
#### Description
This component renders a table row for managing secret folder permissions. It provides a dropdown to select between "Same as Secrets" and "Read Only" permissions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isEditable | boolean | Determines if the permissions can be edited |
| setValue | UseFormSetValue&lt;TFormSchema&gt; | Function to update form values |
| control | Control&lt;TFormSchema&gt; | Form control object from react-hook-form |

#### Internal Logic
1. Uses `useWatch` to observe the current permission rule for secret folders.
2. Determines the selected permission category based on the current rule.
3. Handles permission changes by updating the form values accordingly.
4. Renders a table row with a Select component for choosing the permission.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management |
| @app/components/v2 | UI components (Select, SelectItem, Td, Tr) |
| @app/context | Project permission constants |

## References
- The component is used in the `RolePermissionsSection` component (from the related code snippet).
- It references the `TFormSchema` type, which is likely defined in a utility file for the project role modification section.

## Side Effects
The component updates the form state when the permission is changed, which may trigger re-renders or other effects in parent components that rely on the form state.

## Performance Considerations
The component uses `useWatch` from react-hook-form, which efficiently tracks form value changes without unnecessary re-renders.

This documentation provides a comprehensive overview of the `RowPermissionSecretFoldersRow` component, its functionality, and its role within the larger project role management interface.