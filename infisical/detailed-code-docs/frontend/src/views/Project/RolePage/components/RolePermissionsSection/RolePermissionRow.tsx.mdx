---
title: "RolePermissionRow.tsx"
---

## High-level description
This code defines a React component called `RolePermissionRow` that renders a row in a table for managing role permissions. It allows users to set and modify permissions for different actions (read, create, edit, delete) on various resources within a project management system.

## Code Structure
The code consists of a main component `RolePermissionRow` and several supporting constants and utility functions. The component uses React hooks and react-hook-form for state management and form handling.

## Symbols

### `RolePermissionRow`
#### Description
A React component that renders a row for managing role permissions. It displays a collapsible row with a dropdown for selecting permission levels and individual checkboxes for fine-grained control.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isEditable | boolean | Determines if the permissions can be edited |
| title | string | The title of the permission row |
| formName | string | The key for the permission in the form data |
| setValue | UseFormSetValue&lt;TFormSchema&gt; | Function to set form values |
| control | Control&lt;TFormSchema&gt; | Form control object from react-hook-form |

#### Internal Logic
1. Uses `useToggle` hook to manage row expansion and custom permission states.
2. Watches form values using `useWatch` hook.
3. Determines the selected permission category based on the current rule.
4. Handles permission changes by updating form values.
5. Renders a collapsible row with a dropdown for permission levels.
6. When expanded, renders checkboxes for individual permissions.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management |
| @fortawesome/free-solid-svg-icons | Icons for UI |
| @fortawesome/react-fontawesome | FontAwesome icon component |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components |
| @app/hooks | Custom hooks |
| @app/views/Project/RolePage/components/RolePermissionsSection/ProjectRoleModifySection.utils | Form schema type |

## Configuration
The component uses several constant arrays to define permissions for different resources:
- `GENERAL_PERMISSIONS`
- `WORKSPACE_PERMISSIONS`
- `MEMBERS_PERMISSIONS`
- `SECRET_ROLLBACK_PERMISSIONS`

These arrays define the available actions and labels for each permission type.

## Error Handling
The component includes basic error handling by showing an error notification when attempting to update a non-editable permission.

## Performance Considerations
The component uses `useMemo` to optimize the calculation of the selected permission category, preventing unnecessary re-renders.