---
title: "RolePage.tsx"
---

## High-level description
This code defines a React component called `RolePage` for managing project roles. It provides functionality to view, edit, and delete roles, as well as display role details and permissions. The component is wrapped with project permission checks to ensure proper access control.

## Code Structure
The `RolePage` component is the main symbol, which uses various hooks, components, and utility functions to render the role management interface. It interacts with API hooks for fetching and deleting roles, and uses the `usePopUp` hook for managing modal states.

## References
- `@app/components/notifications`
- `@app/components/permissions`
- `@app/components/v2`
- `@app/context`
- `@app/hoc`
- `@app/hooks/api`
- `@app/hooks/usePopUp`
- `./components`

## Symbols

### RolePage
#### Description
A React component that renders the project role management page. It displays role details, permissions, and provides options to edit or delete custom roles.

#### Inputs
This component doesn't explicitly define props, but it uses various hooks to access necessary data and functions.

#### Internal Logic
1. Fetches the current role data using `useGetProjectRoleBySlug`.
2. Manages pop-up states for role editing and deletion modals.
3. Handles role deletion through the `onDeleteRoleSubmit` function.
4. Renders the role details, permissions, and action buttons based on user permissions.

#### Side Effects
- Navigates to different routes using `router.push`.
- Creates notifications using `createNotification`.
- Deletes project roles using `deleteProjectRole`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| next/router | For routing and accessing URL parameters |
| @fortawesome/free-solid-svg-icons | For icon components |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| tailwind-merge | For merging Tailwind CSS classes |
| Various custom components and hooks | For UI elements, permissions, and API interactions |

## Error Handling
The component includes basic error handling in the `onDeleteRoleSubmit` function, where it catches errors, logs them to the console, and displays an error notification to the user.

## API/Interface Reference
The component interacts with the following API endpoints (through custom hooks):
| Endpoint | Method | Purpose |
|:---------|:-------|:--------|
| Get Project Role | GET | Fetches role details using `useGetProjectRoleBySlug` |
| Delete Project Role | DELETE | Deletes a role using `useDeleteProjectRole` |

## Performance Considerations
The component uses the `useGetProjectRoleBySlug` hook to fetch role data, which likely implements caching or memoization to optimize performance for repeated data fetches.