---
title: "SecretImportItem.tsx"
---

## High-level description
This code defines a React component called `SecretImportItem` that displays information about imported secrets in a project. It includes functionality for expanding/collapsing secret details, resyncing replicated secrets, and managing secret imports with drag-and-drop capabilities.

## Code Structure
The main component `SecretImportItem` uses several sub-components and hooks to manage its state and functionality. It also includes a separate `EnvFolderIcon` component for displaying environment and folder information.

## Symbols

### EnvFolderIcon
#### Description
A component that displays the environment and folder icon for a secret import.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| env | string | The environment slug |
| secretPath | string | The path of the secret |

#### Outputs
Renders a div containing the environment and folder information.

### SecretImportItem
#### Description
The main component that renders a secret import item with expandable details.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onDelete | function | Callback function for deleting the secret import |
| isReplicationExpand | boolean | Flag to determine if replication details should be expanded |
| importedSecrets | array | List of imported secrets |
| searchTerm | string | Current search term for filtering secrets |
| secretPath | string | Path of the secret |
| environment | string | Environment of the secret |
| secretImport | TSecretImport | Object containing secret import details |
| onExpandReplicateSecrets | function | Callback function for expanding replicated secrets |

#### Internal Logic
1. Uses various hooks for managing state and drag-and-drop functionality.
2. Handles expanding/collapsing of secret details based on user interaction and search terms.
3. Manages resyncing of replicated secrets.
4. Renders the main secret import item with buttons for various actions.
5. Conditionally renders an expanded view of imported secrets.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| @casl/ability | For handling permissions |
| @dnd-kit/sortable | For drag-and-drop functionality |
| @fortawesome/free-solid-svg-icons | For icons |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| date-fns | For date formatting |
| tailwind-merge | For merging Tailwind CSS classes |
| Various custom components and hooks | For UI elements and application-specific functionality |

## Error Handling
The component includes basic error handling for the resync operation, displaying an error notification if the operation fails.

## Performance Considerations
The component uses `useEffect` to manage the expansion state based on search terms and dragging state, which helps optimize rendering performance.

This documentation provides a comprehensive overview of the `SecretImportItem` component and its functionality, focusing on the most important aspects of the code without exceeding the specified length limits.