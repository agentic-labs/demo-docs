---
title: "EditDynamicSecretAwsIamForm.tsx"
---

## High-level description
This code defines a React component called `EditDynamicSecretAwsIamForm` for editing AWS IAM dynamic secrets. It provides a form with various input fields for configuring AWS IAM-related settings and handles form submission to update the dynamic secret.

## Code Structure
The main component `EditDynamicSecretAwsIamForm` uses React Hook Form for form management and Zod for form validation. It renders a form with multiple input fields for AWS IAM configuration and handles form submission using the `useUpdateDynamicSecret` hook.

## Symbols

### `EditDynamicSecretAwsIamForm`
#### Description
A React component that renders a form for editing AWS IAM dynamic secrets.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onClose | function | Callback function to close the form |
| dynamicSecret | TDynamicSecret & { inputs: unknown } | The current dynamic secret data |
| secretPath | string | The path of the secret |
| environment | string | The environment slug |
| projectSlug | string | The project slug |

#### Internal Logic
1. Uses `useForm` hook to manage form state and validation
2. Defines form schema using Zod for validation
3. Renders form fields for AWS IAM configuration
4. Handles form submission using `handleUpdateDynamicSecret` function
5. Uses `useUpdateDynamicSecret` hook to update the dynamic secret
6. Displays success or error notifications after form submission

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| @hookform/resolvers/zod | Zod resolver for react-hook-form |
| ms | Parse time strings |
| zod | Form schema validation |
| @app/components/features | Custom form components |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components |
| @app/hooks/api | API hooks for dynamic secrets |

## Error Handling
The component uses Zod for form validation and displays error messages for invalid inputs. It also handles API errors by displaying an error notification if the update fails.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| updateDynamicSecret | POST | { name, path, projectSlug, environmentSlug, data } | Success/Error | Updates the dynamic secret |

This component provides a user interface for editing AWS IAM dynamic secrets, handling form validation, and submitting updates to the backend API.