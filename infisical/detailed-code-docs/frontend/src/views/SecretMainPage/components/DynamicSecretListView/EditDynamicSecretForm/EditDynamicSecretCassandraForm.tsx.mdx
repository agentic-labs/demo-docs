---
title: "EditDynamicSecretCassandraForm.tsx"
---

## High-level description
This code defines a React component called `EditDynamicSecretCassandraForm` that provides a form for editing dynamic secrets related to Cassandra database connections. It uses React Hook Form for form management and validation, and includes various input fields for configuring the Cassandra connection and related settings.

## Code Structure
The main component `EditDynamicSecretCassandraForm` uses several custom hooks and components:
- `useForm` from react-hook-form for form management
- `useUpdateDynamicSecret` for handling the API call to update the secret
- Various UI components from the application's component library (e.g., `Input`, `SecretInput`, `Accordion`)

The form is structured with sections for basic configuration, advanced settings (CQL statements), and action buttons.

## Symbols

### EditDynamicSecretCassandraForm
#### Description
A React component that renders a form for editing Cassandra dynamic secrets.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onClose | function | Callback function to close the form |
| dynamicSecret | TDynamicSecret & { inputs: unknown } | The current dynamic secret data |
| secretPath | string | The path of the secret |
| environment | string | The environment of the secret |
| projectSlug | string | The project slug |

#### Internal Logic
1. Initializes the form with react-hook-form and sets up validation using zod.
2. Renders form fields for secret name, TTL settings, and Cassandra configuration.
3. Handles form submission by calling the `updateDynamicSecret` mutation.
4. Displays success or error notifications after form submission.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| @hookform/resolvers/zod | Zod resolver for react-hook-form |
| ms | Parsing time strings |
| zod | Schema validation |
| @app/components/features | Custom components (e.g., TtlFormLabel) |
| @app/components/notifications | Notification system |
| @app/components/v2 | UI components |
| @app/hooks/api | API hooks for dynamic secrets |

## Error Handling
The component uses react-hook-form's built-in error handling to display validation errors. It also displays error notifications if the API call to update the secret fails.

## Performance Considerations
The component uses controlled inputs, which may impact performance for large forms. However, for the given use case, it should not be a significant concern.

## TODOs
There are no explicit TODOs in the code.