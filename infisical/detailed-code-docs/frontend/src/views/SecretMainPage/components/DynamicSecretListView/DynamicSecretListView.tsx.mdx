---
title: "DynamicSecretListView.tsx"
---

## High-level description
This code defines a React component called `DynamicSecretListView` that displays a list of dynamic secrets. It allows users to view, create, edit, and delete dynamic secrets, as well as generate leases for them. The component includes modals for various actions and implements permission-based access control.

## Code Structure
The main component `DynamicSecretListView` renders a list of dynamic secrets and includes several modal components for different actions. It uses hooks for managing pop-up states and API mutations. The component also utilizes various UI components from a custom component library.

## Symbols

### `DynamicSecretListView`
#### Description
This is the main component that renders the list of dynamic secrets and handles various actions related to them.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dynamicSecrets | TDynamicSecret[] | Array of dynamic secrets to display |
| environment | string | Current environment |
| projectSlug | string | Project identifier |
| secretPath | string | Path of the secret (default: "/") |
| sortDir | SortDir | Sorting direction (default: SortDir.ASC) |

#### Internal Logic
1. Uses `usePopUp` hook to manage various modal states.
2. Renders a list of dynamic secrets, sorted based on `sortDir`.
3. For each secret, displays its name, type, and status.
4. Provides buttons for generating leases, editing, and deleting secrets.
5. Implements permission checks using `ProjectPermissionCan` component.
6. Renders modals for viewing leases, creating leases, editing secrets, and deleting secrets.
7. Handles dynamic secret deletion using `useDeleteDynamicSecret` hook.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @casl/ability | For permission handling |
| @fortawesome/free-solid-svg-icons | For icons |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| @app/components/notifications | For creating notifications |
| @app/components/permissions | For permission checks |
| @app/components/v2 | For various UI components |
| @app/context | For project permission context |
| @app/hooks | For custom hooks |
| @app/hooks/api | For API-related hooks |

## Error Handling
The component implements basic error handling for the delete operation, logging errors to the console and displaying an error notification to the user.

## Performance Considerations
The component sorts the dynamic secrets array on each render, which could be optimized for large lists by memoizing the sorted array or sorting on the server-side.