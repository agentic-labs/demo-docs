---
title: "Overview"
---

## High-level description
This directory contains React components for editing different types of dynamic secrets in a web application. The main component, `EditDynamicSecretForm`, serves as a router to render the appropriate form based on the type of dynamic secret being edited. The directory includes specialized forms for AWS IAM, Cassandra, and SQL database dynamic secrets.

## What does it do?
The code in this directory provides a user interface for editing dynamic secrets, which are likely used for managing access to various services or databases. Here's a breakdown of the workflow:

1. The main `EditDynamicSecretForm` component fetches details about the dynamic secret being edited.
2. Based on the secret type, it renders the appropriate specialized form (AWS IAM, Cassandra, or SQL database).
3. Each specialized form presents a set of input fields relevant to its secret type, such as connection details, TTL settings, and specific configurations.
4. Users can modify the secret's settings through these forms.
5. Upon submission, the form validates the input and sends an update request to the backend API.
6. The user receives feedback in the form of success or error notifications after the update attempt.

This system allows for a flexible and user-friendly way to manage different types of dynamic secrets within the application.

## Key Files

1. `EditDynamicSecretForm.tsx`: The main component that acts as a router for different secret types.
2. `EditDynamicSecretAwsIamForm.tsx`: Form component for editing AWS IAM dynamic secrets.
3. `EditDynamicSecretCassandraForm.tsx`: Form component for editing Cassandra dynamic secrets.
4. `EditDynamicSecretSqlProviderForm.tsx`: Form component for editing SQL database dynamic secrets.

Each of these files contains a React component that renders a form specific to its secret type. They share common patterns in form management, validation, and API interaction.

## Dependencies
The components in this directory rely on several external libraries and internal modules:

1. react-hook-form: Used for form state management and validation.
2. @hookform/resolvers/zod: Integrates Zod schema validation with react-hook-form.
3. zod: Provides schema definition and validation.
4. ms: Used for parsing time strings.
5. framer-motion: Used for animations in the main form component.
6. @app/components/features: Custom components for form elements.
7. @app/components/notifications: Handles displaying notifications to the user.
8. @app/components/v2: UI components used across the forms.
9. @app/hooks/api: Custom hooks for API interactions, including fetching and updating dynamic secrets.

These dependencies were likely chosen to provide a robust, type-safe, and user-friendly form editing experience while maintaining consistency with the rest of the application's UI and API interaction patterns.

## Configuration
While there are no explicit configuration files in this directory, the forms themselves act as a configuration interface for dynamic secrets. Each form includes fields that allow users to configure various aspects of the dynamic secrets:

1. AWS IAM Form:
   - Secret name
   - TTL settings
   - AWS region
   - Role name
   - Policy document

2. Cassandra Form:
   - Secret name
   - TTL settings
   - Hosts
   - Port
   - Username
   - Password
   - CQL statements for creation and revocation

3. SQL Provider Form:
   - Secret name
   - TTL settings
   - Database connection details (host, port, username, password)
   - SQL statements for creation and revocation

These configurable fields allow users to customize the behavior and access patterns of the dynamic secrets within the application's ecosystem.

The forms use Zod schemas to define the structure and validation rules for these configuration options, ensuring that user input meets the required format and constraints before being sent to the backend API.