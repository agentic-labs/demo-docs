---
title: "SnapshotView.tsx"
---

## High-level description
The `SnapshotView` component is a React component that displays a snapshot view of secrets and folders in a project. It allows users to compare the current state of secrets and folders with a previous snapshot, showing differences and providing options to rollback to the snapshot state.

## Code Structure
The component is structured with several main parts:
1. Import statements for necessary dependencies and components
2. Type definitions for props and helper functions
3. The main `SnapshotView` functional component
4. Memoized calculations for folder and secret differences
5. UI rendering for the snapshot view, including search, actions, and difference display

## Symbols

### `SnapshotView`
#### Description
The main functional component that renders the snapshot view.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| snapshotId | string | ID of the snapshot to display |
| environment | string | Current environment |
| workspaceId | string | ID of the current workspace |
| secretPath | string (optional) | Path of the secrets |
| secrets | SecretV3RawSanitized[] (optional) | Array of current secrets |
| folders | TSecretFolder[] (optional) | Array of current folders |
| snapshotCount | number (optional) | Number of snapshots |
| onGoBack | function | Callback for going back |
| onClickListSnapshot | function | Callback for listing snapshots |

#### Internal Logic
1. Fetches snapshot data using `useGetSnapshotSecrets` hook
2. Calculates differences between current and snapshot folders and secrets
3. Handles search functionality
4. Provides rollback functionality
5. Renders the UI for displaying differences and actions

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| @fortawesome/react-fontawesome | Icon components |
| @app/components | Various UI components |
| @app/hooks/api | API hooks for data fetching and mutations |

## Error Handling
The component includes error handling for the rollback functionality, displaying error notifications using the `createNotification` function.

## Performance Considerations
The component uses `useMemo` to optimize the calculation of folder and secret differences, preventing unnecessary recalculations on re-renders.