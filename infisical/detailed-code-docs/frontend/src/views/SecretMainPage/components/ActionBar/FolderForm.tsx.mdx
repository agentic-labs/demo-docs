---
title: "FolderForm.tsx"
---

## High-level description
This code defines a React component called `FolderForm` that provides a form for creating or editing folder names. It uses React Hook Form for form management and Zod for form validation, ensuring that folder names meet specific criteria.

## Code Structure
The main component `FolderForm` uses several hooks and components to manage form state, validation, and rendering. It interacts with parent components through callback props for creating or updating folders.

## Symbols

### `FolderForm`
#### Description
A React component that renders a form for creating or editing folder names. It uses React Hook Form for form management and Zod for validation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onCreateFolder | (folderName: string) =&gt; Promise&lt;void&gt; | Optional callback function for creating a new folder |
| onUpdateFolder | (folderName: string) =&gt; Promise&lt;void&gt; | Optional callback function for updating an existing folder |
| isEdit | boolean | Optional flag to determine if the form is in edit mode |
| defaultFolderName | string | Optional default folder name for edit mode |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | React component | The rendered form component |

#### Internal Logic
1. Sets up form management using `useForm` hook with Zod validation.
2. Defines an `onSubmit` function that calls either `onCreateFolder` or `onUpdateFolder` based on `isEdit` prop.
3. Renders a form with a controlled input for the folder name and submit/cancel buttons.
4. Uses `Controller` from React Hook Form to manage the input field.
5. Displays validation errors if the input doesn't meet the criteria.

### `formSchema`
#### Description
A Zod schema that defines the validation rules for the folder name input.

#### Internal Logic
- Ensures the input is a trimmed string.
- Uses a regex to allow only alphanumeric characters, underscores, and dashes.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| @hookform/resolvers/zod | Zod resolver for React Hook Form |
| zod | Schema definition and validation |
| @app/components/v2 | UI components (Button, FormControl, Input, ModalClose) |

## Error Handling
The component uses Zod for input validation. Error messages are displayed if the folder name doesn't meet the specified criteria (alphanumeric characters, underscores, and dashes only).

## API/Interface Reference
| Prop | Type | Description |
|:-----|:-----|:------------|
| onCreateFolder | (folderName: string) =&gt; Promise&lt;void&gt; | Callback for creating a new folder |
| onUpdateFolder | (folderName: string) =&gt; Promise&lt;void&gt; | Callback for updating an existing folder |
| isEdit | boolean | Flag to determine if the form is in edit mode |
| defaultFolderName | string | Default folder name for edit mode |

The component exposes a form interface that allows users to input a folder name and submit the form. It handles both creation and editing of folders based on the `isEdit` prop.