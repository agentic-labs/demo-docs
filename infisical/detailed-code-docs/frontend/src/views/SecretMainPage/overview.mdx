---
title: "Overview"
---

## High-level description
The `frontend/src/views/SecretMainPage` directory contains the core components and logic for the secret management interface of the application. It provides a comprehensive set of features for managing secrets, including creating, viewing, editing, and deleting secrets, as well as managing folders, dynamic secrets, and secret imports.

## What does it do?
This directory implements the following key functionalities:

1. Secret Management:
   - Displaying a list of secrets with filtering, sorting, and grouping options
   - Creating, editing, and deleting secrets and folders
   - Managing tags and reminders for secrets
   - Handling secret overrides and version history

2. Dynamic Secret Management:
   - Creating and managing dynamic secret leases for various providers (e.g., AWS IAM, Cassandra, SQL databases)
   - Renewing and revoking dynamic secret leases

3. Secret Import Management:
   - Displaying and managing a list of secret imports
   - Reordering secret imports using drag-and-drop functionality
   - Handling replicated secrets

4. Folder Management:
   - Viewing, editing, and deleting folders
   - Navigating through folder hierarchies

5. Secret Upload and Copy:
   - Uploading secrets from .env or .json files
   - Copying secrets between environments

6. Snapshot and Version Management:
   - Viewing and comparing secret snapshots
   - Rolling back to previous versions of secrets

7. Point-in-Time (PIT) Secret Viewing:
   - Displaying a list of secret snapshots in a drawer interface
   - Selecting and viewing different versions of secrets

## Entry points
The main entry point for this functionality is the `SecretMainPage` component, which is exported from the `index.tsx` file. This component serves as the container for all the secret management features and integrates various sub-components to provide a cohesive user interface.

The `SecretMainPage` component utilizes a global state management system implemented in `SecretMainPage.store.tsx`. This store manages the state of selected secrets and popup windows, providing hooks for components to interact with this state.

## Key Files
1. `SecretMainPage.tsx`: The main container component that renders the secret management interface.
2. `SecretMainPage.store.tsx`: Implements the global state management system using Zustand.
3. `SecretMainPage.types.ts`: Defines types and enums for filtering, sorting, and grouping secrets.
4. `components/`: A directory containing various sub-components that implement specific functionalities:
   - `SecretListView`: Displays and manages the list of secrets
   - `FolderListView`: Manages folder display and interactions
   - `DynamicSecretListView`: Handles dynamic secret management
   - `SecretImportListView`: Manages secret imports
   - `SecretDropzone`: Implements secret upload and copy functionality
   - `SnapshotView`: Provides snapshot viewing and comparison
   - `PitDrawer`: Implements the point-in-time drawer for secret snapshots
   - `ActionBar`: Contains components for various actions in the secret management interface

## Dependencies
The components in this directory rely on several external libraries and internal modules:

1. React and React Hooks
2. react-hook-form
3. @hookform/resolvers/zod
4. zod
5. @tanstack/react-query
6. @casl/ability
7. @fortawesome
8. framer-motion
9. @dnd-kit
10. date-fns
11. tailwind-merge
12. zustand (for state management)
13. next/router (for routing)

Internal dependencies include custom UI components, API hooks, and context providers from the broader application.

## Configuration
While there are no explicit configuration files in this directory, the components are highly configurable through props and context. Key configuration aspects include:

1. Workspace and environment settings: Many components require `workspaceId` and `environment` props to function correctly.
2. Permission settings: Components use `ProjectPermissionCan` for checking user permissions on various actions.
3. API endpoints: Components interact with backend APIs for CRUD operations, which would be configured elsewhere in the application.
4. Form validation rules: Various components define schema validation rules for forms.

The global state management system in `SecretMainPage.store.tsx` allows for easy configuration of selected secrets and popup states across the entire secret management interface.

In summary, the `frontend/src/views/SecretMainPage` directory provides a comprehensive and modular implementation of a secret management system. It offers a user-friendly interface for various secret-related operations while ensuring proper validation, error handling, and permission checks. The use of a global state management system and modular component structure allows for easy extension and maintenance of different functionalities within the secret management system.