---
title: "Overview"
---

## High-level description
This directory contains React components that implement the Secret Approval Page functionality in the application. It consists of three main subdirectories: AccessApprovalRequest, ApprovalPolicyList, and SecretApprovalRequest. These components work together to provide a comprehensive interface for managing access requests, approval policies, and secret approval workflows within a project or workspace.

## What does it do?
The code in this directory implements several key workflows for managing secrets and access control:

1. Access Approval Request Management:
   - Displays a list of access requests with details like requester, requested access, and status.
   - Allows filtering of requests based on status, environment, and requester.
   - Provides interfaces for submitting new access requests and reviewing existing ones.
   - Handles the approval or rejection process for access requests.

2. Approval Policy Management:
   - Shows a list of approval policies with filtering and sorting options.
   - Enables creation of new policies for both access and secret approvals.
   - Allows editing of existing policies, including updating approvers and enforcement levels.
   - Provides functionality to delete policies with proper permission checks.

3. Secret Approval Request Handling:
   - Displays a list of secret approval requests with filtering options.
   - Shows detailed information about individual requests, including changes made to secrets.
   - Allows users to approve, reject, merge, close, or reopen requests based on permissions.
   - Handles conflict detection and displays warnings for stale data or conflicts.
   - Provides options to bypass approvals when necessary.

These workflows ensure that access to sensitive information is controlled, monitored, and granted through a structured process, enhancing security and accountability within the project.

## Key Files
1. AccessApprovalRequest/AccessApprovalRequest.tsx:
   - Main component for rendering the access approval request interface.
   - Manages state for filters and request data.

2. ApprovalPolicyList/ApprovalPolicyList.tsx:
   - Main component for displaying and managing approval policies.
   - Orchestrates the overall functionality of policy management.

3. SecretApprovalRequest/SecretApprovalRequest.tsx:
   - Main component for managing and displaying secret approval requests.
   - Handles the overall state and rendering of the secret approval interface.

4. Components within each subdirectory:
   - Handle specific aspects of each workflow, such as modals for creating/editing policies, displaying request details, and managing approval actions.

## Dependencies
The components in this directory rely on several external libraries and internal modules:

- React and its hooks
- Next.js for routing
- @fortawesome/react-fontawesome and @fortawesome/free-solid-svg-icons for icons
- date-fns for date formatting
- framer-motion for animations
- react-hook-form for form state management
- Zod for schema validation
- Custom UI components and hooks from the application's internal libraries

These dependencies were chosen to provide a consistent UI experience, efficient API interactions, and streamlined state management within the application.

## Configuration
While there are no explicit configuration files, the components use various props and environment-specific values:

- Project and workspace identifiers (e.g., projectSlug, workspaceId)
- User permissions and roles
- API endpoints for data fetching and mutations
- UI configuration options (e.g., modal visibility, filter settings)

These configuration options allow the components to be flexible and reusable across different parts of the application.

In summary, this directory contains a set of interconnected React components that work together to provide a comprehensive interface for managing secret approvals, access requests, and approval policies. The components handle various aspects of these processes while providing a smooth and intuitive user experience.