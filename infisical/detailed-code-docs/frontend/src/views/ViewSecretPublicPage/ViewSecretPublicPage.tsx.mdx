---
title: "ViewSecretPublicPage.tsx"
---

## High-level description
This code defines a React component called `ViewSecretPublicPage` that renders a page for viewing a shared secret. It fetches the secret data based on URL parameters, displays the secret if available, and provides information about Infisical, an open-source secret management platform.

## Code Structure
The main component `ViewSecretPublicPage` uses various hooks and components to fetch and display the secret data. It also includes promotional content for Infisical and a footer with company information.

## Symbols

### ViewSecretPublicPage
#### Description
This is the main functional component that renders the entire page for viewing a shared secret.

#### Internal Logic
1. Extracts `id` and `urlEncodedPublicKey` from the router query parameters.
2. Splits `urlEncodedPublicKey` into `hashedHex` and `key`.
3. Fetches the secret data using the `useGetActiveSharedSecretById` hook.
4. Renders the page layout, including:
   - Infisical logo and title
   - Secret container or error message
   - Promotional content for Infisical
   - Footer with company information

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| next/image | For optimized image rendering |
| next/link | For client-side navigation |
| next/router | To access route information |
| @fortawesome/free-solid-svg-icons | For icon usage |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| @app/hooks/api/secretSharing | Custom hook for fetching shared secret data |

## References
- `SecretContainer` and `SecretErrorContainer` components (imported from "./components")
- `useGetActiveSharedSecretById` hook (imported from "@app/hooks/api/secretSharing")

## Side Effects
The component fetches data from an API using the `useGetActiveSharedSecretById` hook, which may cause side effects related to network requests.

## Performance Considerations
The component uses Next.js's `Image` component for optimized image loading and `Link` component for client-side navigation, which can improve performance.

## Error Handling
The component handles potential errors by rendering a `SecretErrorContainer` when the `error` state from the `useGetActiveSharedSecretById` hook is truthy.