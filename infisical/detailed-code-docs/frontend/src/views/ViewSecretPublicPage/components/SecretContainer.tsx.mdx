---
title: "SecretContainer.tsx"
---

## High-level description
This code defines a React component called `SecretContainer` that displays an encrypted secret and provides functionality to view, copy, and share secrets. It uses various UI components and hooks to manage the visibility and copying of the decrypted secret.

## Code Structure
The `SecretContainer` component is the main symbol in this code. It uses several imported functions and components to handle its functionality. The component takes in props containing the encrypted secret and the secret key, then manages the decryption and display of the secret.

## Symbols

### SecretContainer
#### Description
A React component that renders a container for displaying and interacting with an encrypted secret.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| secret | TViewSharedSecretResponse | An object containing the encrypted secret data |
| secretKey | string | The key used to decrypt the secret |

#### Internal Logic
1. Uses `useToggle` hook to manage the visibility state of the secret.
2. Uses `useTimedReset` hook to manage the copy-to-clipboard functionality.
3. Decrypts the secret using the `decryptSymmetric` function and memoizes the result.
4. Renders the secret (either visible or hidden) along with copy and visibility toggle buttons.
5. Provides a button to share a new secret.

#### Performance Considerations
The decryption of the secret is memoized using `useMemo` to avoid unnecessary recalculations.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | For React hooks and component functionality |
| @fortawesome/free-solid-svg-icons | For icon components |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| @app/components/utilities/cryptography/crypto | For decrypting the secret |
| @app/components/v2 | For UI components (Button, IconButton) |
| @app/hooks | For custom hooks (useTimedReset, useToggle) |

## Error Handling
This component doesn't implement explicit error handling. It assumes that the decryption process will succeed if the secret and key are provided.

## API/Interface Reference
This component doesn't expose an API but expects props in the following format:
| Prop | Type | Description |
|:-----|:-----|:------------|
| secret | TViewSharedSecretResponse | An object containing the encrypted secret data |
| secretKey | string | The key used to decrypt the secret |

The `TViewSharedSecretResponse` type is imported from `@app/hooks/api/secretSharing` but its exact structure is not defined in this file.