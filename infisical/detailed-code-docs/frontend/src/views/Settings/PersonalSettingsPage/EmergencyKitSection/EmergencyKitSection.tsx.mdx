---
title: "EmergencyKitSection.tsx"
---

## High-level description
This code defines the `EmergencyKitSection` component, which is part of a personal settings page. It provides a form for users to download an emergency kit containing account recovery information by entering their password.

## Code Structure
The component uses React Hook Form for form management and Yup for schema validation. It interacts with the user context and utilizes custom components and utilities for UI and cryptography operations.

## References
- `@app/components/notifications`
- `@app/components/utilities/cryptography/issueBackupKey`
- `@app/components/v2`
- `@app/context`

## Symbols

### `EmergencyKitSection`
#### Description
A React functional component that renders a form for downloading an emergency kit.

#### Inputs
This component doesn't accept any props.

#### Outputs
Returns a JSX element representing the emergency kit section.

#### Internal Logic
1. Uses the `useUser` hook to access user data.
2. Sets up form management using `useForm` with Yup schema validation.
3. Defines `onFormSubmit` function to handle form submission:
   - Calls `issueBackupKey` with user information and entered password.
   - Resets the form on success.
   - Displays an error notification on failure.
4. Renders a form with a password input and submit button.

### `schema`
#### Description
Yup schema for form validation.

#### Internal Logic
Defines a required `password` field of type string.

### `FormData`
#### Description
Type definition for the form data, inferred from the Yup schema.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| @hookform/resolvers/yup | Yup resolver for react-hook-form |
| yup | Schema validation |

## Error Handling
- Catches and logs errors during form submission.
- Displays an error notification to the user if emergency kit download fails.

## API/Interface Reference
| Function | Description |
|:---------|:------------|
| issueBackupKey | Generates and downloads the emergency kit |
| createNotification | Displays notifications to the user |

This component provides a user interface for downloading an emergency kit, which is an important security feature for account recovery. It ensures that the user enters their password before issuing the backup key, adding an extra layer of security. The component uses modern React practices, including hooks and context, for state management and form handling.