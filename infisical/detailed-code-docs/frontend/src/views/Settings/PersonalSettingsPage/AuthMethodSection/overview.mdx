---
title: "Overview"
---

## High-level description
The `AuthMethodSection` directory contains components related to managing authentication methods in the Infisical application. It primarily consists of the `AuthMethodSection` component, which allows users to view and toggle different authentication methods for their account.

## What does it do?
This section of the application provides users with the ability to manage their authentication methods. Users can see a list of available authentication options, such as email/password, Google, and GitHub. Each authentication method is presented as a toggleable switch, allowing users to enable or disable them according to their preferences. When a user toggles an authentication method, the application makes an API call to update the user's settings on the server. The interface provides immediate feedback through notifications, informing the user of successful changes or any errors that occur during the process.

## Key Files
1. `AuthMethodSection.tsx`: This is the main component file that implements the authentication method management functionality. It contains the logic for rendering the list of authentication methods, handling user interactions, and communicating with the server to update the user's settings.

2. `index.tsx`: This file serves as a re-export module for the `AuthMethodSection` component, simplifying imports in other parts of the application.

## Dependencies
The `AuthMethodSection` component relies on several external libraries and internal modules:

1. React: Core library for building the user interface.
2. react-hook-form (v7.x): Used for form state management and validation.
3. @fortawesome/react-fontawesome and related packages: Provides icons for visual representation of authentication methods.
4. yup (v0.32.x or later): Used for schema validation of form data.
5. @app/components/notifications: Custom notification component for displaying success and error messages.
6. @app/components/v2: Custom UI components used in the interface.
7. @app/context: Provides access to application-wide context, such as user data and server configuration.
8. @app/hooks/api: Custom hooks for making API calls to update user authentication methods.

## Configuration
The component doesn't use explicit configuration files, but it does rely on certain context and hooks for configuration:

1. `useUser`: A hook that provides access to the current user's data.
2. `useServerConfig`: A hook that provides access to the server configuration, which may affect available authentication methods.

The available authentication methods are defined in the `authMethodOpts` array within the `AuthMethodSection.tsx` file. This array can be modified to add, remove, or change authentication options.

```typescript
const authMethodOpts: AuthMethodOption[] = [
  {
    label: "Email/Password",
    value: AuthMethod.EMAIL,
    icon: faEnvelope,
    loginMethod: LoginMethod.EMAIL
  },
  {
    label: "Google",
    value: AuthMethod.GOOGLE,
    icon: faGoogle,
    loginMethod: LoginMethod.GOOGLE
  },
  {
    label: "GitHub",
    value: AuthMethod.GITHUB,
    icon: faGithub,
    loginMethod: LoginMethod.GITHUB
  }
];
```

Each authentication method is represented by an object with properties for the label, value, icon, and corresponding login method.

The component uses a Yup validation schema to ensure that the `authMethods` field in the form is always an array:

```typescript
const schema = yup.object({
  authMethods: yup.array().required()
});
```

This schema is used in conjunction with react-hook-form to manage form state and validation.

The `AuthMethodSection` component is designed to be flexible and extensible, allowing for easy addition of new authentication methods or modification of existing ones. It provides a user-friendly interface for managing authentication options while ensuring data consistency through form validation and server-side updates.