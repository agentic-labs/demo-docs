---
title: "AuthMethodSection.tsx"
---

## High-level description
This code defines the `AuthMethodSection` component, which allows users to manage their authentication methods in the Infisical application. It displays a list of available authentication methods and enables users to toggle them on or off.

## Code Structure
The main component `AuthMethodSection` uses React hooks and external libraries to manage form state, perform API calls, and handle user interactions. It interacts with the application's context and API hooks to fetch and update user data.

## Symbols

### `AuthMethodSection`
#### Description
This is the main functional component that renders the authentication method section.

#### Inputs
This component doesn't accept any props.

#### Outputs
Returns a JSX element representing the authentication method section.

#### Internal Logic
1. Fetches the current user and server configuration using context hooks.
2. Sets up a form using `react-hook-form` with validation schema.
3. Watches for changes in the `authMethods` form field.
4. Updates the form when the user data changes.
5. Handles toggling of authentication methods, including API calls to update the user's auth methods.
6. Renders a list of available authentication methods as toggleable switches.

### `authMethodOpts`
#### Description
An array of `AuthMethodOption` objects that define the available authentication methods.

#### Internal Logic
Each object in the array contains:
- `label`: Display name for the auth method
- `value`: Corresponding `AuthMethod` enum value
- `icon`: FontAwesome icon for visual representation
- `loginMethod`: Corresponding `LoginMethod` enum value

### `schema`
#### Description
A Yup validation schema for the form data.

#### Internal Logic
Defines a required array field `authMethods`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management |
| @fortawesome/free-brands-svg-icons | Brand icons for auth methods |
| @fortawesome/free-regular-svg-icons | Regular icons for auth methods |
| @fortawesome/react-fontawesome | FontAwesome component for React |
| @hookform/resolvers/yup | Yup resolver for react-hook-form |
| yup | Schema validation |
| @app/components/notifications | Custom notification component |
| @app/components/v2 | Custom UI components |
| @app/context | Application context hooks |
| @app/hooks/api | API hooks for data fetching and mutations |

## Error Handling
The component uses the `createNotification` function to display success and error messages to the user when enabling or disabling authentication methods.

## API/Interface Reference
| Function | Description |
|:---------|:------------|
| `useUpdateUserAuthMethods` | Mutation hook for updating user authentication methods |
| `useUser` | Hook to access current user data |
| `useServerConfig` | Hook to access server configuration |

This component is part of the user settings page and allows users to manage their authentication methods securely within the Infisical application.