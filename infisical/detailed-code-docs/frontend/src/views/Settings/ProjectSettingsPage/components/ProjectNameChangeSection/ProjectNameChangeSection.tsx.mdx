---
title: "ProjectNameChangeSection.tsx"
---

## High-level description
This code defines a React component called `ProjectNameChangeSection` that allows users to change the name of a project (workspace). It includes form validation, permission checks, and API integration for renaming the workspace.

## Code Structure
The main component `ProjectNameChangeSection` uses React hooks and custom hooks for form handling, API calls, and workspace context. It renders a form with input for the project name and buttons for copying project-related information.

## Symbols

### `ProjectNameChangeSection`
#### Description
A React functional component that renders a form for changing the project name. It uses React Hook Form for form management and validation, and includes permission checks for editing the workspace.

#### Internal Logic
1. Initializes form handling with `useForm` hook and Yup schema validation.
2. Uses `useWorkspace` hook to access the current workspace data.
3. Uses `useRenameWorkspace` hook for the API call to rename the workspace.
4. Resets the form when the current workspace changes.
5. Handles form submission, including API call and notification display.
6. Renders a form with project name input, copy buttons for project slug and ID, and a save button.

#### Side Effects
- Makes an API call to rename the workspace when the form is submitted.
- Displays notifications for successful or failed workspace renaming.

### `formSchema`
#### Description
A Yup schema object defining validation rules for the project name input.

### `FormData`
#### Description
A TypeScript type inferred from the Yup schema, representing the structure of the form data.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form handling and validation |
| @hookform/resolvers/yup | Yup resolver for react-hook-form |
| yup | Schema validation |
| @app/components/notifications | Custom notification component |
| @app/components/permissions | Custom permission component |
| @app/components/v2 | UI components (Button, FormControl, Input) |
| @app/context | Workspace context and permission constants |
| @app/hooks/api | Custom hook for renaming workspace |

## Error Handling
The component implements error handling for the API call to rename the workspace. If an error occurs, it logs the error to the console and displays an error notification to the user.

## Logging
The component logs errors to the console when the workspace renaming operation fails.

## Performance Considerations
The component uses the `useEffect` hook to reset the form when the current workspace changes, which helps to keep the form data in sync with the current workspace state.