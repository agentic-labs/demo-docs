---
title: "AutoCapitalizationSection.tsx"
---

## High-level description
This code defines a React component called `AutoCapitalizationSection` that renders a section for toggling auto-capitalization settings in a project. It includes a checkbox to enable/disable the feature and handles the state change with appropriate notifications.

## Code Structure
The component uses various hooks and components from the application's ecosystem to manage translations, workspace context, permissions, and API interactions. The main logic revolves around the `handleToggleCapitalizationToggle` function, which updates the auto-capitalization setting.

## Symbols

### AutoCapitalizationSection
#### Description
A functional React component that renders the auto-capitalization settings section.

#### Inputs
This component doesn't accept any props.

#### Outputs
Returns a JSX element representing the auto-capitalization section.

#### Internal Logic
1. Uses the `useTranslation` hook for internationalization.
2. Retrieves the current workspace using the `useWorkspace` hook.
3. Uses the `useToggleAutoCapitalization` hook to get the mutation function for toggling the setting.
4. Defines `handleToggleCapitalizationToggle` to handle the checkbox state change:
   - Calls the mutation function with the workspace ID and new state.
   - Creates a success or error notification based on the result.
5. Renders a section with a title and a checkbox wrapped in a `ProjectPermissionCan` component for permission checking.
6. The checkbox's state is controlled by `currentWorkspace?.autoCapitalization`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-i18next | For internationalization (i18n) support |
| @app/components/notifications | For creating notifications |
| @app/components/permissions | For permission-based rendering |
| @app/components/v2 | For the Checkbox component |
| @app/context | For workspace context and permission constants |
| @app/hooks/api | For the useToggleAutoCapitalization hook |

## Error Handling
The component includes a try-catch block in the `handleToggleCapitalizationToggle` function to handle potential errors when updating the auto-capitalization setting. If an error occurs, it's logged to the console, and an error notification is displayed to the user.

## Logging
The component logs errors to the console using `console.error` when the auto-capitalization toggle fails.