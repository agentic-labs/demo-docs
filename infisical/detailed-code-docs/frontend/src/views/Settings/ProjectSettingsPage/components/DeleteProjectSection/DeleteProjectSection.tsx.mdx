---
title: "DeleteProjectSection.tsx"
---

## High-level description
This code defines a React component called `DeleteProjectSection` that provides functionality for deleting or leaving a project (workspace) in a web application. It includes buttons for these actions and modals for confirmation, with various checks and permissions to ensure the user has the appropriate rights to perform these actions.

## Code Structure
The component uses several hooks and context providers to manage state and access project-related data. It defines two main actions: deleting a project and leaving a project, each with its own confirmation modal and associated logic.

## Symbols

### `DeleteProjectSection`
#### Description
A functional React component that renders a "Danger Zone" section with options to delete or leave a project.

#### Inputs
This component doesn't accept any props directly.

#### Outputs
Returns a JSX element representing the "Danger Zone" section with delete and leave project buttons, and associated modals.

#### Internal Logic
1. Uses various hooks to access project, organization, and user data.
2. Implements logic to determine if the user can delete or leave the project based on their permissions and project membership.
3. Handles the deletion and leaving of a project, including error handling and notifications.
4. Renders buttons and modals for delete and leave actions, with appropriate permission checks.

## Side Effects
- Navigates to a different page after successful project deletion or leaving.
- Creates notifications for success or failure of actions.
- Mutates project data when deleting or leaving a project.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next/router | Next.js routing |
| @app/components/* | Various UI components |
| @app/context | Context providers for organization, project, and workspace data |
| @app/hooks | Custom hooks for toggling state and API calls |

## Error Handling
The component implements try-catch blocks for both delete and leave project actions, logging errors to the console and displaying error notifications to the user.

## API/Interface Reference
| Action | Method | Description |
|:-------|:-------|:------------|
| Delete Project | POST | Deletes the current workspace |
| Leave Project | POST | Removes the current user from the project |

Note: The actual API endpoints are abstracted away in the `useDeleteWorkspace` and `useLeaveProject` hooks.