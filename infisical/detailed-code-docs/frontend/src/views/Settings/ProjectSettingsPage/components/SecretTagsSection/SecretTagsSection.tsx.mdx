---
title: "SecretTagsSection.tsx"
---

## High-level description
This code defines a React component called `SecretTagsSection` that manages and displays secret tags for a project. It provides functionality to create, view, and delete tags, with appropriate permission checks and user notifications.

## Code Structure
The `SecretTagsSection` component uses various hooks and sub-components to handle user interactions, manage state, and render the UI. It integrates with a permission system and uses modals for creating and deleting tags.

## Symbols

### SecretTagsSection
#### Description
This is the main functional component that renders the Secret Tags section of the project settings page.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | React component | The rendered Secret Tags section |

#### Internal Logic
1. Initializes hooks for managing popups, workspace context, and project permissions.
2. Defines an `onDeleteApproved` function to handle tag deletion.
3. Renders the section title, description, and a button to create new tags.
4. Conditionally renders the `SecretTagsTable` based on user permissions.
5. Includes modals for adding new tags and confirming tag deletion.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the UI |
| @fortawesome/react-fontawesome | Renders Font Awesome icons in React |
| @app/components/notifications | Creates notifications for user feedback |
| @app/components/permissions | Handles permission checks and denied access |
| @app/components/v2 | Provides reusable UI components |
| @app/context | Provides context for project permissions and workspace |
| @app/hooks | Custom hooks for popup management |
| @app/hooks/api | Custom hook for deleting workspace tags |

## Error Handling
The component implements error handling in the `onDeleteApproved` function. If an error occurs during tag deletion, it's logged to the console, and a notification is shown to the user.

## Logging
The component uses `console.error` to log errors that occur during tag deletion.

## API/Interface Reference
The component interacts with an API through the `useDeleteWsTag` hook. The delete operation is called with the following parameters:

| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| (not specified) | DELETE | { projectId: string, tagID: string } | (not specified) | Deletes a workspace tag |

Note: The actual API endpoint is abstracted away in the `useDeleteWsTag` hook.