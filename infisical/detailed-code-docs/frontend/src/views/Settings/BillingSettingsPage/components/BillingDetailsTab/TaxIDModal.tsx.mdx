---
title: "TaxIDModal.tsx"
---

## High-level description
This code defines a React component called `TaxIDModal` that allows users to add a tax ID to their organization. It provides a form with fields for selecting a tax ID type and entering the tax ID value, along with validation and submission functionality.

## Code Structure
The code consists of a main `TaxIDModal` component that uses various hooks and components to manage form state, validation, and API interactions. It imports necessary dependencies and defines a list of tax ID types and a validation schema.

## Symbols

### `TaxIDModal`
#### Description
A React component that renders a modal for adding a tax ID to an organization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["addTaxID"]&gt; | State object for controlling the modal's visibility |
| handlePopUpClose | function | Function to close the modal |
| handlePopUpToggle | function | Function to toggle the modal's state |

#### Internal Logic
1. Uses `useOrganization` hook to get the current organization.
2. Uses `useAddOrgTaxId` hook for API interaction.
3. Utilizes `useForm` hook from react-hook-form for form state management and validation.
4. Defines `onTaxIDModalSubmit` function to handle form submission:
   - Calls the API to add the tax ID
   - Shows a success or error notification
   - Closes the modal on success
5. Renders a form with two fields:
   - A select input for tax ID type
   - A text input for tax ID value
6. Implements form validation using yup schema
7. Provides submit and cancel buttons

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| @hookform/resolvers/yup | Yup resolver for react-hook-form |
| yup | Schema validation |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components |
| @app/context | Organization context |
| @app/hooks/api | API hooks |
| @app/hooks/usePopUp | Modal state management |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| taxIDTypes | Array of objects | [List of tax ID types] | Defines available tax ID types for selection |

## Error Handling
The component uses try-catch blocks to handle errors during form submission. Errors are logged to the console and displayed to the user via notifications.

## Logging
Console errors are logged for failed API calls during form submission.