---
title: "ManagePlansTable.tsx"
---

## High-level description
This code defines a React component called `ManagePlansTable` that displays a table of subscription plans for an organization. It shows features and limits for different tiers (Starter, Team, Pro, Enterprise) and allows users to upgrade, downgrade, or contact sales based on their current subscription.

## Code Structure
The main component `ManagePlansTable` uses several hooks to fetch data and manage state. It renders a table with headers and rows based on the fetched data, and includes buttons for plan management.

## Symbols

### ManagePlansTable
#### Description
A React functional component that renders a table displaying subscription plan details and management options.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| billingCycle | "monthly" \| "yearly" | The billing cycle for which to display plan information |

#### Internal Logic
1. Fetches organization and subscription data using custom hooks.
2. Retrieves plan table data using `useGetOrgPlansTable` hook.
3. Renders table headers with plan names and prices.
4. Renders table rows with feature/limit comparisons across plans.
5. Displays appropriate buttons for upgrading, downgrading, or contacting sales based on the current subscription.

#### Performance Considerations
The component uses React hooks for data fetching, which helps in optimizing re-renders and data management.

### displayCell
#### Description
A helper function that formats cell values for display in the table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | null \| number \| string \| boolean | The value to be displayed in a table cell |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| output | React.ReactNode | Formatted cell content for display |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the UI |
| @fortawesome/react-fontawesome | Allows usage of FontAwesome icons in React |
| @app/components/v2 | Custom UI components used in the table |
| @app/context | Provides hooks for accessing organization and subscription data |
| @app/hooks/api | Custom hooks for API interactions |

## Error Handling
The component doesn't implement explicit error handling. It relies on the error handling mechanisms of the hooks it uses.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| Customer Portal Session | POST | organizationId | { url: string } | Creates a customer portal session for plan changes |

Note: The actual API endpoint is not visible in this component, but it's used through the `useCreateCustomerPortalSession` hook.