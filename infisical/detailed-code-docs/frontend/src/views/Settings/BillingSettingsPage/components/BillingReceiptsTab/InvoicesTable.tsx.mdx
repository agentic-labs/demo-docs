---
title: "InvoicesTable.tsx"
---

## High-level description
This code defines the `InvoicesTable` component, which renders a table of invoices for an organization. It fetches invoice data using a custom hook, displays the data in a structured table format, and provides a download button for each invoice.

## Code Structure
The `InvoicesTable` component uses various imported components from the `@app/components/v2` package to structure the table. It also utilizes the `useOrganization` hook for organization context and the `useGetOrgInvoices` hook to fetch invoice data.

## Symbols

### InvoicesTable
#### Description
A functional component that renders a table of invoices for the current organization.

#### Inputs
This component doesn't accept any props directly.

#### Internal Logic
1. Retrieves the current organization using the `useOrganization` hook.
2. Fetches invoice data using the `useGetOrgInvoices` hook.
3. Renders a table structure using imported components.
4. Maps over the fetched data to render individual invoice rows.
5. Formats date and currency values for display.
6. Provides a download button for each invoice.
7. Handles loading state with a skeleton loader.
8. Displays an empty state when no invoices are available.

#### Performance Considerations
The component uses the `useGetOrgInvoices` hook, which likely implements data fetching optimizations. The rendering of invoice rows is done conditionally based on the loading state and data availability.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the component |
| @fortawesome/react-fontawesome | Allows usage of FontAwesome icons in React |
| @app/components/v2 | Provides various UI components for table structure |
| @app/context | Provides the useOrganization hook for organization context |
| @app/hooks/api | Provides the useGetOrgInvoices hook for fetching invoice data |

## Error Handling
The component doesn't implement explicit error handling. It relies on the error handling mechanisms of the `useGetOrgInvoices` hook.

## API/Interface Reference
The component interacts with the API through the `useGetOrgInvoices` hook. The expected data structure for invoices is:

| Field | Type | Description |
|:------|:-----|:------------|
| id | string | Unique identifier for the invoice |
| created | number | Unix timestamp of invoice creation |
| paid | boolean | Payment status of the invoice |
| number | string | Invoice number |
| total | number | Total amount in cents |
| invoice_pdf | string | URL to the invoice PDF |

## Notes
- The component uses conditional rendering to handle different states (loading, no data, data available).
- Date formatting is done manually instead of using a date formatting library.
- Currency formatting uses the `toLocaleString` method with USD as the currency.
- The download functionality opens the invoice PDF in a new window.