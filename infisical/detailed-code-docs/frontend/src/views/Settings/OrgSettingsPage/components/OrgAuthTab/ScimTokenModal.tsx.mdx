---
title: "ScimTokenModal.tsx"
---

## High-level description
This code defines a React component called `ScimTokenModal` that manages SCIM (System for Cross-domain Identity Management) tokens for an organization. It provides functionality to create, view, and delete SCIM tokens, as well as display the SCIM URL.

## Code Structure
The main component `ScimTokenModal` uses several hooks and sub-components to manage its state and render the UI. It interacts with API hooks for SCIM token operations and uses form management with `react-hook-form`.

## Symbols

### ScimTokenModal
#### Description
A React component that renders a modal for managing SCIM tokens.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| popUp | UsePopUpState&lt;["scimToken", "deleteScimToken"]&gt; | State for managing modal visibility |
| handlePopUpOpen | Function | Function to open specific pop-ups |
| handlePopUpToggle | Function | Function to toggle pop-up visibility |

#### Internal Logic
1. Fetches existing SCIM tokens using `useGetScimTokens` hook.
2. Manages form state for creating new tokens using `react-hook-form`.
3. Handles creation of new SCIM tokens.
4. Manages deletion of existing SCIM tokens.
5. Renders UI for displaying SCIM URL, creating new tokens, and listing existing tokens.

### onFormSubmit
#### Description
Asynchronous function to handle the submission of the form for creating a new SCIM token.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| description | string | Optional description for the token |
| ttlDays | string | Time-to-live in days for the token |

#### Internal Logic
1. Calls the `createScimTokenMutateAsync` function to create a new token.
2. Sets the newly created token in the component state.
3. Displays a success notification on successful creation.

### onDeleteScimTokenSubmit
#### Description
Asynchronous function to handle the deletion of a SCIM token.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| scimTokenId | string | ID of the token to be deleted |

#### Internal Logic
1. Calls the `deleteScimTokenMutateAsync` function to delete the specified token.
2. Closes the delete confirmation modal.
3. Displays a success notification on successful deletion.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form state management |
| react-i18next | Internationalization |
| @fortawesome/react-fontawesome | Icon components |
| yup | Schema validation |
| @app/components/v2 | UI components |
| @app/hooks | Custom hooks |
| @app/hooks/api | API-related hooks |

## Error Handling
The component implements basic error handling by catching errors in the token creation and deletion processes and displaying error notifications using the `createNotification` function.

## Performance Considerations
The component uses React hooks like `useEffect` and `useToggle` to optimize re-renders and manage component state efficiently. It also implements a skeleton loader for the table while data is being fetched to improve perceived performance.