---
title: "Overview"
---

## High-level description

This directory contains components related to managing incident contacts for an organization within a settings page. The main components are `OrgIncidentContactsSection`, `OrgIncidentContactsTable`, and `AddOrgIncidentContactModal`. These components work together to provide a user interface for viewing, adding, and deleting incident contacts.

## What does it do?

The code in this directory implements a section of an organization's settings page dedicated to managing incident contacts. Here's what it allows users to do:

1. View a list of existing incident contacts for the organization.
2. Search through the list of incident contacts.
3. Add new incident contacts by entering their email addresses.
4. Delete existing incident contacts (if the user has the necessary permissions).

The components handle user interactions, perform API calls to fetch and modify data, and manage the UI state for various operations. They also integrate with the organization's permission system to control access to certain features based on the user's role.

## Entry points

The main entry point for this functionality is the `OrgIncidentContactsSection` component. It serves as the container for the incident contacts management interface and includes the following key elements:

1. A header for the section.
2. An "Add contact" button that opens a modal for adding new contacts.
3. A table displaying existing incident contacts (implemented in `OrgIncidentContactsTable`).
4. A modal for adding new contacts (implemented in `AddOrgIncidentContactModal`).

The data flow in this section is as follows:
1. The `OrgIncidentContactsSection` component renders the overall structure and manages the state for opening/closing the add contact modal.
2. The `OrgIncidentContactsTable` component fetches and displays the list of incident contacts, handling search and delete operations.
3. The `AddOrgIncidentContactModal` component manages the form for adding new incident contacts, including form validation and submission.

## Key Files

1. `OrgIncidentContactsSection.tsx`: This file contains the main component that structures the incident contacts section. It handles permissions and integrates the table and add contact modal.

2. `OrgIncidentContactsTable.tsx`: This file implements the table component that displays the list of incident contacts. It handles searching, pagination, and deletion of contacts.

3. `AddOrgIncidentContactModal.tsx`: This file contains the modal component for adding new incident contacts. It manages form state, validation, and submission of new contact details.

4. `index.tsx`: This file serves as an export module, making the `AddOrgIncidentContactModal` and `OrgIncidentContactsSection` components available for use in other parts of the application.

## Dependencies

The components in this directory rely on several external libraries and internal utilities:

1. React and related hooks (v16.8+)
2. react-hook-form (for form management in the add contact modal)
3. yup (for form validation schemas)
4. @fortawesome/react-fontawesome and @fortawesome/free-solid-svg-icons (for icons)
5. react-i18next (for internationalization)

Internal dependencies include:
- Custom hooks from `@app/hooks` and `@app/hooks/api` for API interactions and UI state management
- UI components from `@app/components/v2`
- Permission-related components and hooks from `@app/components/permissions` and `@app/context`
- Notification utilities from `@app/components/notifications`

## Configuration

The components in this directory don't have explicit configuration files. However, they do use environment-dependent configurations:

1. API endpoints: The components interact with backend APIs for fetching and modifying incident contact data. The exact endpoints are likely configured in a central API configuration file.

2. Permissions: The components integrate with the organization's permission system. The specific permission actions and subjects (e.g., `OrgPermissionActions.UpdateOrg`, `OrgPermissionSubjects.IncidentContacts`) are defined elsewhere in the application and used here to control access to certain features.

3. Internationalization: The components use react-i18next for text translations. The translation keys are hardcoded in the components, but the actual translations would be configured in separate language files.

In summary, this directory implements a crucial part of the organization settings interface, specifically for managing incident contacts. It provides a user-friendly way to view, add, and delete contacts while respecting the organization's permission structure and integrating with the application's design system and API layer.