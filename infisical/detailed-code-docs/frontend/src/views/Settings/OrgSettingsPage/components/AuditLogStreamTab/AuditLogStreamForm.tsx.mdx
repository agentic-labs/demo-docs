---
title: "AuditLogStreamForm.tsx"
---

## High-level description
This code defines a React component called `AuditLogStreamForm` that allows users to create or edit audit log streams. It provides a form with fields for URL and headers, and handles form submission, including creating or updating audit log streams via API calls.

## Code Structure
The main component `AuditLogStreamForm` uses React Hook Form for form management and validation. It interacts with custom hooks for API operations (`useCreateAuditLogStream`, `useUpdateAuditLogStream`, `useGetAuditLogStreamDetails`) and utilizes various UI components from a custom component library.

## Symbols

### `AuditLogStreamForm`
#### Description
A React component that renders a form for creating or editing audit log streams.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Optional ID of the audit log stream to edit |
| onClose | function | Callback function to close the form |

#### Internal Logic
1. Initializes form using `useForm` hook with Zod schema validation.
2. Uses `useFieldArray` for managing dynamic header fields.
3. Handles form submission for both create and edit scenarios.
4. Renders form fields for URL and headers, with dynamic addition/removal of header fields.
5. Displays loading spinner when fetching existing audit log stream details in edit mode.

#### Side Effects
- Makes API calls to create or update audit log streams.
- Displays notifications on success or failure of operations.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| @fortawesome/free-solid-svg-icons | Icons for UI elements |
| @fortawesome/react-fontawesome | Rendering FontAwesome icons |
| zod | Schema validation |
| @app/components/notifications | Displaying notifications |
| @app/components/v2 | UI components (Button, FormControl, IconButton, Input, Spinner) |
| @app/context | Accessing organization context |
| @app/hooks/api | Custom hooks for API operations |

## Error Handling
The component implements basic error handling by catching errors during form submission and displaying error notifications using the `createNotification` function.

## Logging
The component logs errors to the console when API calls fail.

## TODOs
There are no explicit TODOs in the code.