---
title: "OrgGeneralAuthSection.tsx"
---

## High-level description
This code defines a React component called `OrgGeneralAuthSection` that provides organization-level authentication settings, specifically for enforcing SAML SSO (Single Sign-On). It allows users with appropriate permissions to toggle SAML SSO enforcement for their organization.

## Symbols

### OrgGeneralAuthSection
#### Description
A functional React component that renders the organization's general authentication settings, focusing on SAML SSO enforcement.

#### Inputs
This component doesn't accept any props.

#### Outputs
Returns JSX elements representing the authentication settings UI.

#### Internal Logic
1. Retrieves the current organization and subscription data using custom hooks.
2. Sets up a popup state for the upgrade plan modal.
3. Defines a function `handleEnforceOrgAuthToggle` to handle the SAML SSO enforcement toggle:
   - Checks if the organization has SAML SSO in their subscription.
   - If not, opens the upgrade plan modal.
   - If yes, updates the organization's auth enforcement setting.
   - Creates a notification based on the action's success or failure.
   - If enforcement is enabled, logs out the user and redirects to the SAML SSO page.
4. Renders the UI elements:
   - A switch for toggling SAML SSO enforcement (wrapped in a permissions check).
   - An upgrade plan modal that appears when trying to enable SAML SSO without the necessary subscription.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @app/components/notifications | For creating notifications |
| @app/components/permissions | For checking organization permissions |
| @app/components/v2 | For UI components (Switch, UpgradePlanModal) |
| @app/context | For organization and subscription data |
| @app/hooks/api | For API-related hooks (useUpdateOrg, useLogoutUser) |
| @app/hooks/usePopUp | For managing popup state |

## Side Effects
- Updates the organization's authentication settings via API call.
- Creates notifications to inform the user of action results.
- Can log out the user and redirect to the SAML SSO page when enforcement is enabled.

## Error Handling
Errors during the organization update process are caught, logged to the console, and displayed to the user as error notifications.

## Notes
There is a commented-out section that seems to be for allowing users to send invites. This functionality is currently not implemented in the rendered component.