---
title: "AuditLogStreamTab.tsx"
---

## High-level description
This code defines the AuditLogStreamsTab component, which displays and manages audit log streams for an organization. It allows users to view, create, edit, and delete audit log streams, subject to their permissions within the organization.

## Code Structure
The main component, AuditLogStreamsTab, is wrapped with a permission check. It uses various hooks and components to manage state, fetch data, and render the UI. The component includes a table to display audit log streams and modals for creating, editing, and deleting streams.

## References
- OrgPermissionCan component from "@app/components/permissions"
- Various UI components from "@app/components/v2"
- Hooks and contexts from "@app/context", "@app/hooks", and "@app/hooks/api"
- AuditLogStreamForm component (imported from a local file)

## Symbols

### AuditLogStreamsTab
#### Description
The main component that renders the audit log streams tab. It displays a list of audit log streams and provides functionality to manage them.

#### Inputs
This component doesn't accept any props directly, but it uses various context providers and hooks to access necessary data and functions.

#### Internal Logic
1. Fetches the current organization and subscription data
2. Retrieves audit log streams using the useGetAuditLogStreams hook
3. Manages popups for various actions (create, edit, delete, upgrade plan)
4. Renders a table of audit log streams with options to edit and delete
5. Handles the creation, editing, and deletion of audit log streams
6. Displays modals for various actions and confirmations

#### Performance Considerations
The component uses React Query for data fetching, which provides caching and optimized re-fetching strategies.

## Side Effects
- Creates notifications for successful or failed stream deletions
- Mutates audit log stream data through API calls

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides icons for the UI |
| @fortawesome/react-fontawesome | Renders Font Awesome icons |
| @app/components/notifications | Creates notification messages |
| @app/components/permissions | Handles permission checks |
| @app/components/v2 | Provides various UI components |
| @app/context | Provides organizational and subscription context |
| @app/hoc | Provides higher-order components for permissions |
| @app/hooks | Provides custom hooks for popups |
| @app/hooks/api | Provides API-related hooks for audit log streams |

## Error Handling
Error handling is implemented for the delete operation, where errors are caught, logged to the console, and a notification is displayed to the user.

## Logging
Console logging is used for error reporting in the delete operation.