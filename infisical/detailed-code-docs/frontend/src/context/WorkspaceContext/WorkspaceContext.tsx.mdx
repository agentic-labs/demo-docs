---
title: "WorkspaceContext.tsx"
---

## High-level description
This code defines a React component called `WorkspaceContext` that provides workspace-related data to its child components. It uses React's Context API to manage and share workspace information across the application.

## Code Structure
The main symbols in this code are:
1. `WorkspaceContext`: A React context for workspace data.
2. `WorkspaceProvider`: A component that provides the workspace context to its children.
3. `useWorkspace`: A custom hook for consuming the workspace context.

These symbols are interconnected, with `WorkspaceProvider` using `WorkspaceContext` to provide data, and `useWorkspace` allowing other components to consume this data.

## Symbols

### WorkspaceContext
#### Description
A React context created to hold workspace-related data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | TWorkspaceContext \| null | The context value, initially set to null |

### WorkspaceProvider
#### Description
A component that wraps its children with the `WorkspaceContext.Provider`, supplying workspace data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| children | ReactNode | Child components to be wrapped |

#### Internal Logic
1. Fetches user workspaces using `useGetUserWorkspaces` hook.
2. Uses `useRouter` to get the current workspace ID from the URL.
3. Memoizes the workspace context value using `useMemo`.
4. Provides the memoized value to its children using `WorkspaceContext.Provider`.

### useWorkspace
#### Description
A custom hook that allows components to consume the workspace context.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | TWorkspaceContext | The current workspace context value |

#### Internal Logic
1. Uses `useContext` to access the `WorkspaceContext`.
2. Throws an error if used outside of `&lt;WorkspaceContext.Provider&gt;`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library for building the component |
| next/router | Next.js routing functionality |
| @app/hooks/api | Custom hook for fetching user workspaces |
| @app/hooks/api/workspace/types | Type definitions for workspace data |

## Error Handling
The `useWorkspace` hook includes error handling to ensure it's used within the correct context. If called outside of a `WorkspaceContext.Provider`, it throws an informative error.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.