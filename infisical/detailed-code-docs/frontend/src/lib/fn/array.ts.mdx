---
title: "array.ts"
---

## High-level description
This code defines a utility function `groupBy` that sorts an array of items into groups based on a provided grouping function. It's a generic function that can work with arrays of any type and group them by any key type (string, number, or symbol).

## Symbols

### `groupBy`
#### Description
The `groupBy` function takes an array of items and a function to determine the group ID for each item. It then sorts these items into groups, returning an object where each key is a group ID and the corresponding value is an array of items belonging to that group.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| array | readonly T[] | The input array of items to be grouped |
| getGroupId | (item: T) =&gt; Key | A function that determines the group ID for each item |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| groupedItems | Record&lt;Key, T[]&gt; | An object where keys are group IDs and values are arrays of items in that group |

#### Internal Logic
1. The function uses the `reduce` method on the input array.
2. For each item in the array:
   - It calls `getGroupId` to determine the group for the item.
   - If the group doesn't exist in the accumulator object, it creates an empty array for that group.
   - It pushes the current item into the array for its group.
3. The initial value for the accumulator is an empty object of type `Record&lt;Key, T[]&gt;`.
4. The function returns the final accumulated object containing all grouped items.

## Performance Considerations
The `groupBy` function has a time complexity of O(n), where n is the number of items in the input array, as it iterates through each item exactly once. The space complexity is also O(n) in the worst case, where each item belongs to a unique group.

## References
The `groupBy` function is used in the related file `GroupRoles.tsx` to group user roles by their slug:

```typescript
const userRolesGroupBySlug = groupBy(roles, ({ customRoleSlug, role }) =&gt; customRoleSlug || role);
```

This usage demonstrates how the function can be applied to organize complex data structures, in this case, grouping user roles for easier management and display in a user interface.