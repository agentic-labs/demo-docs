---
title: "WishForm.tsx"
---

## High-level description
This code defines a `WishForm` component in React, which allows users to submit wishes or feedback to the Infisical team. It uses a popover to display a form with a textarea for user input and handles form submission and validation.

## Code Structure
The main component `WishForm` uses several hooks and components to manage form state, validation, and submission. It also integrates with a notification system and an API for creating user wishes.

## Symbols

### `WishForm`
#### Description
A React functional component that renders a button to open a popover containing a form for submitting user wishes.

#### Internal Logic
1. Uses `useForm` hook from react-hook-form for form management and validation.
2. Uses `useCreateUserWish` hook for API interaction.
3. Uses `useToggle` hook to manage the popover's open/close state.
4. Defines a `createWish` function to handle form submission.
5. Renders a `Popover` component with a trigger and content.
6. The form inside the popover includes a textarea for wish input and a submit button.

#### Side Effects
- Creates notifications on successful submission or error.
- Resets the form and closes the popover on successful submission.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form management and validation |
| @fortawesome/free-brands-svg-icons | Icon for the trigger button |
| @fortawesome/react-fontawesome | Rendering FontAwesome icons |
| @hookform/resolvers/zod | Zod resolver for form validation |
| zod | Schema definition and validation |
| @app/components/notifications | Notification creation |
| @app/components/v2 | UI components (Button, FormControl, Popover, TextArea) |
| @app/hooks | Custom hooks (useToggle) |
| @app/hooks/api/userEngagement | API hook for creating user wishes |

## Error Handling
The component handles errors during wish submission by catching exceptions and displaying an error notification.

## Logging
No explicit logging mechanisms are implemented in this code.

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| formSchema | zod.ZodObject | - | Defines the shape and validation rules for the form data |

## API/Interface Reference
| Hook | Purpose |
|:-----|:--------|
| useCreateUserWish | Provides a `mutateAsync` function to submit user wishes to the API |

The component doesn't expose an API itself but interacts with an API through the `useCreateUserWish` hook.