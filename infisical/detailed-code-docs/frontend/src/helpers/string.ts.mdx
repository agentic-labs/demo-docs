---
title: "string.ts"
---

## High-level description
This TypeScript file contains utility functions for string manipulation, specifically for handling URL paths. It provides two functions: one for removing trailing slashes from strings and another for validating path strings.

## Symbols

### `removeTrailingSlash`
#### Description
This function removes the trailing slash from a given string, except when the string is a single forward slash "/".

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| str | string | The input string from which to remove the trailing slash |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | The input string with the trailing slash removed, if applicable |

#### Internal Logic
1. Check if the input string is exactly "/". If so, return it unchanged.
2. Use the `endsWith` method to check if the string ends with a slash.
3. If it does, use the `slice` method to remove the last character.
4. If it doesn't, return the string unchanged.

### `isValidPath`
#### Description
This function checks whether a given string is a valid path according to specific criteria.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| val | string | The input string to be validated as a path |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | boolean | True if the input is a valid path, false otherwise |

#### Internal Logic
1. Check if the input string is empty. If so, return false.
2. Check if the input string is exactly "/". If so, return true.
3. Use a regular expression (`validPathRegex`) to check if the path:
   - Starts with one or more alphanumeric characters, hyphens, underscores, periods, or colons.
   - Can be followed by zero or more segments, each starting with a forward slash and containing the same allowed characters.
4. Return the result of the regex test.

## Performance Considerations
Both functions are designed to be efficient:
- `removeTrailingSlash` uses simple string operations and a conditional check.
- `isValidPath` uses a regular expression for validation, which is generally fast for short to medium-length strings. However, for very long strings, it might be less efficient than character-by-character validation.