---
title: "Overview"
---

## High-level description
This code defines a React component called `AddTagPopoverContent` that renders a popover for adding tags to secrets. It displays a list of available tags, allows users to select tags, and provides an option to create new tags if the user has the necessary permissions.

## Code Structure
The main component `AddTagPopoverContent` receives several props and renders a `PopoverContent` component containing a list of tags and a button to create new tags. It uses various utility components and hooks from the application's custom library.

## Symbols

### AddTagPopoverContent
#### Description
A functional React component that renders the content of a popover for adding tags to secrets.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| wsTags | WsTag[] \| undefined | An array of workspace tags or undefined |
| secKey | string | The key of the secret being tagged |
| selectedTagIds | Record&lt;string, boolean&gt; | A record of selected tag IDs |
| handleSelectTag | (wsTag: WsTag) =&gt; void | Function to handle tag selection |
| handleTagOnMouseEnter | (wsTag: WsTag) =&gt; void | Function to handle mouse enter on a tag |
| handleTagOnMouseLeave | () =&gt; void | Function to handle mouse leave on a tag |
| checkIfTagIsVisible | (wsTag: WsTag) =&gt; boolean | Function to check if a tag is visible |
| handleOnCreateTagOpen | () =&gt; void | Function to handle opening the create tag dialog |

#### Internal Logic
1. Renders a `PopoverContent` component with specific styling and positioning.
2. Displays the secret key or a default message.
3. Maps through the `wsTags` array to render individual tag items.
4. Each tag item is clickable and has hover effects.
5. Uses a `Checkbox` component to show the selection state of each tag.
6. Renders a color indicator and the tag slug for each tag.
7. Includes a "Add new tag" button that is conditionally rendered based on user permissions.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @fortawesome/free-solid-svg-icons | Provides the plus icon for the "Add new tag" button |
| @fortawesome/react-fontawesome | Renders Font Awesome icons as React components |
| @app/components/v2 | Custom component library (Button, Checkbox, PopoverContent) |
| @app/context | Provides project permission constants |
| ../../hooks/api/tags/types | Imports the WsTag type |
| ../permissions | Imports the ProjectPermissionCan component for permission checks |

## Performance Considerations
The component uses React's efficient rendering mechanism. However, for large lists of tags, consider implementing virtualization to improve performance.

## Error Handling
This component doesn't implement explicit error handling. Error handling should be managed in the parent component or through the functions passed as props.

## API/Interface Reference
This component doesn't expose an API directly but is designed to be used as part of a larger React application, likely within a form or dialog for managing secret tags.