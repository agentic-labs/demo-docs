---
title: "UpgradePlan.tsx"
---

## High-level description
This code defines a React component called `UpgradePlanModal` that renders a modal dialog encouraging users to upgrade their plan. The modal displays a message about unleashing the full power of Infisical and provides options to upgrade or dismiss the dialog.

## Code Structure
The main component `UpgradePlanModal` uses the `Dialog` and `Transition` components from the `@headlessui/react` library to create an animated modal. It also utilizes the `useRouter` hook from Next.js and a custom `useOrganization` hook for navigation and accessing organization data.

## References
- `@headlessui/react`: Used for the modal dialog and transition effects
- `next/router`: Used for navigation
- `@app/context`: Custom context for organization data

## Symbols

### UpgradePlanModal
#### Description
A functional React component that renders a modal dialog for upgrading the user's plan.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isOpen | boolean | Optional. Determines if the modal is visible |
| onClose | function | Callback function to close the modal |
| text | string | The main message to display in the modal |

#### Internal Logic
1. Uses the `useRouter` hook to get the router object for navigation.
2. Retrieves the current organization using the `useOrganization` hook.
3. Renders a `Dialog` component with transition effects for showing/hiding the modal.
4. Displays the title, message, and two buttons: "Upgrade Now" and "Maybe Later".
5. The "Upgrade Now" button navigates to the billing page of the current organization.
6. The "Maybe Later" button calls the `onClose` function to dismiss the modal.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next/router | Next.js routing functionality |
| @headlessui/react | UI components for the modal dialog |
| @app/context | Custom context for organization data |

## TODOs
- REFACTOR: Move all these modals into one reusable one

## Notes
1. The component uses Tailwind CSS classes for styling.
2. The modal includes transition effects for a smooth appearance and disappearance.
3. There's a comment suggesting that this modal should be refactored into a more reusable component.
4. The component uses the Fragment shorthand `&lt;&gt;` for wrapping multiple elements without adding extra nodes to the DOM.
5. The modal is accessible, using appropriate ARIA attributes through the `Dialog` component.