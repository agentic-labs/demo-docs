---
title: "NavHeaderSecrets.tsx"
---

## High-level description
This code defines a React component called `NavHeaderSecrets` that renders a navigation header for a secrets management application. It displays the current organization, workspace, and page name, along with an optional environment selector.

## Code Structure
The main component `NavHeaderSecrets` uses several hooks and sub-components to render the navigation header. It relies on context providers for organization and workspace data, and uses Next.js router for navigation.

## Symbols

### NavHeaderSecrets
#### Description
This is the main component that renders the navigation header. It displays a breadcrumb-like structure showing the current organization, workspace (if project-related), and page name. It also includes an optional environment selector.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| pageName | string | Name of the current page |
| isProjectRelated | boolean | Indicates if the page is related to a project |
| isOrganizationRelated | boolean | Indicates if the page is related to organization settings |
| isSnapshot | boolean | Determines if the component is rendered in a snapshot view |
| currentEnv | string | Current selected environment |
| userAvailableEnvs | any[] | List of environments available to the user |
| onEnvChange | function | Callback function when environment is changed |

#### Internal Logic
1. Retrieves current workspace and organization data from context.
2. Renders the organization name and initial.
3. If project-related, renders the workspace name.
4. If organization-related, renders "Organization Settings".
5. Renders the page name, making it clickable if it's the "Secrets" page.
6. If an environment is provided, renders an environment selector using the `Select` component.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| next/router | For routing functionality |
| @fortawesome/free-solid-svg-icons | For icon components |
| @fortawesome/react-fontawesome | For rendering FontAwesome icons |
| @app/context | For accessing organization and workspace context |
| @app/components/v2 | For UI components (Select, SelectItem, Tooltip) |

## Side Effects
The component may trigger a navigation action when the "Secrets" link is clicked or when an environment is changed (via the `onEnvChange` callback).

## Performance Considerations
The component uses context hooks which may cause re-renders if the context values change. The environment selector uses a dropdown, which could impact performance if there are many environments to render.

## API/Interface Reference
This component is designed to be used as part of a larger application's routing system. It expects certain props to be passed for proper rendering:

| Prop | Type | Description |
|:-----|:-----|:------------|
| pageName | string | Required. Name of the current page |
| isProjectRelated | boolean | Optional. Indicates if the page is project-related |
| isOrganizationRelated | boolean | Optional. Indicates if the page is organization-related |
| isSnapshot | boolean | Required. Determines if it's a snapshot view |
| currentEnv | string | Optional. Current selected environment |
| userAvailableEnvs | any[] | Optional. List of available environments |
| onEnvChange | function | Optional. Callback for environment change |

The component renders a navigation header with organization, workspace (if applicable), and page name. It also includes an optional environment selector if `currentEnv` and `userAvailableEnvs` are provided.