---
title: "LeaveProjectModal.tsx"
---

## High-level description
This code defines a React component called `LeaveProjectModal` that renders a modal dialog for confirming a user's intention to leave a project. It includes a form with an input field where the user must type a specific key to enable the "Leave Project" button.

## Code Structure
The main component `LeaveProjectModal` uses several sub-components and hooks to manage its state and render the UI. It handles user input, form submission, and communicates with the parent component through callbacks.

## Symbols

### LeaveProjectModal
#### Description
A React functional component that renders a modal dialog for confirming project leave action.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isOpen | boolean | Controls the visibility of the modal |
| onClose | function | Callback function to be called when the modal is closed |
| onChange | function | Callback function to be called when the modal's open state changes |
| deleteKey | string | The key that the user must type to confirm leaving the project |
| onLeaveApproved | function | Async function to be called when the leave action is approved |
| title | string | The title of the modal |
| subTitle | string | Optional subtitle for the modal |
| buttonText | string | Text for the leave button (default: "Leave Project") |

#### Internal Logic
1. Manages input state using `useState` hook
2. Handles loading state using `useToggle` hook
3. Resets input when the modal opens/closes using `useEffect`
4. Renders a `Modal` component with `ModalContent`
5. Includes a form with an input field for user confirmation
6. Disables the leave button until the correct key is entered
7. Handles form submission and leave action

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library for building the component |
| @app/hooks | Custom hooks, specifically `useToggle` |
| Button | Reusable button component |
| FormControl | Form control wrapper component |
| Input | Input field component |
| Modal, ModalClose, ModalContent | Modal-related components for creating the dialog |

## Error Handling
The component includes basic error handling in the `onDelete` function, where it catches any errors that occur during the `onLeaveApproved` action and ensures the loading state is turned off.

## Side Effects
The component has side effects related to state management:
1. It resets the input data when the modal opens or closes.
2. It calls the `onChange` callback when the modal's open state changes.
3. It calls the `onLeaveApproved` callback when the leave action is confirmed.

These side effects are managed using the `useEffect` hook and within event handlers.