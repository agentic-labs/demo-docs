---
title: "Overview"
---

## High-level description
This directory contains API-related code for authentication and secret scanning functionality in a frontend application. It includes functions for checking user authentication and managing various aspects of secret scanning operations, such as creating scanning sessions, checking installation status, fetching risks, linking Git app installations with organizations, and updating risk statuses.

## What does it do?
The code in this directory enables the following workflows:

1. Checking if a user is authenticated by verifying tokens stored in cookies.
2. Creating a new secret scanning integration session for an organization.
3. Checking the installation status of the secret scanning application for an organization.
4. Retrieving secret scanning risks associated with an organization.
5. Linking a Git app installation with an organization for secret scanning purposes.
6. Updating the status of identified risks in the secret scanning process.

These functions allow the frontend to interact with the backend API, enabling users to manage and monitor authentication status and secret scanning activities within their organizations.

## Key Files

1. `auth/checkAuth.ts`:
   - Contains the `checkAuth` function for verifying user authentication.

2. `secret-scanning/createSecretScanningSession.ts`:
   - Contains the `createNewIntegrationSession` function for creating a new secret scanning integration session.

3. `secret-scanning/getInstallationStatus.ts`:
   - Contains the `getInstallationStatus` function for checking the installation status of the secret scanning application.

4. `secret-scanning/getRisksByOrganization.ts`:
   - Defines the `IGitRisks` interface and the `getRisksByOrganization` function for fetching secret scanning risks.

5. `secret-scanning/linkGitAppInstallationWithOrganization.ts`:
   - Contains the `linkGitAppInstallationWithOrganization` function for linking Git app installations with organizations.

6. `secret-scanning/updateRiskStatus.ts`:
   - Defines the `RiskStatus` enum and the `updateRiskStatus` function for updating risk statuses.

## Dependencies
The main dependency used across these files is the `SecurityClient` from `@app/components/utilities/SecurityClient`. This client is used to make secure API calls to the backend, handling authentication tokens and request security.

## Configuration
While there are no explicit configuration files or environment variables mentioned, the API endpoints used in the functions suggest a specific API structure:

- Authentication endpoint: `/api/v1/auth/checkAuth`
- Secret scanning base URL: `/api/v1/secret-scanning`
  - Endpoints:
    - `/create-installation-session/organization`
    - `/installation-status/organization/{organizationId}`
    - `/organization/{organizationId}/risks`
    - `/link-installation`
    - `/organization/{organizationId}/risks/{riskId}`

These endpoints should be configured on the backend to handle the corresponding requests.

The code in this directory provides a comprehensive interface for managing authentication and secret scanning operations in a frontend application. It abstracts away the complexities of API interactions and token management, allowing developers to easily integrate these functionalities into their application.

Key features include:
- Secure authentication checks
- Creation and management of secret scanning sessions
- Retrieval and updating of risk information
- Linking of Git app installations with organizations

The use of the `SecurityClient` ensures that all API calls are made securely, with proper handling of authentication tokens. Error handling is consistent across functions, with errors being logged and functions returning `undefined` in case of failures.

The `IGitRisks` interface provides a detailed structure for representing secret scanning risks, including information about the location, content, and status of detected secrets. The `RiskStatus` enum defines the possible statuses for risks, allowing for precise control over risk management.

Overall, this directory serves as a crucial bridge between the frontend and backend, enabling seamless integration of authentication and secret scanning features in the application.