---
title: "updateRiskStatus.ts"
---

## High-level description
This code defines a function `updateRiskStatus` that updates the risk status for a secret scanning risk in a specific organization. It uses an enum `RiskStatus` to define possible risk statuses and makes an API call to update the status.

## Symbols

### `RiskStatus` (enum)
#### Description
An enumeration that defines the possible risk statuses for secret scanning.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| RESOLVED_FALSE_POSITIVE | string | Indicates the risk is resolved and was a false positive |
| RESOLVED_REVOKED | string | Indicates the risk is resolved and the secret was revoked |
| RESOLVED_NOT_REVOKED | string | Indicates the risk is resolved but the secret was not revoked |
| UNRESOLVED | string | Indicates the risk is unresolved |

### `updateRiskStatus` (function)
#### Description
Updates the risk status for a specific risk in an organization by making an API call.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| organizationId | string | The ID of the organization |
| riskId | string | The ID of the risk to update |
| status | RiskStatus | The new status to set for the risk |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Promise&lt;any \| undefined&gt; | A promise that resolves to the API response if successful, or undefined if failed |

#### Internal Logic
1. Constructs the API endpoint URL using the provided `organizationId` and `riskId`.
2. Makes a POST request to the endpoint using `SecurityClient.fetchCall`.
3. Sends the new status in the request body as JSON.
4. If the response status is 200, it returns the parsed JSON response.
5. If the request fails, it logs an error message and returns undefined.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| SecurityClient | Used to make the API call with proper authentication |

## Error Handling
The function logs an error message to the console if the API call fails or returns a non-200 status code.

## References
The `updateRiskStatus` function is used in the `RiskStatusSelection` component (from the related code snippet) to update the risk status when the user changes the selection in the UI.

## Side Effects
This function makes an API call that modifies the risk status on the server side.

## Performance Considerations
The function uses an asynchronous API call, which is good for performance as it doesn't block the main thread. However, it doesn't implement any caching or rate limiting, so frequent calls could potentially impact performance.