---
title: "_app.tsx"
---

## High-level description
This code defines the main application component (`App`) for a Next.js application. It sets up the overall layout, routing, and context providers for the application. The component handles authentication, organization selection, project management, and various UI elements like modals and dropdowns.

## Code Structure
The main `App` component is defined, which wraps the entire application. It uses various context providers and hooks to manage state and functionality. The component renders different layouts based on the current route and user authentication status.

## Symbols

### App
#### Description
The main application component that sets up the layout, routing, and context providers.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Component | React.ComponentType | The page component to be rendered |
| pageProps | any | Props to be passed to the page component |
| appProps | AppProps | Additional props for the app |

#### Internal Logic
1. Sets up various context providers (QueryClientProvider, ServerConfigProvider, AuthProvider, etc.)
2. Handles routing and navigation
3. Manages modals for creating new projects and upgrading plans
4. Renders the main layout with sidebar navigation and content area

## Side Effects
- Uses `useEffect` hooks to handle route changes and initialize telemetry
- Manages local storage for organization and project data

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next | Next.js framework |
| @fortawesome | Icon library |
| @tanstack/react-query | Data fetching and state management |
| nprogress | Progress bar for navigation |
| react-hook-form | Form handling |
| yup | Form validation |

## Configuration
The component uses various configuration options, including:
- `publicPaths`: An array of public routes that don't require authentication
- `supportOptions`: An array of support links and options

## Error Handling
The component doesn't implement specific error handling beyond basic exception raising.

## Logging
The component uses telemetry to capture page views.

## API/Interface Reference
The component doesn't explicitly define an API, but it does handle routing and navigation for the application.

## Performance Considerations
The component uses `useMemo` to optimize the rendering of certain elements, such as the organization and workspace lists.