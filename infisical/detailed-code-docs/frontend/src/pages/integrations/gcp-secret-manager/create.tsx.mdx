---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a GCP Secret Manager integration in the Infisical application. It provides a form for users to configure the integration, including selecting the source environment, secret path, GCP project, and various options like secret prefixes, suffixes, and labeling.

## Code Structure
The main component `GCPSecretManagerCreateIntegrationPage` uses React hooks and form handling libraries to manage the integration creation process. It interacts with several custom hooks for API calls and UI state management.

## Symbols

### GCPSecretManagerCreateIntegrationPage
#### Description
This is the main functional component that renders the GCP Secret Manager integration creation page.

#### Internal Logic
1. Initializes form handling with `useForm` hook
2. Fetches necessary data (workspace, integration auth, auth apps) using custom hooks
3. Handles form submission and integration creation
4. Renders a form with tabs for connection and options
5. Implements conditional rendering based on form state and data availability

#### Side Effects
- Fetches workspace, integration auth, and auth apps data on component mount
- Updates form values when certain data is loaded or when form fields change

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| react-hook-form | Form handling |
| next | Next.js framework components |
| @fortawesome | Icon components |
| yup | Schema validation |
| framer-motion | Animation library |
| queryString | URL query string parsing |
| @app/components/v2 | Custom UI components |
| @app/hooks | Custom hooks for API calls and UI state |

## Error Handling
The component implements basic error handling by catching and logging errors during form submission. It also displays error messages for form validation using yup schema.

## API/Interface Reference
The component interacts with several API endpoints through custom hooks:
- `useCreateIntegration`: Creates a new integration
- `useGetIntegrationAuthApps`: Fetches integration auth apps
- `useGetIntegrationAuthById`: Fetches integration auth by ID
- `useGetWorkspaceById`: Fetches workspace data

## Performance Considerations
The component uses React's `useEffect` hook to manage side effects and avoid unnecessary re-renders. It also implements conditional rendering to optimize performance when data is loading.

## TODOs
There is a commented-out section at the end of the component that suggests a potential future addition of a "Pro Tip" information box.