---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Heroku integration in the Infisical application. It allows users to set up synchronization between Infisical's secret management and Heroku's environment variables.

## Code Structure
The main component `HerokuCreateIntegrationPage` uses React hooks and form handling libraries to manage the integration setup process. It interacts with several API hooks to fetch and submit data.

## Symbols

### HerokuCreateIntegrationPage
#### Description
This is the main functional component that renders the Heroku integration creation page.

#### Internal Logic
1. Initializes form handling using `react-hook-form` with Yup schema validation.
2. Fetches necessary data (workspace, integration auth, Heroku apps) using custom hooks.
3. Renders a form with inputs for source environment, secret path, target Heroku app, and initial sync behavior.
4. Handles form submission to create the integration.

#### Side Effects
- Fetches data on component mount and when certain dependencies change.
- Navigates to the integrations page after successful integration creation.

### schema
#### Description
Yup schema object defining the validation rules for the form fields.

### FormData
#### Description
TypeScript type derived from the Yup schema, representing the structure of the form data.

### initialSyncBehaviors
#### Description
An array of objects defining the available initial sync behavior options.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react, react-hook-form | Form handling and component lifecycle |
| next/head, next/image, next/link, next/router | Next.js utilities for routing and meta tags |
| @fortawesome | Icon components |
| @hookform/resolvers/yup, yup | Form validation |
| queryString | Parsing URL query parameters |
| @app/components/v2, @app/hooks/api | Custom components and API hooks |

## Error Handling
The component includes basic error handling, logging errors to the console when the integration creation fails.

## API/Interface Reference
The component interacts with several API endpoints through custom hooks:
- `useCreateIntegration`: Creates the integration
- `useGetWorkspaceById`: Fetches workspace data
- `useGetIntegrationAuthById`: Fetches integration authentication data
- `useGetIntegrationAuthApps`: Fetches Heroku apps associated with the integration

## Performance Considerations
The component uses React hooks like `useEffect` to manage side effects and data fetching, which helps in optimizing performance by avoiding unnecessary re-renders.

## TODOs
There are several commented-out sections in the code, indicating potential future features or improvements:
- Pipeline-related functionality
- Additional information display
- Environment creation functionality

These sections might be implemented in future versions of the component.