---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Supabase integration. It allows users to select a project environment, specify a secrets path, and choose a Supabase project to integrate with. The component handles form input and submission, making API calls to create the integration.

## Code Structure
The main component `SupabaseCreateIntegrationPage` uses several hooks for data fetching and state management. It renders a form with select inputs and a button to create the integration. The component is protected and requires authentication.

## References
- Uses custom hooks from `@app/hooks/api`, `../../../hooks/api/integrationAuth`, and `../../../hooks/api/workspace`
- Imports UI components from `../../../components/v2`
- Uses Next.js `useRouter` for navigation
- Uses `queryString` for parsing URL parameters

## Symbols

### `SupabaseCreateIntegrationPage`
#### Description
A functional component that renders a form for creating a Supabase integration.

#### Inputs
No direct inputs, but it uses URL parameters and localStorage data.

#### Outputs
Renders a form UI for creating a Supabase integration.

#### Internal Logic
1. Fetches necessary data using custom hooks (workspace, integration auth, integration auth apps).
2. Manages local state for form inputs (source environment, secret path, target app).
3. Handles form submission, creating the integration using the `useCreateIntegration` hook.
4. Redirects to the integrations page on successful creation.

#### Side Effects
- Makes API calls to fetch and create data
- Modifies browser history on successful integration creation

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next/router | Next.js routing |
| query-string | Parsing URL parameters |
| @app/hooks/api | Custom API hooks |
| ../../../components/v2 | UI components |
| ../../../hooks/api/integrationAuth | Integration auth API hooks |
| ../../../hooks/api/workspace | Workspace API hooks |

## Error Handling
The component logs errors to the console if the integration creation fails.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| N/A | POST | Integration details | Integration data | Creates a new integration (handled by `useCreateIntegration` hook) |

## TODOs
No explicit TODOs in the code.