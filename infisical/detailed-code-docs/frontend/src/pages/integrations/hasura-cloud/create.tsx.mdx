---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Hasura Cloud integration in the Infisical application. It provides a form for users to select a project environment, specify a secrets path, and choose a Hasura Cloud project to integrate with.

## Code Structure
The main component `HasuraCloudCreateIntegrationPage` uses React Hook Form for form management, Next.js for routing and head management, and custom hooks for API interactions. It renders a form with input fields for integration configuration and handles form submission.

## Symbols

### `HasuraCloudCreateIntegrationPage`
#### Description
This is the main functional component that renders the Hasura Cloud integration creation page.

#### Internal Logic
1. Sets up form management using `useForm` hook with Yup schema validation.
2. Fetches workspace, integration auth, and integration auth apps data using custom hooks.
3. Renders a form with inputs for project environment, secrets path, and Hasura Cloud project selection.
4. Handles form submission by creating a new integration using the `useCreateIntegration` hook.
5. Displays a loading indicator or error message if data fetching fails.

#### Side Effects
- Modifies the browser's history when the form is successfully submitted (redirects to the integrations page).
- Interacts with localStorage to retrieve and use the project ID.

### `schema`
#### Description
Defines the Yup validation schema for the form inputs.

### `FormData`
#### Description
TypeScript type definition inferred from the Yup schema, representing the structure of the form data.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-hook-form | Form state management and validation |
| next | Routing and page components |
| @fortawesome | Icon components |
| yup | Schema validation |
| @app/components/v2 | Custom UI components |
| @app/hooks/api | Custom API hooks |

## Error Handling
The component displays an error message with contact information if data fetching fails or if the required data is not available.

## API/Interface Reference
The component uses several custom hooks for API interactions:
| Hook | Purpose |
|:-----|:--------|
| useCreateIntegration | Creates a new integration |
| useGetIntegrationAuthApps | Fetches integration auth apps |
| useGetIntegrationAuthById | Fetches integration auth by ID |
| useGetWorkspaceById | Fetches workspace data by ID |

## Configuration
The component uses a constant `APP_NAME` set to "Hasura Cloud" for displaying the integration name.

## TODOs
There are no explicit TODOs in the code.