---
title: "authorize.tsx"
---

## High-level description
This code defines a React component for a page that allows users to authorize and create a Qovery integration in the Infisical application. It provides a form for users to input their Qovery API token and handles the integration creation process.

## Symbols

### `QoveryCreateIntegrationPage`
#### Description
This is the main functional component that renders the Qovery integration authorization page. It manages the state for the access token input, handles form submission, and displays the UI for the integration setup.

#### Inputs
This component doesn't take any props.

#### Outputs
Returns a JSX element representing the entire page content.

#### Internal Logic
1. Uses React hooks for state management (`useState`) and routing (`useRouter`).
2. Utilizes a custom hook `useSaveIntegrationAccessToken` for saving the integration access token.
3. Handles form submission with error checking and API call to save the integration.
4. Renders a card with Qovery logo, input field for API token, and a submit button.

#### Side Effects
- Interacts with `localStorage` to retrieve the project ID.
- Navigates to a new page upon successful integration creation.

### `handleButtonClick`
#### Description
An asynchronous function that handles the form submission when the user clicks the "Connect to Qovery" button.

#### Internal Logic
1. Validates the access token input.
2. Sets loading state.
3. Calls the `mutateAsync` function to save the integration access token.
4. Navigates to the integration creation page on success.
5. Handles errors by logging them to the console.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next/head | Managing document head |
| next/image | Optimized image component |
| next/link | Handling internal navigation |
| next/router | Routing functionality |
| @fortawesome/react-fontawesome | FontAwesome icon components |
| @fortawesome/free-solid-svg-icons | Specific FontAwesome icons |
| @app/hooks/api | Custom hook for API interaction |
| ../../../components/v2 | UI components |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| requireAuth | boolean | true | Indicates that this page requires authentication |

## Error Handling
The component implements basic error handling for the access token input, displaying an error message if the token is blank. API call errors are logged to the console.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| Implicit | POST | { workspaceId, integration, accessToken } | integrationAuth object | Saves the integration access token |

This component provides a user interface for authorizing and creating a Qovery integration within the Infisical application. It focuses on collecting the necessary API token from the user and initiating the integration process.