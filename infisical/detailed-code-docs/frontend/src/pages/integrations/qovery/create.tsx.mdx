---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Qovery integration in the Infisical application. It allows users to configure settings for syncing secrets between Infisical and Qovery environments, including selecting source and target environments, organizations, projects, and applications.

## Code Structure
The main component `QoveryCreateIntegrationPage` uses various hooks for data fetching and state management. It renders a form with two tabs: Infisical Settings and Qovery Settings. The component handles user input and submits the integration configuration to the server.

## Symbols

### `QoveryCreateIntegrationPage`
#### Description
This is the main functional component that renders the Qovery integration creation page.

#### Internal Logic
1. Fetches necessary data using custom hooks (e.g., `useGetWorkspaceById`, `useGetIntegrationAuthById`).
2. Manages state for various form fields and selections.
3. Renders a tabbed interface with Infisical and Qovery settings.
4. Handles form submission and integration creation.

#### Side Effects
- Uses `useEffect` hooks to initialize state based on fetched data.
- Navigates to a different page after successful integration creation.

### `handleButtonClick`
#### Description
An asynchronous function that handles the form submission when the user clicks the "Create Integration" button.

#### Internal Logic
1. Validates the presence of `integrationAuth.id`.
2. Sets loading state.
3. Finds selected target organization, project, environment, and application.
4. Calls `mutateAsync` to create the integration with the collected data.
5. Navigates to the integrations page on success.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the UI |
| Next.js | React framework for routing and server-side rendering |
| @fortawesome/react-fontawesome | Icon library |
| framer-motion | Animation library for UI transitions |
| query-string | Parsing URL query parameters |
| @app/components/v2 | Custom UI components |
| @app/hooks/api | Custom hooks for API interactions |

## Configuration
The component uses several configuration options:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| qoveryScopes | Array | [{ label: "Application", value: "application" }, ...] | Available scopes for Qovery integration |

## Error Handling
The component includes basic error handling:
- Logs errors to the console during integration creation.
- Displays a generic error message if required data is not available.

## Performance Considerations
The component uses multiple `useEffect` hooks to manage state updates based on fetched data. This approach helps to avoid unnecessary re-renders and ensures that dependent data is properly updated.

---

This documentation provides a comprehensive overview of the `QoveryCreateIntegrationPage` component and its functionality. The component is responsible for creating a Qovery integration within the Infisical application, allowing users to configure various settings for syncing secrets between Infisical and Qovery environments.