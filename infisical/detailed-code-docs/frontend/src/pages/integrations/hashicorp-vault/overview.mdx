---
title: "Overview"
---

## High-level description
This directory contains React components for integrating HashiCorp Vault with Infisical. It provides functionality for authorizing and creating a HashiCorp Vault integration within the Infisical application. The code is structured as part of a Next.js application, utilizing React hooks and custom components for form management, API interactions, and UI rendering.

## What does it do?
The code in this directory enables users to set up a connection between Infisical and HashiCorp Vault. It does this through two main steps:

1. Authorization: Users provide their Vault credentials (URL, namespace, RoleID, and SecretID) to establish a connection with Vault.
2. Integration Creation: After authorization, users can configure specific details for the integration, such as selecting environments and setting up paths for secret storage.

These processes are implemented as separate pages with forms that guide the user through the necessary steps. The forms include validation to ensure correct input, and the components handle API calls to save the integration details and manage error scenarios.

## Entry points
The directory contains two main entry points:

1. `authorize.tsx`: This file contains the `HashiCorpVaultAuthorizeIntegrationPage` component, which handles the initial authorization step.
2. `create.tsx`: This file contains the `HashiCorpVaultCreateIntegrationPage` component, which manages the integration creation process after authorization.

The flow typically starts with the authorization page, where users input their Vault credentials. Upon successful authorization, users are directed to the creation page to finalize the integration setup.

## Dependencies
The code relies on several external libraries and frameworks:

1. React (v18.2.0 or compatible): Core library for building the user interface.
2. Next.js: React framework for server-side rendering and routing.
3. react-hook-form (v7.43.0 or compatible): Library for efficient form state management and validation.
4. Zod (v3.20.2 or compatible): Schema declaration and validation library.
5. Axios (v1.2.3 or compatible): HTTP client for making API requests.
6. @fortawesome/react-fontawesome and @fortawesome/free-solid-svg-icons: For rendering icons in the UI.

These dependencies were chosen to provide a robust, type-safe, and efficient development experience while creating a user-friendly interface for the integration process.

## Configuration
While there are no explicit configuration files in this directory, the components use environment-specific settings and API endpoints. These are likely managed through Next.js environment variables or global configuration files outside this directory.

Key configurable aspects include:

1. API endpoints for saving integration tokens and creating integrations.
2. Workspace and integration-specific data fetching.
3. Form validation rules and schemas.

For example, the `authorize.tsx` file uses a `useSaveIntegrationAccessToken` hook, which likely interfaces with a configurable API endpoint. Similarly, `create.tsx` uses hooks like `useGetWorkspaceById` and `useCreateIntegration`, which would rely on configured API routes.

Here's an example of how the form schema is configured in `create.tsx`:

```typescript
const generateFormSchema = (availableEnvironmentNames: string[]) =&gt;
  z.object({
    name: z.string().min(1, "Integration name is required"),
    environment: z.enum(availableEnvironmentNames as [string, ...string[]], {
      errorMap: () =&gt; ({ message: "Environment is required" })
    }),
    secretPath: z.string().min(1, "Secret path is required"),
    secretPathPrefix: z.string().optional()
  });
```

This schema is dynamically generated based on available environment names, allowing for flexible configuration of form validation rules.

Both components make extensive use of custom hooks and components from the Infisical application, indicating a modular and configurable approach to building the integration functionality.

In summary, this directory provides a crucial part of the Infisical application, enabling users to integrate HashiCorp Vault with their workflows. The code is structured to handle user input, validate data, interact with APIs, and manage the integration process in a robust and user-friendly manner.