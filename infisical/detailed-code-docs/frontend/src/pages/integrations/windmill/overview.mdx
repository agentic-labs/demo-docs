---
title: "Overview"
---

## High-level description
This directory contains React components for the Windmill integration functionality within the frontend of the application. It includes two main pages: an authorization page for connecting to Windmill and a creation page for setting up a new Windmill integration.

## What does it do?
The code in this directory implements a workflow for integrating Windmill into the application:

1. Authorization: Users can enter their Windmill API key to connect their account.
2. Integration Creation: After authorization, users can create a new Windmill integration by selecting a project environment, specifying a secrets path, and choosing a Windmill workspace.

This process allows users to securely connect their Windmill account and set up integrations within the application, enabling them to leverage Windmill's functionality in their projects.

## Key Files

### authorize.tsx
This file contains the `WindmillCreateIntegrationPage` component, which handles the authorization process. It provides a user interface for entering the Windmill API key, validates the input, and saves the integration access token upon successful authorization.

Key features:
- Input field for Windmill API key
- Error handling for invalid inputs
- API call to save the integration access token
- Redirection to the creation page upon successful authorization

### create.tsx
This file defines the `WindmillCreateIntegrationPage` component for creating a new Windmill integration. It presents a form where users can configure their integration settings.

Key features:
- Selection of project environment
- Input for secrets path
- Selection of Windmill workspace
- Form submission to create the integration
- Data fetching for workspaces and integration auth information

## Dependencies
Both components rely on several shared dependencies:

| Dependency | Purpose | Version |
|:-----------|:--------|:--------|
| react | Core React library for building UI components | Not specified |
| next/router | Handling routing and navigation in Next.js | Not specified |
| @app/hooks/api | Custom hooks for API interactions | Not specified |
| ../../../components/v2 | Shared UI components | Not specified |

These dependencies were likely chosen to leverage React's component-based architecture, Next.js's routing capabilities, and custom API hooks for efficient data management.

## Configuration
Both components use a static configuration property:

```javascript
static requireAuth = true
```

This indicates that authentication is required to access these pages, ensuring that only authorized users can perform Windmill integration actions.

The components also utilize local storage and URL query parameters for maintaining state and passing data between pages:

- `localStorage.getItem('projectId')`: Retrieves the current project ID
- URL query parameters: Used to pass the integration auth ID from the authorization page to the creation page

## Error Handling
Both components implement error handling to provide a smooth user experience:

- In `authorize.tsx`, errors are displayed to the user if the API key is empty or invalid.
- In `create.tsx`, form validation ensures all required fields are filled before submission.
- API errors are caught and logged to the console in both components.

This error handling approach helps guide users through the integration process while providing feedback on any issues that arise.

In conclusion, this directory encapsulates the Windmill integration functionality, providing a streamlined process for users to connect and configure Windmill within the application. The separation into authorization and creation pages allows for a step-by-step approach to integration setup, enhancing user experience and maintaining security throughout the process.