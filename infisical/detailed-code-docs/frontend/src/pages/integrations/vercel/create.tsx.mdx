---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Vercel integration within the Infisical application. It allows users to configure the integration by selecting various options such as the Infisical project environment, secrets path, Vercel app, and environment settings.

## Code Structure
The main component `VercelCreateIntegrationPage` uses several hooks for state management and API calls. It renders a form with various input fields and selection options, and handles the creation of the integration when the user submits the form.

## References
- Various components from "../../../components/v2"
- Hooks from "../../../hooks/api/integrationAuth" and "../../../hooks/api/workspace"
- Icons from "@fortawesome/free-solid-svg-icons"

## Symbols

### VercelCreateIntegrationPage
#### Description
This is the main functional component that renders the Vercel integration creation page.

#### Inputs
This component doesn't take any props directly, but it uses query parameters from the URL.

#### Internal Logic
1. Fetches necessary data using custom hooks (workspace, integration auth, apps, branches).
2. Manages form state using useState hooks.
3. Handles form submission and integration creation.
4. Renders the form with various input fields and selection options.

### handleButtonClick
#### Description
An async function that handles the creation of the Vercel integration when the user clicks the "Create Integration" button.

#### Inputs
No direct inputs, but it uses various state variables from the component.

#### Internal Logic
1. Validates input data.
2. Calls the `mutateAsync` function to create the integration.
3. Redirects the user to the integrations page upon successful creation.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next | Next.js framework components |
| @fortawesome/react-fontawesome | Font Awesome icon components |
| query-string | Parsing URL query parameters |
| @app/hooks/api | Custom API hooks |

## Configuration
The component uses several configuration options defined as constants:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| vercelEnvironments | Array | [{ name: "Development", slug: "development" }, ...] | Defines available Vercel environments |

## Error Handling
The component displays an error message if there's an issue loading the required data or if the integration creation fails.

## API/Interface Reference
This component doesn't expose an API but interacts with several API endpoints through custom hooks:

| Hook | Purpose |
|:-----|:--------|
| useCreateIntegration | Creates the Vercel integration |
| useGetIntegrationAuthById | Fetches integration auth data |
| useGetIntegrationAuthApps | Fetches available Vercel apps |
| useGetIntegrationAuthVercelBranches | Fetches available Vercel branches |
| useGetWorkspaceById | Fetches workspace data |