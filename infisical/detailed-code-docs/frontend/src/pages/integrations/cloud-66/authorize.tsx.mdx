---
title: "authorize.tsx"
---

## High-level description
This code defines a React component for a Cloud 66 integration authorization page. It allows users to input a Cloud 66 Personal Access Token, validates the input, and saves the token for integration with the application.

## Symbols

### `Cloud66CreateIntegrationPage`
#### Description
This is the main functional component that renders the Cloud 66 integration authorization page. It manages the state for the API key input, error handling, and loading state. It also handles the submission of the access token.

#### Inputs
This component doesn't take any props.

#### Outputs
Returns a JSX element representing the authorization page.

#### Internal Logic
1. Initializes state variables for API key, error text, and loading state.
2. Defines a `handleButtonClick` function to process the form submission:
   - Validates the API key input
   - Calls the `mutateAsync` function to save the integration access token
   - Redirects to the creation page on success
3. Renders a card with an input field for the API key and a submit button
4. Displays error messages if the API key is invalid

#### Side Effects
- Uses the `useRouter` hook to handle navigation
- Uses the `useSaveIntegrationAccessToken` custom hook for API calls
- Accesses and sets items in `localStorage`

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | For using React hooks and components |
| next/router | For routing functionality |
| @app/hooks/api | Custom hook for saving integration access token |
| ../../../components/v2 | UI components used in the page |

## Error Handling
The component implements basic error handling:
- Displays an error message if the API key is blank
- Catches and logs any errors that occur during the API call

## API/Interface Reference
| Function | Purpose |
|:---------|:--------|
| useSaveIntegrationAccessToken | Custom hook for saving the integration access token |

## Configuration
The component has a static property:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| requireAuth | boolean | true | Indicates that this page requires authentication |

This documentation provides a comprehensive overview of the `Cloud66CreateIntegrationPage` component, its functionality, and its integration within the larger application.