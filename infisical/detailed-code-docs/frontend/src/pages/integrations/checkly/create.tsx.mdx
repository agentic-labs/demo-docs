---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Checkly integration in the Infisical application. It allows users to configure the integration by selecting various options and submitting the integration details.

## Code Structure
The main component `ChecklyCreateIntegrationPage` uses several hooks and components to manage state, fetch data, and render the UI. It interacts with the API through custom hooks like `useCreateIntegration` and `useGetIntegrationAuthById`.

## Symbols

### `ChecklyCreateIntegrationPage`
#### Description
This is the main functional component that renders the Checkly integration creation page.

#### Internal Logic
1. Initializes state variables for form inputs and loading state.
2. Fetches necessary data using custom hooks.
3. Renders a form with tabs for connection and options.
4. Handles form submission to create the integration.

### `handleButtonClick`
#### Description
An asynchronous function that handles the form submission to create the integration.

#### Internal Logic
1. Validates input and prepares data for submission.
2. Calls the `mutateAsync` function from `useCreateIntegration` hook.
3. Redirects to the integrations page on success.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next/head | Managing document head |
| next/image | Optimized image component |
| next/link | Navigation between pages |
| next/router | Routing functionality |
| @fortawesome/react-fontawesome | Icon components |
| framer-motion | Animation library |
| query-string | Parsing URL query strings |
| @app/components/v2 | Custom UI components |
| @app/hooks/api | Custom API hooks |

## Configuration
The component uses an enum `TabSections` to define the available tabs:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| Connection | string | "connection" | Tab for connection settings |
| Options | string | "options" | Tab for additional options |

## Error Handling
The component displays an error message if data fetching fails or if required data is missing. It uses a try-catch block in the `handleButtonClick` function to handle errors during integration creation.

## API/Interface Reference
The component interacts with the following API endpoints through custom hooks:
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| /api/v1/integration | POST | Creates a new integration |
| /api/v1/integration-auth/{id} | GET | Fetches integration auth details |
| /api/v1/integration-auth/{id}/apps | GET | Fetches integration auth apps |
| /api/v1/integration-auth/{id}/checkly/groups | GET | Fetches Checkly groups |

This component is part of a larger application for managing integrations and requires authentication to access.