---
title: "create.tsx"
---

## High-level description
This code defines a React component for creating a Terraform Cloud integration in the Infisical application. It allows users to configure various settings for the integration, such as the source environment, secrets path, variable type, target Terraform Cloud project, and initial sync behavior.

## Code Structure
The main component `TerraformCloudCreateIntegrationPage` uses several hooks for data fetching and state management. It renders a form with various input fields and a submit button to create the integration.

## References
- `useCreateIntegration` hook from `@app/hooks/api`
- `useGetIntegrationAuthById` and `useGetIntegrationAuthApps` hooks from `../../../hooks/api/integrationAuth`
- `useGetWorkspaceById` hook from `../../../hooks/api/workspace`

## Symbols

### TerraformCloudCreateIntegrationPage
#### Description
This is the main functional component that renders the Terraform Cloud integration creation page.

#### Inputs
No direct inputs, but it uses query parameters from the URL.

#### Outputs
Returns a JSX element representing the integration creation form.

#### Internal Logic
1. Fetches workspace, integration auth, and integration auth apps data using custom hooks.
2. Manages form state using `useState` hooks.
3. Handles form submission by calling the `mutateAsync` function from `useCreateIntegration` hook.
4. Renders a form with various input fields for configuring the integration.

### handleButtonClick
#### Description
An asynchronous function that handles the form submission when the "Create Integration" button is clicked.

#### Inputs
No direct inputs, but it uses the component's state.

#### Outputs
No direct outputs, but it creates an integration and navigates to a new page on success.

#### Internal Logic
1. Validates the form inputs.
2. Calls the `mutateAsync` function to create the integration.
3. Navigates to the integrations page on success.

## Side Effects
- Modifies the browser's history when navigating after successful integration creation.
- Creates an integration on the server when the form is submitted.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library for building the component |
| next/head | For setting the page title and favicon |
| next/image | For optimized image rendering |
| next/link | For client-side navigation |
| next/router | For accessing and manipulating the router |
| @fortawesome/react-fontawesome | For rendering Font Awesome icons |
| query-string | For parsing URL query parameters |
| @app/hooks/api | Custom hooks for API interactions |
| ../../../components/v2 | UI components from the application |
| ../../../hooks/api/integrationAuth | Hooks for fetching integration auth data |
| ../../../hooks/api/workspace | Hook for fetching workspace data |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| initialSyncBehaviors | Array | [Object] | Defines the available initial sync behavior options |
| variableTypes | Array | [Object] | Defines the available variable type options |

## Error Handling
The component implements basic error handling by setting error text for the variable type field if it's left blank.

## API/Interface Reference
This component doesn't expose an API but interacts with several API endpoints through custom hooks.

## TODOs
There are no explicit TODOs in the code.