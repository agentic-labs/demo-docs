---
title: "create.tsx"
---

## High-level description
This code implements a page for creating an AWS Secrets Manager integration in Infisical. It allows users to configure various settings for the integration, including the source environment, secrets path, AWS region, mapping behavior, and optional tagging and encryption settings.

## Code Structure
The main component `AWSSecretManagerCreateIntegrationPage` uses several hooks and components to manage state and render the UI. It includes two main sections: Connection and Options, implemented using the `Tabs` component. The component handles user input and submits the integration creation request using the `useCreateIntegration` hook.

## Symbols

### AWSSecretManagerCreateIntegrationPage
#### Description
This is the main functional component that renders the AWS Secrets Manager integration creation page.

#### Inputs
This component doesn't take any props directly, but it uses various hooks to fetch and manage data.

#### Internal Logic
1. Fetches workspace and integration auth data using custom hooks.
2. Manages state for various form inputs (e.g., selected environment, AWS region, mapping behavior).
3. Handles form submission and integration creation.
4. Renders the UI with two main sections: Connection and Options.

#### Side Effects
- Creates a new integration when the form is submitted successfully.
- Navigates to the integrations page after successful creation.

### useCreateIntegration
#### Description
A custom hook (imported from `@app/hooks/api`) used to create the integration.

### useGetIntegrationAuthAwsKmsKeys
#### Description
A custom hook used to fetch AWS KMS keys for the selected region.

### FormControl, Input, Select, Switch, Tab, TabList, TabPanel, Tabs
#### Description
These are UI components imported from the project's component library, used to build the form and layout of the page.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| next | Next.js framework for routing and image optimization |
| @fortawesome | Icon library |
| framer-motion | Animation library for UI transitions |
| query-string | Parsing URL query parameters |

## Error Handling
The component includes basic error handling, displaying a generic error message if data fetching fails or if there are issues during integration creation.

## Performance Considerations
The component uses `useEffect` to set initial values for some form fields when the workspace data is loaded, which helps in optimizing re-renders.