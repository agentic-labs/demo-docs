---
title: "Overview"
---

## High-level description
This directory contains custom React hooks and TypeScript types for managing API keys in a frontend application. It provides functionality for creating, updating, and deleting API keys, as well as defining the data structures used in these operations. The hooks utilize React Query for efficient state management and API interactions.

## What does it do?
The code in this directory enables developers to easily integrate API key management into their React applications. It provides a set of hooks that handle the creation, updating, and deletion of API keys. These hooks abstract away the complexities of making API requests and managing state, allowing developers to focus on building user interfaces.

For example, when a user wants to create a new API key, the application can use the `useCreateAPIKeyV2` hook. This hook will handle sending the request to the server, updating the local cache, and providing status information (like loading and error states) that can be used to update the UI accordingly.

Similarly, when updating or deleting an API key, the `useUpdateAPIKeyV2` and `useDeleteAPIKeyV2` hooks can be used. These hooks ensure that after each operation, the list of API keys is automatically refreshed, keeping the UI in sync with the server state.

The types defined in this directory provide a clear structure for the data involved in these operations, enhancing type safety and developer experience when working with API keys.

## Key Files

1. `index.ts`: This is the main entry point for the API key hooks. It re-exports the hooks from the `queries` module, making them easily accessible to other parts of the application.

2. `queries.tsx`: This file contains the implementation of the custom hooks for API key operations. It uses React Query's `useMutation` hook to handle API requests and state management. The three main hooks are:
   - `useCreateAPIKeyV2`: For creating new API keys
   - `useUpdateAPIKeyV2`: For updating existing API keys
   - `useDeleteAPIKeyV2`: For deleting API keys

3. `types.ts`: This file defines TypeScript interfaces and types used throughout the API key management system. It includes definitions for API key data structures, request payloads, and response formats.

## Dependencies
- `@tanstack/react-query`: This library is used for managing server state in React applications. It provides the `useMutation` and `useQueryClient` hooks that are central to the implementation of the API key hooks.
- `@app/config/request`: This is likely an internal module that provides the `apiRequest` function for making API calls.

## Configuration
While there are no explicit configuration files in this directory, the API endpoints used by the hooks are hardcoded in the `queries.tsx` file. If these endpoints need to be configurable, they could be moved to a separate configuration file or environment variables.

The API endpoints used are:
- POST `/api/v3/api-key` for creating a new API key
- PATCH `/api/v3/api-key/{apiKeyDataId}` for updating an API key
- DELETE `/api/v3/api-key/{apiKeyDataId}` for deleting an API key

These hooks also reference a query key `userKeys.myAPIKeysV2`, which is likely defined elsewhere in the application. This query is invalidated after successful mutations to ensure that the list of API keys is refreshed.

In summary, this directory provides a well-structured and type-safe way to manage API keys in a React application, leveraging React Query for efficient state management and API interactions. The modular design allows for easy integration and use of these hooks throughout the application.