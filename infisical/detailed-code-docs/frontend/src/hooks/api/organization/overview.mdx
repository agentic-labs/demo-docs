---
title: "Overview"
---

## High-level description
This directory contains React hooks and TypeScript types for managing organization-related API operations in a frontend application. It provides a comprehensive set of functions for interacting with organization data, including creation, retrieval, updating, and deletion of various organization-related information such as billing details, payment methods, tax IDs, and licenses.

## What does it do?
The code in this directory enables the frontend application to:

1. Fetch and manage organization data, including creating new organizations, updating existing ones, and deleting them.
2. Handle billing-related operations, such as retrieving and updating billing details, managing payment methods, and fetching invoices.
3. Manage tax IDs for organizations.
4. Retrieve and manage organization licenses.
5. Fetch and display organization plans and product comparisons in tabular formats.
6. Create customer portal sessions for billing management.
7. Manage organization groups and identity memberships.

These functionalities are implemented as React hooks, which can be easily integrated into React components to handle API calls and manage the related state.

## Key Files

1. `index.ts`: This file serves as the main entry point for the directory, exporting all the hooks defined in the `queries.tsx` file. It provides a centralized way to import all organization-related hooks.

2. `queries.tsx`: This file contains the implementation of all the API-related hooks. It uses React Query to handle data fetching, caching, and state management. The file defines various functions for different organization operations, such as `useGetOrganizations`, `useCreateOrg`, `useUpdateOrg`, and many more.

3. `types.ts`: This file defines TypeScript interfaces and types used throughout the organization-related code. It includes definitions for `Organization`, `BillingDetails`, `Invoice`, `License`, and various other data structures used in the API operations.

## Dependencies
The main external dependency used in this directory is `@tanstack/react-query`, which is employed for efficient data fetching and state management. The version of React Query used is not explicitly specified in the provided code.

React Query was likely chosen for its powerful data synchronization capabilities, built-in caching mechanisms, and its ability to simplify complex data fetching scenarios in React applications.

Additionally, the code relies on an internal `apiRequest` utility from `@app/config/request` for making API calls.

## Configuration
While there are no explicit configuration files in this directory, the code uses a `organizationKeys` object to define query keys for various organization-related queries. These keys are used by React Query to manage and invalidate cached data effectively.

Example of query key usage:
```typescript
const organizationKeys = {
  all: ['organizations'] as const,
  lists: () =&gt; [...organizationKeys.all, 'list'] as const,
  list: (filters: string) =&gt; [...organizationKeys.lists(), { filters }] as const,
  details: () =&gt; [...organizationKeys.all, 'detail'] as const,
  detail: (id: string) =&gt; [...organizationKeys.details(), id] as const,
};
```

These query keys are used throughout the hooks to ensure proper caching and invalidation of data fetched from the API.

The hooks in this directory are designed to be flexible and reusable, often accepting parameters such as `organizationId` to customize the API requests based on the current context in which they are used.