---
title: "index.ts"
---

## High-level description
This code exports custom React hooks for managing secret rotation operations in a frontend application. It provides hooks for creating, deleting, restarting secret rotations, and fetching secret rotation providers and existing rotations.

## Code Structure
The file acts as a central export point for various hooks related to secret rotation operations. It imports and re-exports hooks from two separate files: "mutation.ts" and "queries.ts".

## Symbols

### useCreateSecretRotation
#### Description
A custom hook for creating a new secret rotation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dto | TCreateSecretRotationDTO | Data transfer object containing information for creating a secret rotation |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutation | UseMutationResult | A mutation result object from React Query |

#### Internal Logic
Uses React Query's `useMutation` to send a POST request to create a new secret rotation. On success, it invalidates the query cache for the list of secret rotations.

### useDeleteSecretRotation
#### Description
A custom hook for deleting an existing secret rotation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dto | TDeleteSecretRotationDTO | Data transfer object containing the ID of the secret rotation to delete |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutation | UseMutationResult | A mutation result object from React Query |

#### Internal Logic
Uses React Query's `useMutation` to send a DELETE request to remove a secret rotation. On success, it invalidates the query cache for the list of secret rotations.

### useRestartSecretRotation
#### Description
A custom hook for restarting a secret rotation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dto | TRestartSecretRotationDTO | Data transfer object containing the ID of the secret rotation to restart |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutation | UseMutationResult | A mutation result object from React Query |

#### Internal Logic
Uses React Query's `useMutation` to send a POST request to restart a secret rotation. On success, it invalidates the query cache for the list of secret rotations.

### useGetSecretRotationProviders
#### Description
A custom hook for fetching the list of secret rotation providers.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| workspaceId | string | The ID of the workspace |
| options | UseQueryOptions | Optional configuration for the query |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | UseQueryResult | A query result object from React Query containing the list of secret rotation providers |

#### Internal Logic
Uses React Query's `useQuery` to fetch the list of secret rotation providers for a given workspace.

### useGetSecretRotations
#### Description
A custom hook for fetching the list of existing secret rotations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| workspaceId | string | The ID of the workspace |
| options | UseQueryOptions | Optional configuration for the query |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| query | UseQueryResult | A query result object from React Query containing the list of secret rotations |

#### Internal Logic
Uses React Query's `useQuery` to fetch the list of secret rotations for a given workspace.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @tanstack/react-query | Provides hooks for data fetching and state management |
| @app/config/request | Contains the `apiRequest` utility for making API calls |

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /api/v1/secret-rotations | POST | TCreateSecretRotationDTO | {} | Create a new secret rotation |
| /api/v1/secret-rotations/${id} | DELETE | - | {} | Delete a secret rotation |
| /api/v1/secret-rotations/restart | POST | { id: string } | {} | Restart a secret rotation |
| /api/v1/secret-rotation-providers/${workspaceId} | GET | - | TSecretRotationProviderList | Get list of secret rotation providers |
| /api/v1/secret-rotations | GET | { workspaceId: string } | { secretRotations: TSecretRotation[] } | Get list of secret rotations |

This code provides a comprehensive set of hooks for managing secret rotations in a React application, leveraging React Query for efficient data fetching and state management.