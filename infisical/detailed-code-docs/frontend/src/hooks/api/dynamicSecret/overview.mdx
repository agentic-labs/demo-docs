---
title: "Overview"
---

## High-level description
This directory contains custom React hooks and TypeScript types for managing dynamic secrets in a frontend application. It provides a set of tools for creating, updating, deleting, and querying dynamic secrets, as well as type definitions to ensure type safety throughout the application.

## What does it do?
The code in this directory enables developers to interact with dynamic secrets in a React-based frontend application. Here's a breakdown of its functionality:

1. It allows creating new dynamic secrets by sending POST requests to the API.
2. It provides hooks for updating existing dynamic secrets via PATCH requests.
3. It enables deleting dynamic secrets through DELETE requests.
4. It offers hooks for querying dynamic secrets, both for specific environments and across multiple environments.
5. It defines a comprehensive set of TypeScript types and enums to represent dynamic secrets, their statuses, providers, and various data transfer objects (DTOs).

These hooks and types work together to provide a robust and type-safe way of managing dynamic secrets in the frontend. They handle API interactions, cache invalidation, and data fetching, making it easier for developers to integrate dynamic secret management into their React components.

## Key Files

1. `index.ts`: This file serves as the main entry point for the dynamic secret hooks. It re-exports all the hooks from the `mutation.ts` and `queries.ts` files, providing a clean interface for importing these hooks elsewhere in the application.

2. `mutation.ts`: This file contains hooks for modifying dynamic secrets:
   - `useCreateDynamicSecret`: For creating new dynamic secrets
   - `useUpdateDynamicSecret`: For updating existing dynamic secrets
   - `useDeleteDynamicSecret`: For deleting dynamic secrets
   These hooks use React Query's `useMutation` to handle API requests and cache invalidation.

3. `queries.ts`: This file provides hooks for fetching dynamic secret data:
   - `useGetDynamicSecrets`: Fetches dynamic secrets for a specific environment
   - `useGetDynamicSecretDetails`: Retrieves details of a specific dynamic secret
   - `useGetDynamicSecretsOfAllEnv`: Fetches dynamic secrets across multiple environments
   These hooks use React Query's `useQuery` and `useQueries` for efficient data fetching and caching.

4. `types.ts`: This file defines TypeScript types and enums related to dynamic secrets. It includes:
   - Enums for dynamic secret statuses and providers
   - Types for dynamic secret structures and provider configurations
   - Data transfer object (DTO) types for various operations on dynamic secrets

## Dependencies
The code in this directory relies on the following main dependencies:

1. React: For creating custom hooks and managing component state.
2. @tanstack/react-query: Used for data fetching, caching, and state management. It provides the `useMutation`, `useQuery`, and `useQueries` hooks.
3. @app/config/request: An internal module that likely provides the `apiRequest` object for making API calls.

## Configuration
While there are no explicit configuration files in this directory, the code uses several environment-specific parameters:

- `projectSlug`: Identifies the current project
- `environmentSlug`: Identifies the specific environment
- `path`: Specifies the path for dynamic secrets

These parameters are likely provided by the parent components or a global configuration when using the hooks.

The code also defines query keys for caching and invalidation purposes:

```typescript
export const dynamicSecretKeys = {
  list: (projectSlug: string, environmentSlug: string, path: string) =&gt; [
    "dynamic-secrets",
    projectSlug,
    environmentSlug,
    path,
  ],
  details: (
    projectSlug: string,
    environmentSlug: string,
    path: string,
    name: string
  ) =&gt; [...dynamicSecretKeys.list(projectSlug, environmentSlug, path), name],
};
```

These keys are used to organize and manage the cache for dynamic secret queries.

In summary, this directory provides a comprehensive set of tools for managing dynamic secrets in a React frontend application. It offers type-safe hooks for CRUD operations and querying, along with well-defined types to ensure consistency across the application. The use of React Query for data fetching and caching helps in building efficient and responsive user interfaces when working with dynamic secrets.