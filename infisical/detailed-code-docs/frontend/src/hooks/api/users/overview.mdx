---
title: "Overview"
---

## High-level description
This directory contains React hooks and TypeScript types for managing user-related operations in the Infisical application. It provides a comprehensive set of functions for user authentication, workspace management, API key handling, and organization memberships.

## What does it do?
The code in this directory facilitates various user-related processes in the Infisical application:

1. User Management: It allows adding users to workspaces (both end-to-end encrypted and non-encrypted), renaming users, and deleting user accounts.

2. Authentication: It handles user login, logout, and multi-factor authentication (MFA) operations.

3. Email Verification: It provides functionality to send and verify email verification codes.

4. API Key Management: It allows creating, retrieving, and deleting API keys for users.

5. Organization and Project Management: It facilitates adding users to organizations, managing organization memberships, and handling user project favorites.

6. Session Management: It provides functions to retrieve and revoke user sessions.

7. User Actions: It allows registering and retrieving user actions.

8. Data Encryption: For end-to-end encrypted workspaces, it handles the encryption and decryption of workspace keys.

## Key Files

1. `index.tsx`: This file serves as the main entry point, re-exporting functions from the "mutation" and "queries" modules. It provides a clean interface for other parts of the application to import and use these hooks.

2. `mutation.tsx`: This file contains custom hooks for performing mutations (data modifications) related to user operations. Key functions include:
   - `useAddUserToWsE2EE` and `useAddUserToWsNonE2EE` for adding users to workspaces
   - `useSendEmailVerificationCode` and `useVerifyEmailVerificationCode` for email verification
   - `useUpdateUserProjectFavorites` for managing user's project favorites

3. `queries.tsx`: This file provides custom hooks for querying user-related data. Notable functions include:
   - `useGetUser` for fetching user details
   - `useGetOrgUsers` for retrieving organization users
   - `useGetMyAPIKeys` for fetching user's API keys
   - `useLogoutUser` for handling user logout
   - `useUpdateMfaEnabled` for updating MFA settings

4. `types.ts`: This file defines TypeScript types and enums used throughout the user-related operations. It includes definitions for:
   - User authentication methods
   - User data structures
   - Organization and project membership types
   - API key and token data structures

## Dependencies
The code relies on several external libraries and internal utilities:

1. `@tanstack/react-query`: Used for managing server state and mutations.
2. `@app/components/utilities/cryptography/crypto`: Provides cryptographic operations for end-to-end encryption.
3. `@app/config/request`: Used for making API requests.

## Configuration
While there are no explicit configuration files, the code uses various API endpoints and query keys that may need to be configured or updated based on the backend API structure.

The hooks and functions in this directory form a crucial part of the Infisical application's user management system, providing a robust and type-safe interface for handling user-related operations throughout the application.