---
title: "Overview"
---

## High-level description
This directory contains custom React hooks for managing certificate templates and EST (Enrollment over Secure Transport) configurations in a PKI (Public Key Infrastructure) system. It provides functionality for creating, updating, deleting, and retrieving certificate templates and EST configurations through API calls using React Query.

## What does it do?
The hooks in this directory enable developers to interact with a backend API for managing certificate templates and EST configurations. These hooks handle various operations such as:

1. Creating new certificate templates
2. Updating existing certificate templates
3. Deleting certificate templates
4. Retrieving certificate template details
5. Creating EST configurations for certificate templates
6. Updating EST configurations
7. Retrieving EST configuration details

These hooks abstract away the complexity of making API calls and managing cache invalidation, providing a clean and easy-to-use interface for components that need to work with certificate templates and EST configurations.

## Key Files

### index.tsx
This file serves as the main entry point for the hooks. It re-exports all the hooks from the `mutations.tsx` and `queries.tsx` files, providing a centralized import point for consumers of these hooks.

### mutations.tsx
This file contains custom hooks for API mutations related to certificate templates and EST configurations. It includes the following hooks:

- `useCreateCertTemplate`: Creates a new certificate template
- `useUpdateCertTemplate`: Updates an existing certificate template
- `useDeleteCertTemplate`: Deletes a certificate template
- `useCreateEstConfig`: Creates a new EST configuration for a certificate template
- `useUpdateEstConfig`: Updates an existing EST configuration

These hooks use React Query's `useMutation` hook to handle API calls and cache invalidation.

### queries.tsx
This file contains custom hooks for fetching data related to certificate templates and EST configurations. It includes the following hooks:

- `useGetCertTemplate`: Retrieves a certificate template by its ID
- `useGetEstConfig`: Retrieves an EST configuration for a given certificate template ID

These hooks use React Query's `useQuery` hook to handle data fetching and caching.

### types.ts
This file defines TypeScript interfaces and types used throughout the directory. It includes definitions for:

- Certificate template structures (`TCertificateTemplate`)
- Data transfer objects for creating, updating, and deleting certificate templates
- EST configuration structures (`TEstConfig`)
- Data transfer objects for creating and updating EST configurations

## Dependencies
The main dependencies used in this directory are:

1. @tanstack/react-query (version not specified): Used for managing API calls, caching, and state management.
2. @app/config/request (internal dependency): Provides the `apiRequest` object for making API calls.

React Query was likely chosen for its powerful data fetching and caching capabilities, which simplify the process of managing server state in React applications.

## Configuration
While there are no explicit configuration files in this directory, the API endpoints used by the hooks are hardcoded in the respective files. For example:

- Certificate template endpoints: `/api/v1/pki/certificate-templates`
- EST configuration endpoints: `/api/v1/pki/certificate-templates/{certificateTemplateId}/est-config`

These endpoints suggest that the application is using a versioned API (v1) and follows RESTful conventions.

The hooks also use query keys defined in the `certTemplateKeys` object in `queries.tsx`, which helps in organizing and invalidating cached data efficiently.

In conclusion, this directory provides a comprehensive set of hooks for managing certificate templates and EST configurations, abstracting away the complexities of API interactions and state management. This allows developers to easily integrate these functionalities into their React components without worrying about the underlying implementation details.