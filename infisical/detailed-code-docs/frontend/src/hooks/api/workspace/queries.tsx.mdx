---
title: "queries.tsx"
---

Here's a high-level description and documentation of the target file:

## High-level description
This file contains React hooks and utility functions for managing workspace-related operations in the Infisical application. It includes queries and mutations for fetching, creating, updating, and deleting workspaces, environments, and related data. The file uses React Query for state management and API interactions.

## Code Structure
The file exports various custom hooks that encapsulate API calls and state management for workspace-related operations. These hooks are built on top of React Query's `useQuery` and `useMutation` hooks. The file also defines a `workspaceKeys` object for managing query keys.

## Symbols

### `workspaceKeys`
#### Description
An object containing functions that generate query keys for various workspace-related queries. These keys are used by React Query for caching and invalidation.

### `useGetWorkspaceById`
#### Description
A custom hook that fetches a workspace by its ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| workspaceId | string | The ID of the workspace to fetch |
| dto | object | Optional configuration object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | Workspace | The fetched workspace data |

### `useGetUserWorkspaces`
#### Description
A custom hook that fetches all workspaces for the current user.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| includeRoles | boolean | Optional flag to include role information |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | Workspace[] | An array of workspace objects |

### `useCreateWorkspace`
#### Description
A custom hook that creates a new workspace.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| projectName | string | The name of the new workspace |
| kmsKeyId | string | Optional KMS key ID |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutateAsync | function | Function to trigger the mutation |

### `useDeleteWorkspace`
#### Description
A custom hook that deletes a workspace.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| workspaceID | string | The ID of the workspace to delete |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutateAsync | function | Function to trigger the mutation |

(Note: There are many more hooks and functions in the file, but I've included a few representative examples to keep the documentation concise.)

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @tanstack/react-query | Provides hooks for data fetching and state management |
| @app/config/request | Contains the `apiRequest` utility for making API calls |
| @app/components/notifications | Provides notification functionality |

## Error Handling
The hooks in this file generally do not implement specific error handling. Errors are typically handled by React Query's built-in error handling mechanisms or by the components that use these hooks.

## API/Interface Reference
This file primarily exports custom hooks that interact with the Infisical API. Each hook corresponds to a specific API endpoint or set of related endpoints for workspace management operations.

The main interfaces exposed by this file are the custom hooks, which can be imported and used in React components to manage workspace-related data and operations.