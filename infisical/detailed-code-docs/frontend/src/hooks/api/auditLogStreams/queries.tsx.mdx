---
title: "queries.tsx"
---

## High-level description
This code defines React Query hooks for fetching audit log streams and their details. It provides functionality to retrieve a list of audit log streams for an organization and to fetch details of a specific audit log stream.

## Code Structure
The code is organized into query keys, fetch functions, and React Query hooks. The query keys are used to uniquely identify and cache the query results. The fetch functions make API requests to retrieve data, and the hooks wrap these functions using React Query's `useQuery` hook.

## Symbols

### `auditLogStreamKeys`
#### Description
An object containing functions to generate query keys for audit log stream queries.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| orgId | string | Organization ID for the list query |
| id | string | Audit log stream ID for the getById query |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| list | function | Returns an array representing the query key for listing audit log streams |
| getById | function | Returns an array representing the query key for getting a specific audit log stream |

### `fetchAuditLogStreams`
#### Description
An asynchronous function that fetches a list of audit log streams from the API.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| auditLogStreams | TAuditLogStream[] | An array of audit log stream objects |

### `useGetAuditLogStreams`
#### Description
A custom React Query hook for fetching audit log streams.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| orgId | string | Organization ID |

#### Outputs
The hook returns a query result object from React Query, containing the fetched data and query state.

### `fetchAuditLogStreamDetails`
#### Description
An asynchronous function that fetches details of a specific audit log stream from the API.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Audit log stream ID |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| auditLogStream | TAuditLogStream | An object containing the details of the specified audit log stream |

### `useGetAuditLogStreamDetails`
#### Description
A custom React Query hook for fetching details of a specific audit log stream.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Audit log stream ID |

#### Outputs
The hook returns a query result object from React Query, containing the fetched data and query state.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @tanstack/react-query | Provides the `useQuery` hook for data fetching and caching |
| @app/config/request | Provides the `apiRequest` object for making API requests |

## References
- The `TAuditLogStream` type is imported from a local `types` file, which is not provided in the given code snippets.
- The `apiRequest` object is imported from `@app/config/request`, which is likely a configured instance of an HTTP client.

This code is part of a larger application that deals with audit log streams. It provides the necessary hooks for fetching data that can be used in components like the `AuditLogStreamsTab` component shown in the related code snippets.