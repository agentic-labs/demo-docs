---
title: "queries.tsx"
---

## High-level description
This code defines a set of React hooks and utility functions for managing integrations with various third-party services in a frontend application. It provides functionality for fetching, creating, and managing integration authorizations, as well as retrieving data from integrated services.

## Code Structure
The code is organized into several custom hooks and utility functions, each responsible for a specific aspect of integration management. These hooks utilize the React Query library for data fetching and caching. The main symbols are interconnected through shared query keys and data structures.

## Symbols

### `integrationAuthKeys`
#### Description
An object containing functions that generate query keys for various integration-related queries.

### `useGetIntegrationAuthById`
#### Description
A custom hook that fetches integration authorization details by ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| integrationAuthId | string | The ID of the integration authorization |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | IntegrationAuth | The fetched integration authorization data |

### `useGetIntegrationAuthApps`
#### Description
A custom hook that fetches applications associated with an integration authorization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| integrationAuthId | string | The ID of the integration authorization |
| teamId | string (optional) | The ID of the team |
| azureDevOpsOrgName | string (optional) | The Azure DevOps organization name |
| workspaceSlug | string (optional) | The workspace slug |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| data | App[] | An array of fetched applications |

### `useAuthorizeIntegration`
#### Description
A custom hook that handles the authorization process for an integration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| workspaceId | string | The ID of the workspace |
| code | string | The authorization code |
| integration | string | The name of the integration |
| url | string (optional) | The URL for the integration |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutateAsync | Function | A function to trigger the authorization process |

### `useSaveIntegrationAccessToken`
#### Description
A custom hook that saves an integration access token.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| workspaceId | string | The ID of the workspace |
| integration | string | The name of the integration |
| refreshToken | string (optional) | The refresh token |
| accessId | string (optional) | The access ID |
| accessToken | string (optional) | The access token |
| awsAssumeIamRoleArn | string (optional) | The AWS IAM role ARN |
| url | string (optional) | The URL for the integration |
| namespace | string (optional) | The namespace |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mutateAsync | Function | A function to trigger the token saving process |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @tanstack/react-query | Handles data fetching, caching, and state management |
| @app/config/request | Provides the `apiRequest` utility for making API calls |

## Error Handling
The code uses React Query's built-in error handling mechanisms. Errors are typically caught and logged to the console.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.