---
title: "Overview"
---

## High-level description
This directory contains React hooks and utility functions for managing certificates in a frontend application. It provides functionality for fetching, deleting, and revoking certificates, as well as defining constants, enums, and types related to certificate operations.

## What does it do?
The code in this directory enables the frontend application to interact with a certificate management system. It allows users to:

1. Retrieve certificate information and certificate bodies
2. Delete certificates
3. Revoke certificates
4. Display certificate statuses, key algorithms, and revocation reasons in a user-friendly manner

The hooks use React Query for efficient data fetching and caching, while the utility functions and constants provide a standardized way to work with certificate-related data across the application.

## Key Files

1. `constants.tsx`: Defines mappings between enum values and human-readable names for certificate statuses, key algorithms, and revocation reasons. It also provides utility functions for determining UI elements based on certificate properties.

2. `enums.tsx`: Contains TypeScript enums for certificate statuses (`CertStatus`), key algorithms (`CertKeyAlgorithm`), and revocation reasons (`CrlReason`). These enums ensure consistency and type safety throughout the application.

3. `mutations.tsx`: Defines custom React hooks (`useDeleteCert` and `useRevokeCert`) for performing certificate deletion and revocation operations. These hooks use React Query's `useMutation` for managing API requests and cache invalidation.

4. `queries.tsx`: Provides custom React Query hooks (`useGetCert` and `useGetCertBody`) for fetching certificate data and certificate bodies. It also defines query keys for efficient caching and invalidation.

5. `types.ts`: Contains TypeScript interfaces and types for certificate-related data structures, including `TCertificate`, `TDeleteCertDTO`, and `TRevokeCertDTO`.

6. `index.tsx`: Acts as an export hub, re-exporting the hooks from `mutations.tsx` and `queries.tsx` for easy access from other parts of the application.

## Dependencies
The code in this directory primarily relies on the following external libraries:

1. `@tanstack/react-query`: Used for efficient data fetching, caching, and state management in React applications.
2. React: The underlying framework for building the user interface.

Additionally, it uses internal dependencies such as:

1. `@app/config/request`: Likely provides an API request utility (possibly an Axios instance) for making HTTP requests.
2. `../workspace/queries`: Used for invalidating workspace-related queries after certificate operations.

## Configuration
While there are no explicit configuration files in this directory, the code uses several constants and enums that effectively serve as configuration:

1. `certStatusToNameMap`: Maps certificate statuses to human-readable names.
2. `certKeyAlgorithmToNameMap`: Maps key algorithms to human-readable names.
3. `crlReasonToNameMap`: Maps revocation reasons to human-readable names.
4. `certKeyAlgorithms`: An array of supported key algorithms with their labels and values.
5. `crlReasons`: An array of supported revocation reasons with their labels and values.

These constants and enums can be modified to add, remove, or change the supported options for certificate management in the application.

The API endpoints used for certificate operations are:

- GET `/api/v1/pki/certificates/${serialNumber}`: Fetch a certificate by serial number
- GET `/api/v1/pki/certificates/${serialNumber}/certificate`: Fetch a certificate body and related information
- DELETE `/api/v1/pki/certificates/${serialNumber}`: Delete a certificate
- POST `/api/v1/pki/certificates/${serialNumber}/revoke`: Revoke a certificate

These endpoints suggest that the application is interacting with a PKI (Public Key Infrastructure) system for certificate management.

In summary, this directory provides a comprehensive set of tools for managing certificates in a React-based frontend application, with a focus on type safety, efficient data management, and a clear separation of concerns between different aspects of certificate operations.