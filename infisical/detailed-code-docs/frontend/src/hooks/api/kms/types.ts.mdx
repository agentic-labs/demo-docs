---
title: "types.ts"
---

Here's a detailed documentation of the target file `frontend/src/hooks/api/kms/types.ts`:

## High-level description
This file defines TypeScript types and schemas related to Key Management Systems (KMS) in the Infisical application. It includes types for KMS entities, list entries, and schemas for AWS KMS configuration.

## Symbols

### `Kms`
#### Description
Defines the structure of a KMS entity.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the KMS |
| description | string | Description of the KMS |
| orgId | string | Organization ID associated with the KMS |
| slug | string | Slug for the KMS |
| external | object | External KMS details |

### `KmsListEntry`
#### Description
Defines the structure of a KMS list entry, which is a simplified version of the `Kms` type.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the KMS |
| description | string | Description of the KMS |
| isDisabled | boolean | Indicates if the KMS is disabled |
| createdAt | string | Creation timestamp |
| updatedAt | string | Last update timestamp |
| slug | string | Slug for the KMS |
| externalKms | object | External KMS details |

### `KmsType`
#### Description
Enum defining the types of KMS.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Internal | string | Represents an internal KMS |
| External | string | Represents an external KMS |

### `ExternalKmsProvider`
#### Description
Enum defining the external KMS providers.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| AWS | string | Represents AWS as an external KMS provider |

### `INTERNAL_KMS_KEY_ID`
#### Description
Constant string representing the internal KMS key ID.

### `KmsAwsCredentialType`
#### Description
Enum defining the types of AWS credentials for KMS.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| AssumeRole | string | Represents the assume role credential type |
| AccessKey | string | Represents the access key credential type |

### `ExternalKmsAwsSchema`
#### Description
Zod schema for validating AWS KMS configuration.

#### Internal Logic
Defines a schema for AWS KMS configuration, including credential information (either access key or assume role), AWS region, and optional KMS key ID.

### `ExternalKmsInputSchema`
#### Description
Zod schema for validating external KMS input.

#### Internal Logic
Defines a discriminated union schema based on the external KMS provider type.

### `AddExternalKmsSchema`
#### Description
Zod schema for validating the addition of an external KMS.

#### Internal Logic
Defines a schema for adding an external KMS, including slug, description, and provider details.

### `AddExternalKmsType`
#### Description
Type inference from the `AddExternalKmsSchema`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @sindresorhus/slugify | Used for slug validation |
| zod | Used for schema definition and validation |

## Error Handling
The file uses Zod schemas for input validation, which will throw errors if the input doesn't match the defined schemas.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.