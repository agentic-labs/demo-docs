---
title: "Overview"
---

## High-level description
This directory contains React hooks and TypeScript types for handling authentication-related API calls in a frontend application. It provides a comprehensive set of functions for user authentication, including login, password management, multi-factor authentication (MFA), and organization selection.

## What does it do?
The code in this directory facilitates various authentication processes:

1. User Login: It implements a two-step login process, likely using the Secure Remote Password (SRP) protocol for enhanced security.
2. Multi-factor Authentication: It provides functions to send and verify MFA tokens.
3. Password Management: It includes functionality for password reset, change, and verification.
4. Account Management: It offers functions for completing account setup, verifying signup invitations, and handling OAuth token exchanges.
5. Organization Selection: It allows users to select an organization in a multi-tenant system.
6. Token Management: It provides hooks for obtaining and refreshing authentication tokens.

These functionalities are implemented as React hooks, making them easy to integrate into React components. The hooks use React Query for efficient data fetching and state management.

## Key Files

1. `index.tsx`: This file serves as the main entry point for the authentication hooks. It exports various custom hooks from the `queries.tsx` file, providing a centralized access point for authentication functionalities.

2. `queries.tsx`: This file contains the implementation of the authentication-related React hooks. It uses React Query's `useMutation` and `useQuery` hooks to manage API requests and caching. Key functions include:
   - `useLogin1` and `useLogin2` for the two-step login process
   - `useSelectOrganization` for organization selection
   - `useGetAuthToken` for fetching authentication tokens
   - Various hooks for password reset, MFA verification, and account completion

3. `types.ts`: This file defines TypeScript interfaces and types used throughout the authentication process. It includes types for:
   - Login data transfer objects (DTOs) and responses
   - MFA token verification
   - Password change and reset
   - Account completion and signup
   - OAuth token exchange

## Dependencies
The code relies on several key dependencies:

1. @tanstack/react-query (version not specified): Used for managing API requests and caching.
2. @app/components/utilities/SecurityClient: Handles security-related operations like token management.
3. @app/config/request: Provides the `apiRequest` function for making API calls.
4. @app/reactQuery: Provides the `setAuthToken` function for updating the auth token.

## Configuration
The code interacts with various API endpoints for authentication operations. Some key endpoints include:

- `/api/v3/auth/login1` and `/api/v3/auth/login2` for the two-step login process
- `/api/v3/auth/select-organization` for organization selection
- `/api/v1/auth/token` for fetching authentication tokens

The specific base URL for these endpoints is not provided in the given code snippets and would likely be configured elsewhere in the application.

The authentication process appears to use environment-specific configurations, such as encryption versions and key management, which are handled by the backend and returned in API responses.

In summary, this directory provides a robust set of tools for handling authentication in a React-based frontend application, with a focus on security and flexibility to support various authentication scenarios.