---
title: "auth_proxy_role_binding.yaml"
---

## High-level description
This YAML file defines a Kubernetes ClusterRoleBinding resource that binds a ClusterRole named "proxy-role" to a ServiceAccount named "controller-manager" in the "system" namespace. This binding is part of the RBAC (Role-Based Access Control) configuration for a Kubernetes operator, specifically for the kube-rbac-proxy component.

## Symbols

### ClusterRoleBinding
#### Description
This resource creates a binding between a ClusterRole and subjects (in this case, a ServiceAccount) across the entire cluster.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| metadata | object | Metadata for the ClusterRoleBinding, including labels and name |
| roleRef | object | Reference to the ClusterRole being bound |
| subjects | array | List of subjects (ServiceAccounts, Users, or Groups) to which the role is bound |

#### Internal Logic
The ClusterRoleBinding links the ClusterRole named "proxy-role" to the ServiceAccount "controller-manager" in the "system" namespace. This allows the ServiceAccount to assume the permissions defined in the referenced ClusterRole across the entire cluster.

## Dependencies
This YAML file is typically used in conjunction with other Kubernetes RBAC resources:

| Dependency | Purpose |
|:-----------|:--------|
| ClusterRole | The "proxy-role" referenced in this binding should be defined elsewhere |
| ServiceAccount | The "controller-manager" ServiceAccount in the "system" namespace should exist |

## Configuration
The ClusterRoleBinding is configured with several labels for better organization and management:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| app.kubernetes.io/name | string | clusterrolebinding | Identifies the resource type |
| app.kubernetes.io/instance | string | proxy-rolebinding | Identifies this specific instance |
| app.kubernetes.io/component | string | kube-rbac-proxy | Specifies the component this binding is for |
| app.kubernetes.io/created-by | string | k8-operator | Indicates the creator of this resource |
| app.kubernetes.io/part-of | string | k8-operator | Specifies the larger application this is part of |
| app.kubernetes.io/managed-by | string | kustomize | Indicates the tool managing this resource |

These labels follow Kubernetes recommended label schema for better integration with various tools and dashboards.