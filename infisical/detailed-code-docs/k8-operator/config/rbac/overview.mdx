---
title: "Overview"
---

## High-level description
This directory contains YAML files that define Role-Based Access Control (RBAC) resources for a Kubernetes operator, specifically for the k8-operator project. These resources include ClusterRoles, RoleBindings, ServiceAccounts, and other related configurations necessary for managing permissions and access within a Kubernetes cluster.

## What does it do?
The RBAC configurations in this directory serve several purposes:

1. Define permissions for the operator to interact with various Kubernetes resources, including custom resources like InfisicalSecrets.
2. Set up authentication and authorization for metrics collection and access.
3. Configure leader election roles for the operator to ensure only one instance is active at a time.
4. Establish viewer and editor roles for InfisicalSecrets, allowing fine-grained access control for end-users.
5. Create necessary ServiceAccounts and bind them to appropriate roles.

These configurations collectively ensure that the k8-operator has the necessary permissions to function within the Kubernetes cluster while maintaining proper security boundaries.

## Key Files

1. `role.yaml`: Defines the main ClusterRole for the operator, specifying permissions for various Kubernetes resources.

2. `role_binding.yaml`: Creates a ClusterRoleBinding that associates the main ClusterRole with the operator's ServiceAccount.

3. `leader_election_role.yaml` and `leader_election_role_binding.yaml`: Set up roles and bindings for leader election, ensuring only one instance of the operator is active.

4. `auth_proxy_*.yaml` files: Configure roles, bindings, and services for the authentication proxy, which secures metrics endpoints.

5. `infisicalsecret_editor_role.yaml` and `infisicalsecret_viewer_role.yaml`: Define roles for end-users to interact with InfisicalSecrets custom resources.

6. `service_account.yaml`: Creates the ServiceAccount used by the operator.

7. `kustomization.yaml`: Specifies which RBAC resources should be included in the final Kubernetes configuration.

## Dependencies
The RBAC configurations in this directory primarily depend on:

1. Kubernetes RBAC API (rbac.authorization.k8s.io/v1)
2. Core Kubernetes API (v1)
3. Custom API group for InfisicalSecrets (secrets.infisical.com)
4. Kustomize for managing and customizing Kubernetes resources

## Configuration
The RBAC resources are configured through their respective YAML files. Key configuration aspects include:

1. Role and ClusterRole permissions, specifying allowed actions on various Kubernetes resources.
2. ServiceAccount names and namespaces.
3. RoleBinding and ClusterRoleBinding configurations, linking roles to subjects.
4. Labels for resource identification and management.

Administrators can customize these configurations by modifying the YAML files or using Kustomize overlays to adjust permissions, namespaces, or other attributes as needed for their specific deployment requirements.