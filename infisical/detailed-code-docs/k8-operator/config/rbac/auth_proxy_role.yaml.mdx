---
title: "auth_proxy_role.yaml"
---

## High-level description
This YAML file defines a Kubernetes ClusterRole named "proxy-role" for the kube-rbac-proxy component. It specifies the permissions required for the proxy to perform token reviews and subject access reviews in the Kubernetes cluster.

## Symbols

### ClusterRole
#### Description
This ClusterRole defines the permissions for the kube-rbac-proxy component, allowing it to create token reviews and subject access reviews.

#### Internal Logic
The ClusterRole is structured with metadata and rules:

1. Metadata:
   - Labels are used to identify and categorize the ClusterRole.
   - The name is set to "proxy-role".

2. Rules:
   - Two separate rule sets are defined, each specifying the API groups, resources, and allowed verbs.

## Dependencies
This YAML file is dependent on the Kubernetes RBAC (Role-Based Access Control) system.

### Configuration
The ClusterRole configuration is as follows:

| Option | Type | Value | Description |
|:-------|:-----|:------|:------------|
| apiVersion | string | rbac.authorization.k8s.io/v1 | Specifies the Kubernetes API version for RBAC |
| kind | string | ClusterRole | Defines this as a ClusterRole resource |
| metadata.name | string | proxy-role | Sets the name of the ClusterRole |
| metadata.labels | map | Various key-value pairs | Labels for identifying and categorizing the ClusterRole |
| rules | list | Two rule sets | Defines the permissions granted by this ClusterRole |

## API/Interface Reference
The ClusterRole grants the following permissions:

| API Group | Resource | Verb | Description |
|:----------|:---------|:-----|:------------|
| authentication.k8s.io | tokenreviews | create | Allows creation of token reviews |
| authorization.k8s.io | subjectaccessreviews | create | Allows creation of subject access reviews |

These permissions are crucial for the kube-rbac-proxy to perform its authentication and authorization checks within the Kubernetes cluster.