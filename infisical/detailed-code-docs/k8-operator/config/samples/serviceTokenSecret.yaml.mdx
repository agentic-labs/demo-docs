---
title: "serviceTokenSecret.yaml"
---

## High-level description
This YAML file defines a Kubernetes Secret resource named "service-token". It is designed to store an Infisical token in base64 encoded format, which can be used for authentication or authorization purposes within a Kubernetes cluster.

## Symbols

### Secret Resource
#### Description
This YAML defines a Kubernetes Secret resource, which is used to store sensitive information such as tokens, keys, or passwords. In this case, it's specifically storing an Infisical token.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiVersion | string | Specifies the API version for this resource (v1) |
| kind | string | Defines the type of Kubernetes resource (Secret) |
| metadata | object | Contains metadata about the Secret |
| type | string | Specifies the type of Secret (Opaque) |
| data | object | Contains the actual secret data |

#### Internal Logic
The Secret is defined with the following key components:
1. The `apiVersion` and `kind` fields specify that this is a v1 Secret resource.
2. The `metadata` section gives the Secret a name of "service-token".
3. The `type` is set to "Opaque", which is a generic Secret type for arbitrary user-defined data.
4. The `data` section contains a key-value pair where the key is "infisicalToken" and the value should be replaced with a base64 encoded Infisical token.

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| infisicalToken | string | `&lt;base64 infisical token here&gt;` | The base64 encoded Infisical token to be stored in the Secret |

## Error Handling
This YAML file does not include explicit error handling. However, when applied to a Kubernetes cluster:
- If the YAML syntax is incorrect, kubectl will return an error.
- If the base64 encoding is invalid, Kubernetes will not be able to properly decode the secret.
- If a Secret with the same name already exists, applying this YAML will either update the existing Secret or fail, depending on the kubectl command used.

## TODOs
The YAML file includes a placeholder for the Infisical token: `&lt;base64 infisical token here&gt;`. This needs to be replaced with an actual base64 encoded Infisical token before the Secret can be used effectively.