---
title: "service-account-token.yaml"
---

## High-level description
This YAML file defines a Kubernetes Secret resource of type `kubernetes.io/service-account-token`. It is used to create a service account token for authentication purposes within a Kubernetes cluster, specifically for a service account named "infisical-auth".

## Symbols

### Secret Resource
#### Description
This YAML defines a Kubernetes Secret resource that will contain a service account token. The token is automatically generated by Kubernetes and associated with the specified service account.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiVersion | string | Specifies the API version for this resource (v1) |
| kind | string | Defines the type of Kubernetes resource (Secret) |
| type | string | Specifies the type of Secret (kubernetes.io/service-account-token) |
| metadata | object | Contains metadata about the Secret |
| metadata.name | string | The name of the Secret (infisical-auth-token) |
| metadata.annotations | object | Contains annotations for the Secret |
| metadata.annotations.kubernetes.io/service-account.name | string | Specifies the name of the associated service account (infisical-auth) |

#### Outputs
When applied to a Kubernetes cluster, this YAML will create a Secret resource containing:
- A service account token
- The CA certificate for the Kubernetes API server
- The namespace in which the Secret is created

These are automatically populated by Kubernetes based on the service account specified in the annotation.

## Dependencies
This Secret depends on the existence of a ServiceAccount named "infisical-auth" in the same namespace. The ServiceAccount is not defined in this file and must be created separately or as part of a larger deployment.

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| metadata.name | string | infisical-auth-token | The name of the Secret resource |
| metadata.annotations.kubernetes.io/service-account.name | string | infisical-auth | The name of the associated ServiceAccount |

## API/Interface Reference
While this YAML doesn't define an API itself, it creates a Secret that can be used for authentication. The token can be mounted into pods or accessed via the Kubernetes API for authentication purposes.

| Resource | Type | Purpose |
|:---------|:-----|:--------|
| infisical-auth-token | Secret | Contains a service account token for the infisical-auth ServiceAccount |

Note: The actual token value is not visible in this YAML as it is automatically generated and managed by Kubernetes when the Secret is created.