---
title: "Overview"
---

## High-level description
This directory contains configuration files for the Infisical Kubernetes Operator, which manages secrets within a Kubernetes cluster. The configuration includes Custom Resource Definitions (CRDs), Role-Based Access Control (RBAC) settings, manager deployment configurations, and sample resources for various use cases.

## What does it do?
The configuration in this directory sets up and manages the Infisical Kubernetes Operator, which allows for seamless integration of Infisical's secret management capabilities within a Kubernetes environment. It provides the following functionality:

1. Defines the InfisicalSecret custom resource, allowing users to manage Infisical secrets in a Kubernetes-native way.
2. Sets up the necessary RBAC permissions for the operator to function within the cluster.
3. Configures the deployment of the operator's controller manager.
4. Enables Prometheus monitoring for the operator.
5. Provides sample configurations for various authentication methods and secret management scenarios.

## Entry points
The main entry points for this configuration are:

1. `crd/`: Contains the Custom Resource Definition for InfisicalSecret.
2. `rbac/`: Defines the Role-Based Access Control settings for the operator.
3. `manager/`: Configures the deployment of the operator's controller manager.
4. `samples/`: Provides example configurations for different use cases.

The configuration uses Kustomize for customization and patching, with the main `kustomization.yaml` files in each subdirectory serving as the entry points for their respective components.

## Key Files
1. `crd/bases/secrets.infisical.com_infisicalsecrets.yaml`: Defines the structure and properties of the InfisicalSecret custom resource.

2. `rbac/role.yaml`: Specifies the main ClusterRole for the operator, defining its permissions.

3. `manager/manager.yaml`: Configures the Deployment for the operator's controller manager.

4. `prometheus/monitor.yaml`: Sets up a ServiceMonitor for Prometheus to scrape metrics from the operator.

5. `samples/sample.yaml`: Provides a comprehensive example of an InfisicalSecret resource configuration.

## Dependencies
The configuration relies on the following external components:

1. Kubernetes API server (v1.16+)
2. Kustomize (v3.8.7+)
3. cert-manager (optional, for certificate management)
4. Prometheus Operator (optional, for monitoring)
5. Various authentication providers (AWS IAM, Azure, GCP, etc., depending on the chosen authentication method)

## Configuration
Key configuration options include:

1. InfisicalSecret resource structure (in `crd/bases/secrets.infisical.com_infisicalsecrets.yaml`):
   - Authentication methods (service token, Kubernetes auth, cloud provider auth)
   - Secret scopes (project, environment, secret path)
   - Resync intervals
   - Managed secret references

2. RBAC permissions (in `rbac/role.yaml`):
   - Permissions for managing InfisicalSecrets and related Kubernetes resources

3. Controller manager deployment (in `manager/manager.yaml`):
   - Resource limits and requests
   - Security contexts
   - Liveness and readiness probes

4. Monitoring configuration (in `prometheus/monitor.yaml`):
   - ServiceMonitor for Prometheus integration

5. Sample configurations (in `samples/`):
   - Various authentication methods and secret management scenarios

These configurations can be customized using Kustomize overlays or by directly modifying the YAML files to suit specific deployment requirements.