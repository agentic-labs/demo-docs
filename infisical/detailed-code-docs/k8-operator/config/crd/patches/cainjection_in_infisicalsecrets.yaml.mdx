---
title: "cainjection_in_infisicalsecrets.yaml"
---

## High-level description
This YAML file defines a patch for a CustomResourceDefinition (CRD) named "infisicalsecrets.secrets.infisical.com". The patch adds an annotation that instructs cert-manager to inject a Certificate Authority (CA) into the CRD.

## Symbols

### CustomResourceDefinition
#### Description
This YAML defines a patch for a CustomResourceDefinition, which is a Kubernetes resource used to extend the Kubernetes API with custom resources.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apiVersion | string | Specifies the API version for this resource (apiextensions.k8s.io/v1) |
| kind | string | Indicates the type of resource (CustomResourceDefinition) |
| metadata | object | Contains metadata about the CustomResourceDefinition |

#### Internal Logic
The patch adds an annotation to the CRD's metadata. This annotation is used by cert-manager to inject a CA certificate into the CRD.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| cert-manager | Used to inject CA certificates into the CRD |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| CERTIFICATE_NAMESPACE | string | N/A | Namespace where the certificate is located |
| CERTIFICATE_NAME | string | N/A | Name of the certificate to be used |

## Notes
1. This file is specifically a patch for an existing CRD, not a complete CRD definition.
2. The annotation `cert-manager.io/inject-ca-from` is used to specify the source of the CA certificate.
3. The values for `CERTIFICATE_NAMESPACE` and `CERTIFICATE_NAME` are likely to be replaced with actual values during deployment or by a deployment tool.
4. This patch is part of the configuration for a Kubernetes operator, specifically for managing Infisical secrets.