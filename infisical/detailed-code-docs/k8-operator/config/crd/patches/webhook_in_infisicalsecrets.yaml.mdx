---
title: "webhook_in_infisicalsecrets.yaml"
---

## High-level description
This YAML file defines a patch for a CustomResourceDefinition (CRD) named "infisicalsecrets.secrets.infisical.com". It enables a conversion webhook for the CRD, which allows for version conversion of the custom resource.

## Symbols

### CustomResourceDefinition
#### Description
This YAML defines a patch for a CustomResourceDefinition (CRD) that adds a conversion webhook configuration. The CRD is for a resource type called "infisicalsecrets" in the "secrets.infisical.com" API group.

#### Internal Logic
The patch specifies the following key elements:
1. Sets the conversion strategy to "Webhook"
2. Configures the webhook service details
3. Specifies the supported conversion review version

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Kubernetes API | This YAML is intended for use with Kubernetes and relies on the Kubernetes API extensions |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| metadata.name | string | infisicalsecrets.secrets.infisical.com | The full name of the CustomResourceDefinition |
| spec.conversion.strategy | string | Webhook | Specifies that a webhook should be used for CRD version conversion |
| spec.conversion.webhook.clientConfig.service.namespace | string | system | The namespace where the webhook service is located |
| spec.conversion.webhook.clientConfig.service.name | string | webhook-service | The name of the service hosting the webhook |
| spec.conversion.webhook.clientConfig.service.path | string | /convert | The path for the conversion webhook endpoint |
| spec.conversion.webhook.conversionReviewVersions | array | ["v1"] | The supported API versions for conversion reviews |

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /convert | POST | ConversionReview | ConversionReview | Endpoint for converting between different versions of the custom resource |

This YAML file is part of the configuration for a Kubernetes operator, specifically for handling custom resources related to Infisical secrets. The conversion webhook allows for automatic conversion between different versions of the custom resource, which is crucial for maintaining compatibility as the API evolves.