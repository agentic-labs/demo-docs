---
title: "kustomization.yaml"
---

## High-level description
This YAML file is a Kustomize configuration for managing Custom Resource Definitions (CRDs) in a Kubernetes operator. It specifically handles the CRD for InfisicalSecrets, with commented-out sections for enabling webhooks and cert-manager integration.

## Code Structure
The file is structured into several main sections: resources, patchesStrategicMerge, and configurations. Each section serves a specific purpose in customizing the CRD deployment.

## Symbols

### `resources`
#### Description
Specifies the base YAML files to be included in the Kustomization.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| bases/secrets.infisical.com_infisicalsecrets.yaml | string | Path to the base YAML file for InfisicalSecrets CRD |

### `patchesStrategicMerge`
#### Description
Defines strategic merge patches to be applied to the resources. Currently, all patches are commented out.

#### Internal Logic
Two types of patches are mentioned but commented out:
1. Webhook patches for enabling conversion webhooks for each CRD.
2. Cert-manager patches for enabling CA injection for each CRD.

### `configurations`
#### Description
Specifies additional configuration files for Kustomize.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| kustomizeconfig.yaml | string | Path to the Kustomize configuration file |

## Notes
1. The file includes several commented-out sections marked with `[WEBHOOK]` and `[CERTMANAGER]` prefixes. These can be uncommented to enable webhook functionality and cert-manager integration, respectively.
2. There are placeholder comments with the prefix `#+kubebuilder:scaffold:` which are likely used by kubebuilder for code generation or scaffolding purposes.
3. The comment at the top of the file indicates that this Kustomization is not intended to be run by itself, as it depends on service names and namespaces that are outside of this Kustomize package. It should be run by `config/default`.

This configuration file serves as a template for customizing the deployment of the InfisicalSecrets CRD, with options for adding webhooks and certificate management that can be enabled as needed.