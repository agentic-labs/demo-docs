---
title: "kustomization.yaml"
---

## High-level description
This YAML file is a Kustomize configuration for the Infisical Operator in a Kubernetes environment. It defines the namespace, resource naming prefix, and includes various base configurations for CRDs, RBAC, and manager components. It also includes commented-out sections for optional features like webhooks, cert-manager, and Prometheus monitoring.

## Code Structure
The file is structured as a Kustomize configuration, with sections for namespace definition, name prefixing, base inclusions, patches, and variable substitutions. It references other configuration files and provides options for enabling additional features through uncommenting specific sections.

## Symbols

### `namespace`
#### Description
Specifies the Kubernetes namespace for all resources managed by this Kustomize configuration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| namespace | string | The namespace name |

### `namePrefix`
#### Description
Defines a prefix to be added to all resource names managed by this configuration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| namePrefix | string | The prefix to be added to resource names |

### `bases`
#### Description
Lists the base configurations to be included in this Kustomize setup.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| bases | list of strings | Paths to base configuration files |

### `patchesStrategicMerge`
#### Description
Specifies strategic merge patches to be applied to the resources.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patchesStrategicMerge | list of strings | Paths to patch files |

### `vars`
#### Description
Defines variables for Kustomize to use in variable substitution. This section is currently commented out but can be used for cert-manager configuration.

## Configuration
The file includes several commented-out sections that can be enabled to add additional functionality:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| WEBHOOK | Configuration | Disabled | Enables webhook functionality |
| CERTMANAGER | Configuration | Disabled | Enables cert-manager integration |
| PROMETHEUS | Configuration | Disabled | Enables Prometheus monitoring |

To enable these features, the corresponding sections need to be uncommented.

## Notes
1. The file is set up for the Infisical Operator system, as evident from the namespace and namePrefix.
2. It includes basic configurations for CRDs, RBAC, and manager components.
3. Additional features like webhooks, cert-manager, and Prometheus monitoring are available but commented out by default.
4. The `manager_auth_proxy_patch.yaml` is included to protect the `/metrics` endpoint with authentication.
5. Variable substitution for cert-manager is prepared but commented out, allowing for easy enabling if needed.

This configuration file serves as a central point for customizing the deployment of the Infisical Operator in a Kubernetes environment, providing flexibility for different setups and security requirements.