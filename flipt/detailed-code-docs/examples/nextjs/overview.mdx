---
title: "Overview"
---

## High-level description
This directory contains a Next.js application that demonstrates the integration of Flipt feature flagging. The application showcases both server-side and client-side feature flag evaluation using Flipt's TypeScript SDK and Browser SDK. It includes a simple greeting feature that changes language based on feature flag evaluation.

## What does it do?
The application demonstrates two approaches to feature flagging:

1. Server-side evaluation: Using Next.js's `getServerSideProps`, it evaluates a "language" feature flag on the server before rendering the page.
2. Client-side evaluation: Using the Flipt Browser SDK, it evaluates the same feature flag in the browser after the page has loaded.

The main functionality is a greeting message that changes language (English, Spanish, or French) based on the feature flag evaluation. This allows for easy A/B testing or gradual rollout of language support without code changes.

## Entry points
1. `pages/index.tsx`: The main page of the application. It handles both server-side and client-side feature flag evaluation.
2. `pages/api/hello.ts`: An API route demonstrating how to use Flipt with Next.js API routes.
3. `components/Greeting.tsx`: A React component that performs client-side feature flag evaluation.

The application flow starts with server-side evaluation in `getServerSideProps` of `index.tsx`. The result is passed to the page component. Simultaneously, the `Greeting` component performs a client-side evaluation when it mounts.

## Key Files
- `Dockerfile`: Defines a multi-stage build process for the Next.js application.
- `docker-compose.yml`: Orchestrates the Next.js app, Flipt server, and initialization service.
- `flipt.yml`: Configures the Flipt feature flags, variants, and rules.
- `next.config.js`: Configures Next.js, enabling features like strict mode and standalone output.
- `tailwind.config.js` and `postcss.config.js`: Configure Tailwind CSS for styling.

## Dependencies
- Next.js (v13.4.4): The React framework for building the application.
- React (v18.2.0): For building the user interface.
- @flipt-io/flipt (v1.0.0): Flipt's server-side SDK for feature flag evaluation.
- @flipt-io/flipt-client-browser (v0.1.0): Flipt's client-side SDK for browser-based feature flag evaluation.
- Tailwind CSS (v3.3.2): For utility-first styling.
- TypeScript (v5.1.3): For static typing and improved developer experience.

## Configuration
The application uses environment variables for configuration:
- `FLIPT_ADDR`: The address of the Flipt server (default: "http://flipt:8080").
- `NEXT_PUBLIC_FLIPT_ADDR`: The public address of the Flipt server for client-side usage.

The Flipt configuration in `flipt.yml` defines a "language" feature flag with three variants (Spanish, English, and French) and a rule that distributes traffic evenly among them.

The application demonstrates how to use Flipt for feature flagging in both server-side and client-side contexts, providing a comprehensive example of integrating Flipt with a Next.js application.