---
title: "validations.ts"
---

## High-level description
This file contains validation schemas and functions used for form validation throughout the Flipt UI application. It utilizes the Yup library to define validation rules for various input fields such as keys, JSON data, and context values.

## Symbols

### `keyValidation`
#### Description
A Yup validation schema for key fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | string | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is valid |

#### Internal Logic
- Requires the field to be non-empty
- Matches the input against a regular expression that allows only letters, numbers, hyphens, and underscores

### `keyWithDotValidation`
#### Description
A Yup validation schema for key fields that also allows dots.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | string | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is valid |

#### Internal Logic
- Requires the field to be non-empty
- Matches the input against a regular expression that allows letters, numbers, hyphens, dots, and underscores

### `requiredValidation`
#### Description
A Yup validation schema for required fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | string | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is valid |

#### Internal Logic
- Requires the field to be non-empty

### `jsonValidation`
#### Description
A Yup validation schema for JSON input fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | any | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is valid JSON |

#### Internal Logic
- Allows null, undefined, or empty string values
- Attempts to parse the input as JSON
- Returns true if parsing succeeds, false otherwise

### `contextValidation`
#### Description
A Yup validation schema for context input fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | any | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is a valid context object |

#### Internal Logic
- Allows null, undefined, or empty string values
- Attempts to parse the input as JSON
- Checks if the parsed data is an object (not an array)
- Verifies that all values in the object are strings
- Returns true if all conditions are met, false otherwise

### `jsonStringArrayValidation`
#### Description
A Yup validation schema for JSON string array input fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | any | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is a valid JSON string array |

#### Internal Logic
- Uses the `checkJsonArray` helper function to validate the input
- Checks if the parsed JSON is an array of strings
- Ensures the array does not exceed the maximum allowed items (100)

### `jsonNumberArrayValidation`
#### Description
A Yup validation schema for JSON number array input fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | any | The input value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Whether the input is a valid JSON number array |

#### Internal Logic
- Uses the `checkJsonArray` helper function to validate the input
- Checks if the parsed JSON is an array of numbers
- Ensures the array does not exceed the maximum allowed items (100)

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Yup | Used for creating and composing validation schemas |

## Error Handling
The validation functions use Yup's built-in error handling. When a validation fails, Yup will throw an error with a message describing the validation failure.