---
title: "Console.tsx"
---

## High-level description
This code implements a Console component for evaluating feature flags in a web application. It allows users to select a flag, input an entity ID and context, and then evaluate the flag based on these inputs. The component also provides functionality to copy the evaluation as a CLI command or cURL request.

## Code Structure
The Console component is the main symbol, which uses various other components and hooks for its functionality. It interacts with the Redux store for state management and uses API calls for flag evaluation. The component is composed of a form for input and a display area for the evaluation result.

## Symbols

### Console
#### Description
The main component that renders the flag evaluation console. It manages the state for selected flag, evaluation response, and error handling.

#### Internal Logic
1. Fetches flags and auth providers data using Redux hooks.
2. Manages form state using Formik.
3. Handles flag evaluation on form submission.
4. Provides functionality to copy evaluation as CLI command or cURL request.
5. Renders the form for flag selection and input, and displays the evaluation result.

### ResetOnNamespaceChange
#### Description
A helper component that resets the form when the namespace changes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| namespace | INamespace | The current namespace |

#### Internal Logic
Uses Formik's `resetForm` function to reset the form when the namespace changes.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @codemirror/lang-json | Provides JSON language support for CodeMirror |
| @heroicons/react | Provides icons for the UI |
| @uiw/codemirror-theme-tokyo-night | Provides a theme for CodeMirror |
| @uiw/react-codemirror | React wrapper for CodeMirror editor |
| formik | Handles form state and validation |
| react-redux | Connects component to Redux store |
| react-router-dom | Handles routing |
| uuid | Generates unique IDs |
| yup | Provides schema validation |

## Error Handling
The component uses the `useError` hook to manage and display errors. It also handles evaluation errors by setting the `hasEvaluationError` state and displaying the error message in the response area.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /evaluate/v2 | POST | Flag evaluation parameters | Evaluation result | Evaluates the selected flag |

Note: The actual API call is made through the `evaluateV2` function imported from `~/data/api`.

This Console component provides a user-friendly interface for evaluating feature flags, with additional features like copying the evaluation as a CLI command or cURL request. It integrates with the application's state management and routing systems, and handles errors appropriately.