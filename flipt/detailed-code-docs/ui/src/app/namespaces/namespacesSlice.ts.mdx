---
title: "namespacesSlice.ts"
---

## High-level description

This file defines the Redux slice for managing namespaces in the Flipt UI. It includes the state structure, initial state, reducers for updating the state, selectors for accessing state data, and an API slice for making namespace-related API calls. The code uses Redux Toolkit for efficient Redux development.

## Code Structure

The code is organized into several main parts:
1. State interface and initial state definition
2. Redux slice creation with reducers
3. Selector functions
4. API slice creation with endpoints for CRUD operations on namespaces

The main symbols (namespaceKey, namespacesSlice, namespaceApi) are interconnected, with the slice managing the state and the API handling server interactions.

## Symbols

### namespaceKey
#### Description
A constant string used as a key for storing the current namespace in localStorage.

### namespacesSlice
#### Description
A Redux slice for managing namespace state, including reducers for updating the current namespace and all namespaces.

#### Reducers
1. currentNamespaceChanged: Updates the current namespace in the state.
2. namespacesChanged: Updates the list of namespaces in the state.

### selectNamespaces
#### Description
A selector function that returns an array of all namespaces from the state.

### selectCurrentNamespace
#### Description
A selector function that returns the current namespace object from the state.

### namespaceApi
#### Description
An API slice created using Redux Toolkit's createApi, defining endpoints for namespace-related operations.

#### Endpoints
1. listNamespaces: Fetches the list of namespaces.
2. createNamespace: Creates a new namespace.
3. updateNamespace: Updates an existing namespace.
4. deleteNamespace: Deletes a namespace.

## Dependencies
- @reduxjs/toolkit: Used for creating the Redux slice and API slice.
- ~/store: Imports the RootState type for type-checking.
- ~/types/Meta: Imports the LoadingStatus enum.
- ~/types/Namespace: Imports namespace-related types.
- ~/utils/redux-rtk: Imports the baseQuery utility for API calls.

## Error Handling
The code doesn't implement specific error handling mechanisms. Errors are likely handled by the Redux Toolkit's default error handling or in the components that use these slices and API calls.

## API/Interface Reference
The file exports several functions and objects for use in other parts of the application:
- namespacesSlice and its actions (currentNamespaceChanged)
- Selector functions (selectNamespaces, selectCurrentNamespace)
- namespaceApi and its generated hooks (useListNamespacesQuery, useCreateNamespaceMutation, useDeleteNamespaceMutation, useUpdateNamespaceMutation)

These exports provide a comprehensive interface for managing namespace state and performing namespace-related operations throughout the application.