---
title: "ConditionalFlagRouter.tsx"
---

## High-level description
This code defines a React component called `ConditionalFlagRouter` that conditionally renders either a `Variants` or `Rollouts` component based on the type of flag passed to it. It uses React Router's `useOutletContext` hook to access the flag data.

## Symbols

### ConditionalFlagRouter
#### Description
This is the main component that conditionally renders either `Variants` or `Rollouts` based on the flag type.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| N/A | N/A | This component doesn't accept any props directly, but uses `useOutletContext` to access the flag data. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSX.Element | React.ReactNode | Returns either a `Variants` or `Rollouts` component based on the flag type. |

#### Internal Logic
1. Uses `useOutletContext` to extract the `flag` object from the router context.
2. Checks the `flag.type` to determine which component to render:
   - If `flag.type === FlagType.VARIANT`, it renders the `Variants` component.
   - Otherwise, it renders the `Rollouts` component.
3. Both components are passed the `flag` object as a prop.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react-router-dom | Used for accessing the outlet context |
| ~/types/Flag | Imports the `FlagType` enum and `IFlag` interface |
| ~/components/variants/Variants | The Variants component to be conditionally rendered |
| ~/components/rollouts/Rollouts | The Rollouts component to be conditionally rendered |

## References
This component is likely used within a larger routing structure, possibly as a child route of a flag detail page. It expects to receive the flag data through the router's context.

The `Variants` and `Rollouts` components are imported from separate files and are responsible for rendering the specific UI for variant and rollout type flags, respectively.