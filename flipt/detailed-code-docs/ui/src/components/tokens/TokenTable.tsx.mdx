---
title: "TokenTable.tsx"
---

## High-level description
This code defines a `TokenTable` component in React, which renders a table of authentication tokens with various features such as sorting, pagination, filtering, and row selection. It uses the `@tanstack/react-table` library for table functionality and includes actions for deleting tokens.

## Code Structure
The main `TokenTable` component uses several helper components and functions:
- `TokenRowActions`: Renders the delete action for each row
- `IndeterminateCheckbox`: A custom checkbox component for row selection
- Various utility functions from external libraries for date formatting and table operations

## Symbols

### TokenTable
#### Description
The main component that renders the table of authentication tokens.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tokens | IAuthToken[] | Array of authentication tokens to display |
| setDeletingTokens | (tokens: IAuthToken[]) =&gt; void | Function to set tokens for deletion |
| setShowDeleteTokenModal | (show: boolean) =&gt; void | Function to control the visibility of the delete modal |

#### Internal Logic
1. Sets up state for sorting, pagination, filtering, and row selection
2. Defines table columns using `createColumnHelper`
3. Configures the table using `useReactTable` hook
4. Renders the table with header, body, and pagination components
5. Implements search functionality for tables with more than 10 rows

### TokenRowActions
#### Description
A component that renders the delete action for each row in the table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| row | Row&lt;IAuthToken&gt; | The row data |
| setDeletingTokens | (tokens: IAuthToken[]) =&gt; void | Function to set tokens for deletion |
| setShowDeleteTokenModal | (show: boolean) =&gt; void | Function to control the visibility of the delete modal |

### IndeterminateCheckbox
#### Description
A custom checkbox component used for row selection in the table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| indeterminate | boolean | Indicates if the checkbox is in an indeterminate state |
| className | string | Additional CSS classes |
| ...rest | HTMLProps&lt;HTMLInputElement&gt; | Other HTML input props |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @heroicons/react | For chevron icons in sorting |
| @tanstack/react-table | For table functionality |
| date-fns | For date formatting |
| react | Core React library |
| ~/components/* | Various custom components (Button, Pagination, Searchbox) |
| ~/types/auth/Token | Type definitions for authentication tokens |

## Performance Considerations
The component uses pagination and filtering to handle large datasets efficiently. It also implements a search threshold to only show the search box when there are more than 10 tokens.