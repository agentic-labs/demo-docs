---
title: "ShowTokenPanel.tsx"
---

## High-level description
This code defines a React component called `ShowTokenPanel` that displays a newly created authentication token. It provides a user interface for viewing and copying the token, emphasizing the importance of storing it securely as it won't be shown again.

## Code Structure
The `ShowTokenPanel` component is the main export. It uses several imported components and utilities to render the UI and handle user interactions. The component manages its own state for copying functionality.

## Symbols

### ShowTokenPanel
#### Description
A React functional component that displays a panel showing a newly created authentication token. It allows users to view and copy the token.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| setOpen | function | A function to control the visibility of the panel |
| token | IAuthTokenSecret \| null | The authentication token object to display |

#### Internal Logic
1. Initializes state for copying functionality.
2. Renders a dialog with a lock icon, title, and instructions.
3. Displays the token in a pre-formatted block.
4. Provides a copy button that, when clicked:
   - Copies the token to the clipboard
   - Temporarily changes the button icon and text
   - Reverts the changes after 2 seconds
5. Includes a close button to dismiss the panel.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @headlessui/react | For Dialog component |
| @heroicons/react/24/outline | For icon components |
| react | For React hooks and JSX |
| ~/components/forms/buttons/Button | Custom Button component |
| ~/types/auth/Token | For IAuthTokenSecret type |
| ~/utils/helpers | For utility functions (cls, copyTextToClipboard) |

## Side Effects
- Copies text to the clipboard when the copy button is clicked.
- Modifies the component's state when copying the token.

## Performance Considerations
The component uses `setTimeout` to revert the copy button state after 2 seconds. This should have minimal performance impact, but it's worth noting for potential memory management in larger applications.

___

This component is part of a larger token management system, as evidenced by the related files. It's used in conjunction with other components like `TokenForm` and `TokenTable` to provide a complete token management interface. The `ShowTokenPanel` specifically handles the crucial step of displaying a newly created token to the user, emphasizing the importance of securely storing this information as it won't be accessible again.