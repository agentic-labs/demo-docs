---
title: "CopyToNamespacePanel.tsx"
---

## High-level description
This code defines a React component called `CopyToNamespacePanel` that allows users to copy a flag or segment to a different namespace. It provides a user interface for selecting the target namespace and handles the copying process.

## Code Structure
The main component `CopyToNamespacePanel` uses several hooks and components from React and Redux. It manages the state for the selected namespace and handles the copy operation. The component renders a dialog with a listbox for namespace selection and buttons for confirming or canceling the operation.

## Symbols

### CopyToNamespacePanel
#### Description
A React functional component that renders a panel for copying a flag or segment to a different namespace.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| panelMessage | string \| React.ReactNode | The message to display in the panel |
| setOpen | (open: boolean) =&gt; void | Function to control the visibility of the panel |
| handleCopy | (namespaceKey: string) =&gt; Promise&lt;any&gt; | Function to handle the copy operation |
| panelType | string | The type of item being copied (e.g., "Flag" or "Segment") |
| onSuccess | () =&gt; void | Optional callback function to be called on successful copy |

#### Internal Logic
1. Fetches the current namespace and list of namespaces from Redux store
2. Manages state for the selected target namespace
3. Renders a dialog with a title, message, and namespace selection listbox
4. Handles the copy operation when the user confirms, including error handling and success callback

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @headlessui/react | Used for Dialog component |
| @heroicons/react | Provides icons |
| react | Core React library |
| react-redux | Redux integration for React |
| ~/app/namespaces/namespacesSlice | Redux slice for namespace-related state |
| ~/components/forms/buttons/Button | Custom button component |
| ~/components/forms/Listbox | Custom listbox component |
| ~/components/namespaces/NamespaceListbox | Custom namespace listbox component |
| ~/data/hooks/error | Custom hook for error handling |

This component is designed to be used within a modal or dialog context, providing a reusable interface for copying items between namespaces in the application.