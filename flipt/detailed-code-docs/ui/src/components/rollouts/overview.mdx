---
title: "Overview"
---

## High-level description
The `ui/src/components/rollouts` directory contains React components responsible for managing and displaying rollout rules for feature flags. These components provide a user interface for creating, editing, deleting, and reordering rollouts, as well as setting default rollout values. The directory includes components for individual rollouts, a list of rollouts, and forms for editing rollout configurations.

## What does it do?
This directory implements the following workflows:

1. Displaying rollouts: It renders a list of rollout rules for a given feature flag, showing details such as rank, type, and description.

2. Managing rollouts: Users can create new rollouts, edit existing ones, delete rollouts, and reorder them using drag-and-drop functionality.

3. Setting default values: It allows users to set and update the default rollout value for a feature flag.

4. Editing rollouts: The directory provides forms for both comprehensive editing and quick edits of rollout configurations, supporting both segment-based and threshold-based rollouts.

5. Handling API interactions: The components interact with the backend API to perform CRUD operations on rollouts and update flag configurations.

## Entry points
The main entry point for this directory is the `Rollouts.tsx` file, which contains the `Rollouts` component. This component orchestrates the overall rollout management interface, including:

- Fetching and displaying the list of rollouts
- Managing state for creating, editing, and deleting rollouts
- Implementing drag-and-drop functionality for reordering rollouts
- Rendering forms for creating and editing rollouts

The data flow typically starts from the `Rollouts` component, which fetches the rollout data and passes it down to child components like `Rollout` and `SortableRollout`. The control flow is managed through Redux hooks and local state, with user interactions triggering API calls and state updates.

## Key Files
1. `Rollout.tsx`: Defines the `Rollout` component, which represents a single rollout rule and displays its details.

2. `Rollouts.tsx`: Contains the main `Rollouts` component that manages the entire rollout interface, including the list of rollouts and the default rollout value.

3. `SortableRollout.tsx`: Wraps the `Rollout` component with drag-and-drop functionality for reordering.

4. `forms/EditRolloutForm.tsx`: Provides a comprehensive interface for editing existing rollouts.

5. `forms/QuickEditRolloutForm.tsx`: Offers a simplified interface for making quick edits to rollout configurations.

6. `forms/RolloutForm.tsx`: Used for creating new rollout rules with various configuration options.

## Dependencies
The components in this directory rely on several external libraries:

1. React and React Redux: Core libraries for building the UI and managing state.

2. @dnd-kit: Provides drag-and-drop functionality for reordering rollouts.

3. @headlessui/react: Offers unstyled, accessible UI components.

4. @heroicons/react: Provides SVG icons for the UI.

5. Formik: Manages form state and validation in the rollout forms.

Internal dependencies include custom API hooks, UI components, and utility functions from other parts of the application.

## Configuration
While the components don't directly use configuration files, they interact with the Redux store to access namespace information and other application-wide settings. Key configurable aspects include:

- Form field validation rules
- API endpoint paths (constructed using namespace and flag keys)
- Default values for form fields

The components in this directory provide a comprehensive interface for managing rollout configurations, handling the complexities of API interactions and state management while offering a user-friendly experience for creating, editing, and organizing rollouts for feature flags.