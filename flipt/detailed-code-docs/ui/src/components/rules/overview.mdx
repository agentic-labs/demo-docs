---
title: "Overview"
---

## High-level description
This directory contains React components for managing rules in a feature flag system. It provides functionality for creating, editing, and displaying individual rules, as well as implementing drag-and-drop functionality for rule reordering.

## What does it do?
The components in this directory work together to provide a comprehensive interface for managing feature flag rules. They allow users to:

1. View individual rules with their properties and controls
2. Create new rules with various distribution types and variant selections
3. Quickly edit existing rules, modifying properties such as segments and variant rollouts
4. Reorder rules using drag-and-drop functionality
5. Delete rules

These components form a crucial part of a larger feature flag management system, enabling fine-grained control over feature rollouts and targeting.

## Key Files

1. `Rule.tsx`: This component renders a single rule for a feature flag. It displays rule information and provides functionality for editing and deleting rules.

2. `SortableRule.tsx`: This component wraps the `Rule` component with sortable functionality, enabling drag-and-drop reordering of rules.

3. `forms/RuleForm.tsx`: This is the main component for creating new rules. It provides a comprehensive interface for users to define segments, distribution types, and variant distributions for a feature flag.

4. `forms/QuickEditRuleForm.tsx`: This component allows for rapid editing of existing rules. It provides a streamlined interface for modifying rule properties such as segments and variant rollouts.

5. `forms/MultiDistributionForm.tsx`: This component renders a form for managing multiple distribution variants, allowing users to input percentage values for different variants of a feature flag distribution.

6. `forms/SingleDistributionForm.tsx`: This component provides a form input for selecting a single variant distribution, using a Combobox for variant selection.

## Dependencies
The components in this directory rely on several external libraries and frameworks:

1. React (v18.2.0 or compatible): Used as the core library for building all components.
2. @dnd-kit/sortable (version unspecified): Utilized for implementing drag-and-drop functionality in `SortableRule.tsx`.
3. @headlessui/react (v1.7.4 or compatible): Used for UI components like Menu, Transition, Dialog, and Combobox.
4. @heroicons/react (v2.0.13 or compatible): Utilized for icons in the user interface.
5. Formik (v2.2.9 or compatible): Used for form management in `RuleForm` and `QuickEditRuleForm`.
6. Yup (v0.32.11 or compatible): Used for form validation in `RuleForm`.
7. Redux (v4.2.0 or compatible) and React-Redux (v8.0.2 or compatible): Employed for state management in `QuickEditRuleForm`.

These dependencies were chosen to provide robust form handling, state management, drag-and-drop functionality, and UI components, enabling the creation of a powerful and user-friendly feature flag management system.

## Configuration
While there are no specific configuration files in this directory, the components use various props and state management techniques to configure their behavior:

1. In `RuleForm.tsx`, the `ruleValidationSchema` defines the validation rules for the form fields.
2. `QuickEditRuleForm.tsx` uses Redux slices (`metaSlice` and `namespacesSlice`) for state management.
3. Distribution types are defined in `RuleForm.tsx` as `distTypes`, which can be easily modified to add or remove distribution options.

The components in this directory demonstrate a well-structured approach to building complex interfaces with React, leveraging popular libraries for state management, form handling, and drag-and-drop functionality. They provide a comprehensive solution for managing rules in a feature flag system, allowing for fine-grained control over feature rollouts and targeting.