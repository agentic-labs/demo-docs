---
title: "SortableRule.tsx"
---

## High-level description
This code defines a React component called `SortableRule` that renders a draggable and sortable rule component for a feature flag management system. It utilizes the `useSortable` hook from the `@dnd-kit/sortable` library to implement drag-and-drop functionality.

## Code Structure
The `SortableRule` component is the main export of this file. It uses the `useSortable` hook to manage the draggable state and properties, and then renders a `Rule` component with these properties.

## Symbols

### SortableRule
#### Description
A functional component that wraps the `Rule` component with sortable functionality.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| flag | IFlag | The feature flag associated with this rule |
| rule | IEvaluatable | The rule to be rendered |
| segments | ISegment[] | An array of segments associated with the flag |
| onSuccess | () =&gt; void | Callback function to be called on successful operations |
| onDelete | () =&gt; void | Callback function to be called when the rule is deleted |
| readOnly | boolean | Optional. If true, the rule cannot be modified |

#### Internal Logic
1. The component uses the `useSortable` hook to manage the draggable state.
2. It calculates the style for the component based on the current transform state.
3. It determines the className based on whether the component is being dragged.
4. Finally, it renders the `Rule` component, passing through all the props and additional properties from the `useSortable` hook.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @dnd-kit/sortable | Provides the `useSortable` hook for drag-and-drop functionality |
| ~/types/Evaluatable | Imports the `IEvaluatable` interface |
| ~/types/Flag | Imports the `IFlag` interface |
| ~/types/Segment | Imports the `ISegment` interface |
| ./Rule | Imports the `Rule` component |

## Performance Considerations
The component uses the `useSortable` hook, which may have performance implications for large lists of rules. However, for typical use cases, this should not be a significant concern.