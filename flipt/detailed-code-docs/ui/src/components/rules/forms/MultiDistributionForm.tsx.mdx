---
title: "MultiDistributionForm.tsx"
---

## High-level description
This code defines a React component called `MultiDistributionFormInputs` that renders a form for managing multiple distribution variants. It allows users to input percentage values for different variants of a feature flag distribution.

## Code Structure
The main component `MultiDistributionFormInputs` takes props containing an array of distributions and a function to update them. It renders a form with input fields for each distribution variant, allowing users to adjust the rollout percentages.

## References
This component likely interacts with other parts of a larger feature flag management system, particularly with the `RuleForm` component (as seen in the related snippets).

## Symbols

### `MultiDistributionFormInputs`
#### Description
A functional React component that renders a form for managing multiple distribution variants.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | MultiDistributionFormInputProps | Contains distributions array and setDistributions function |

#### Outputs
Returns a JSX element representing the form for multiple distribution variants.

#### Internal Logic
1. Destructures `distributions` and `setDistributions` from props.
2. Renders a label for "Variants".
3. Maps over the `distributions` array to render input fields for each variant.
4. Each input field allows entering a percentage value for the variant's rollout.
5. Updates the distributions array when an input value changes.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the component |
| IDistributionVariant | Type definition imported from a local file |

## Performance Considerations
The component uses React's built-in `map` function to render multiple input fields, which is generally efficient for small to medium-sized lists. For very large numbers of variants, consider implementing virtualization or pagination.

## Error Handling
The component doesn't implement explicit error handling. Consider adding validation for the total percentage across all variants (should not exceed 100%) and individual input validation.

## API/Interface Reference
This component is likely used within a larger form context, possibly within the `RuleForm` component seen in the related snippets. It expects to receive and update an array of `IDistributionVariant` objects.

## TODOs
- Consider adding input validation to ensure the total percentage doesn't exceed 100%.
- The `typeof="number"` attribute on the input element is non-standard and should be removed.
- Consider adding accessibility attributes to improve the form's usability for screen readers.