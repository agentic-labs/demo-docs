---
title: "ContextEditor.tsx"
---

## High-level description
This code defines a React component called `ContextEditor` that renders a CodeMirror editor for JSON input. It's designed to be used in a console or debugging interface, allowing users to input and edit JSON context for flag evaluation in a feature flag system.

## Code Structure
The `ContextEditor` component is the main export of this file. It uses the CodeMirror library along with various extensions for JSON editing, linting, and theming.

## Symbols

### ContextEditor
#### Description
A React functional component that renders a CodeMirror editor for JSON input. It sets up the editor with specific configurations for JSON editing, linting, and theming.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | An identifier for the editor |
| setValue | function | A callback function to update the parent component with the new value |

#### Internal Logic
1. Uses `React.useCallback` to memoize the `onChange` function, which calls `setValue` with the new value.
2. Renders a `CodeMirror` component with specific props:
   - Initial value: "{}"
   - Height: "50vh"
   - Extensions: JSON language support, lint gutter, and custom linter
   - Theme: Tokyo Night
   - Basic setup options for editor appearance and functionality

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @codemirror/lang-json | Provides JSON language support for CodeMirror |
| @codemirror/lint | Adds linting functionality to CodeMirror |
| @uiw/codemirror-theme-tokyo-night | Provides the Tokyo Night theme for CodeMirror |
| @uiw/react-codemirror | React wrapper for CodeMirror |
| react | Core React library |
| ./lint | Custom module (likely containing the `parseLinter` function) |

## Performance Considerations
The `onChange` callback is memoized using `React.useCallback` to prevent unnecessary re-renders of the component when the parent component re-renders.

## Related Code Context
The `ContextEditor` component is likely used in the `Console` component from the related `Console.tsx` file. It's part of a larger feature flag evaluation system, where users can input JSON context for flag evaluation. The `package.json` file shows that this project uses various React-related libraries and tools for building a user interface for a feature flag system called "flipt-ui".