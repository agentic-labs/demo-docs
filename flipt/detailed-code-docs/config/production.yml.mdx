---
title: "production.yml"
---

## High-level description
This YAML configuration file defines the production settings for the Flipt application. It specifies logging, server, and database configurations for a production environment, including HTTPS setup and PostgreSQL database connection.

## Symbols

### `version`
#### Description
Specifies the version of the configuration file format.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| version | string | The version number of the configuration format |

### `log`
#### Description
Configures the logging settings for the application.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| level | string | The log level (WARN in this case) |
| encoding | string | The log encoding format (json in this case) |

### `server`
#### Description
Defines the server configuration, including protocol, host, ports, and SSL certificate details.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| protocol | string | The server protocol (https in this case) |
| host | string | The host IP address (0.0.0.0 for all interfaces) |
| http_port | integer | The HTTP port number |
| https_port | integer | The HTTPS port number |
| grpc_port | integer | The gRPC port number |
| cert_file | string | The path to the SSL certificate file |
| cert_key | string | The path to the SSL certificate key file |

### `db`
#### Description
Specifies the database connection settings.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| url | string | The PostgreSQL connection URL |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| log.level | string | WARN | Sets the logging level |
| log.encoding | string | json | Defines the log output format |
| server.protocol | string | https | Specifies the server protocol |
| server.host | string | 0.0.0.0 | Sets the server host address |
| server.http_port | integer | 8080 | Defines the HTTP port |
| server.https_port | integer | 443 | Defines the HTTPS port |
| server.grpc_port | integer | 9000 | Defines the gRPC port |
| server.cert_file | string | cert.pem | Specifies the SSL certificate file |
| server.cert_key | string | key.pem | Specifies the SSL certificate key file |
| db.url | string | postgres://postgres@localhost:5432/flipt?sslmode=disable | Sets the PostgreSQL connection URL |

## Dependencies
This configuration file relies on the Flipt application's ability to parse and use YAML configuration files. It also implies the use of the following technologies:

| Dependency | Purpose |
|:-----------|:--------|
| PostgreSQL | Database backend for the Flipt application |
| SSL/TLS | For secure HTTPS communication |
| gRPC | For efficient RPC communication |

## Notes
1. The configuration uses HTTPS, indicating a production-ready, secure setup.
2. The database connection does not use SSL (sslmode=disable), which might be a security concern in some production environments.
3. The server is configured to listen on all interfaces (0.0.0.0), which may need to be restricted based on the specific production environment requirements.
4. The configuration file uses a JSON schema for validation, as indicated by the yaml-language-server comment at the top of the file.