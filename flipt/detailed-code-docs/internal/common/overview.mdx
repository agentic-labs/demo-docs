---
title: "Overview"
---

## High-level description
The `store_mock.go` file defines a mock implementation of the `storage.Store` interface. This mock store is used for testing purposes, allowing developers to simulate interactions with a storage backend without relying on a real database.

## Code Structure
The `StoreMock` struct embeds `mock.Mock` from the `github.com/stretchr/testify/mock` package, providing mocking capabilities. It implements all the methods of the `storage.Store` interface, each method delegating to the embedded `mock.Mock` to handle expectations and return values.

## References
- `storage.Store`: This interface defines the contract for interacting with a storage backend. The `StoreMock` implements this interface.
- `github.com/stretchr/testify/mock`: This package provides tools for creating and using mocks in tests.

## Symbols

### `StoreMock`
#### Description
The `StoreMock` struct is a mock implementation of the `storage.Store` interface. It allows developers to simulate interactions with a storage backend in their tests.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The `StoreMock` struct embeds `mock.Mock` from the `github.com/stretchr/testify/mock` package. Each method of the `StoreMock` calls the corresponding method on the embedded `mock.Mock`, allowing developers to set expectations and return values for each method call.

### `(m *StoreMock) String() string`
#### Description
This method implements the `String()` method of the `storage.Store` interface. It always returns the string "mock".

#### Inputs
None

#### Outputs
- `string`: The string "mock".

### Other Methods
The remaining methods of the `StoreMock` struct all follow a similar pattern:
1. They take a context and request object as input.
2. They call the corresponding method on the embedded `mock.Mock` object, passing in the input arguments.
3. They return the values returned by the `mock.Mock` method call.

This pattern allows developers to set expectations and return values for each method call on the `StoreMock` object, simulating different scenarios and responses from a real storage backend. For example, a test could set an expectation that the `GetFlag` method will be called with a specific flag key and return a specific `flipt.Flag` object.

## Dependencies
- `context`: Provides a way to pass request-scoped values and cancellation signals.
- `github.com/stretchr/testify/mock`: Used for creating and working with mock objects.
- `go.flipt.io/flipt/internal/storage`: Defines the `storage.Store` interface.
- `go.flipt.io/flipt/rpc/flipt`: Provides the Flipt RPC definitions, including the `flipt.Namespace`, `flipt.Flag`, etc. structs.
