---
title: "mock_PublicClient_test.go"
---

## High-level description
This code defines a mock implementation of the `PublicClient` interface from the `github.com/aws/aws-sdk-go-v2/service/ecrpublic` package. This mock client is intended for use in unit tests to simulate interactions with the Amazon ECR Public service.

## Code Structure
The `MockPublicClient` struct embeds the `mock.Mock` struct from the `github.com/stretchr/testify/mock` package, providing mocking capabilities. It has a single method, `GetAuthorizationToken`, which mocks the corresponding method of the `PublicClient` interface.

## Symbols

### `MockPublicClient`
#### Description
This struct represents a mock implementation of the `PublicClient` interface, allowing for controlled behavior in tests.

#### Inputs
None.

#### Outputs
None.

#### Internal Logic
The `MockPublicClient` struct itself doesn't have any internal logic. It relies on the embedded `mock.Mock` struct for its mocking functionality.

### `GetAuthorizationToken`
#### Description
This method mocks the `GetAuthorizationToken` method of the `PublicClient` interface. It allows you to define the expected inputs and return values for this method call in your tests.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | `context.Context` | The context for the API call. |
| params | `*ecrpublic.GetAuthorizationTokenInput` | The input parameters for the `GetAuthorizationToken` operation. |
| optFns | `...func(*ecrpublic.Options)` | Optional functions to configure the API call. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| output | `*ecrpublic.GetAuthorizationTokenOutput` | The output of the `GetAuthorizationToken` operation, as defined by the mock. |
| err | `error` | An error, if any, that should be returned by the mock. |

#### Internal Logic
The method uses the `Called` method of the embedded `mock.Mock` to register a method call with the given inputs. It then uses `Get` and `Error` methods to retrieve the configured return values and errors, respectively. If no return value is specified for the mock, it panics.

### `NewMockPublicClient`
#### Description
This function creates a new instance of `MockPublicClient` and registers a cleanup function to assert mock expectations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| t | `interface{}` | A testing interface (typically `*testing.T`) that should be used for assertions and cleanup. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*MockPublicClient` | A new instance of the mock client. |

#### Internal Logic
The function creates a new `MockPublicClient` and calls the `Test` method of the embedded `mock.Mock` to associate it with the provided testing interface. It also registers a cleanup function using `t.Cleanup` to ensure that `AssertExpectations` is called on the mock when the test completes.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `github.com/aws/aws-sdk-go-v2/service/ecrpublic` | Provides the `PublicClient` interface and related types for interacting with Amazon ECR Public. |
| `github.com/stretchr/testify/mock` | Provides the mocking framework used to create the mock client. |

## Error Handling
The `GetAuthorizationToken` mock method allows you to configure the mock to return an error, simulating various failure scenarios in your tests.

## Logging
This code does not implement any logging.
