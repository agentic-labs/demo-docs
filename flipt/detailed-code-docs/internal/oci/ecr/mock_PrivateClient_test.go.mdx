---
title: "mock_PrivateClient_test.go"
---

## High-level description
The code defines a mock implementation of the `PrivateClient` interface for the `ecr` package. This mock client is used for testing purposes, allowing developers to simulate the behavior of the actual ECR client without making real API calls.

## Code Structure
The `MockPrivateClient` struct embeds the `mock.Mock` struct from the `github.com/stretchr/testify/mock` package. It provides a mock implementation of the `GetAuthorizationToken` method, which is defined in the `PrivateClient` interface.

## References
- `context` package for managing context in Go programs.
- `github.com/aws/aws-sdk-go-v2/service/ecr` package for interacting with the Amazon Elastic Container Registry (ECR) service.
- `github.com/stretchr/testify/mock` package for creating mock objects for testing.

## Symbols

### `MockPrivateClient`
#### Description
A mock implementation of the `PrivateClient` interface, used for testing purposes.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The `MockPrivateClient` struct embeds the `mock.Mock` struct, which provides functionality for setting expectations and asserting calls on the mock object.

### `GetAuthorizationToken`
#### Description
Mocks the `GetAuthorizationToken` method of the `PrivateClient` interface. It simulates the behavior of retrieving an authorization token from ECR.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | `context.Context` | The context for the API call. |
| params | `*serviceecr.GetAuthorizationTokenInput` | The input parameters for the `GetAuthorizationToken` API call. |
| optFns | `...func(*serviceecr.Options)` | Optional functions to configure the API call. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| output | `*serviceecr.GetAuthorizationTokenOutput` | The output of the mocked `GetAuthorizationToken` API call. |
| err | `error` | An error, if any, that occurred during the mocked API call. |

#### Internal Logic
The method uses the `Called` method of the embedded `mock.Mock` struct to record the call and return the predefined output and error values. If no return values are specified, it panics.

### `NewMockPrivateClient`
#### Description
Creates a new instance of `MockPrivateClient` and registers a testing interface on the mock. It also sets up a cleanup function to assert the mock's expectations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| t | `interface { mock.TestingT Cleanup(func()) }` | A testing interface, typically a `*testing.T` value. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mock | `*MockPrivateClient` | A new instance of `MockPrivateClient`. |

#### Internal Logic
- Creates a new `MockPrivateClient` instance.
- Calls the `Test` method of the embedded `mock.Mock` struct to register the testing interface.
- Registers a cleanup function using `t.Cleanup` to assert the mock's expectations using `mock.AssertExpectations(t)`.
- Returns the new `MockPrivateClient` instance.

## Dependencies
- `github.com/aws/aws-sdk-go-v2/service/ecr` for ECR API interactions.
- `github.com/stretchr/testify/mock` for creating mock objects.
