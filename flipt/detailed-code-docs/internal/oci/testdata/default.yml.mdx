---
title: "default.yml"
---

## High-level description
This YAML file defines a configuration for a feature flag system. It specifies a single boolean flag with various rollout conditions based on segments and a percentage-based threshold.

## Symbols

### `flags`
#### Description
This is the root-level array that contains the feature flag definitions.

#### Internal Logic
The file defines a single flag within this array, but the structure allows for multiple flag definitions.

### `flag_boolean`
#### Description
This is a single feature flag definition within the `flags` array. It represents a boolean flag with various properties and rollout conditions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | Unique identifier for the flag |
| name | string | Display name for the flag |
| type | string | Type of the flag (BOOLEAN_FLAG_TYPE in this case) |
| description | string | Description of the flag's purpose |
| enabled | boolean | Default state of the flag |
| rollouts | array | List of rollout conditions for the flag |

#### Internal Logic
The flag is defined with a default state of `false`, but has several rollout conditions that can override this state for specific segments or a percentage of users.

### `rollouts`
#### Description
This array defines the rollout conditions for the flag. Each entry specifies a condition under which the flag's state may be different from its default.

#### Internal Logic
The rollouts are processed in order, with five different conditions defined:
1. Enabled for segment_001
2. Disabled for segment_002
3. Enabled for segment_003
4. Disabled for segment_004
5. Enabled for 50% of users

Each rollout can be based on either a segment or a threshold percentage.

#### Segment-based rollouts
Segment-based rollouts use a `segment` object with a `key` and optionally a `value`. When `value` is present, it explicitly sets the flag state for that segment. When `value` is absent, it implies the flag is disabled for that segment.

#### Threshold-based rollout
The threshold-based rollout uses a `threshold` object with a `percentage` and a `value`. This allows for gradual rollout to a percentage of users.

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| enabled | boolean | false | The default state of the flag |

This configuration file serves as a template or example for defining feature flags in a system. It demonstrates various ways to control the flag's state based on user segments and percentage-based rollouts.