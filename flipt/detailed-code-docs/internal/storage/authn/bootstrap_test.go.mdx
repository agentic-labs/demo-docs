---
title: "bootstrap_test.go"
---

## High-level description
The `TestBootstrap` function is a test function that checks the `authn.Bootstrap` function. It ensures that the bootstrapping process successfully initializes an authentication store with the provided options, such as expiration time and a predefined token.

## References
- `authn.Bootstrap`: This function is being tested by the current code.
- `memory.NewStore`: This function is used to create a new in-memory authentication store for testing purposes.

## Symbols
### `TestBootstrap`
#### Description
This function is a test function that verifies the behavior of the `authn.Bootstrap` function. It creates an in-memory authentication store, calls the `authn.Bootstrap` function with specific options, and asserts that the bootstrapping process completes successfully and returns a non-empty string.

#### Inputs
This function takes no inputs.

#### Outputs
This function has no return values.

#### Internal Logic
1. **Arrange:**
    - Create a new in-memory authentication store using `memory.NewStore()`.
2. **Act:**
    - Call the `authn.Bootstrap` function with the created store and the following options:
        - `authn.WithExpiration(time.Minute)`: Sets the token expiration time to one minute.
        - `authn.WithToken("this-is-a-token")`: Sets a predefined token value.
3. **Assert:**
    - Use `assert.NoError(t, err)` to verify that the `authn.Bootstrap` function returned no errors.
    - Use `assert.NotEmpty(t, s)` to assert that the returned string `s` is not empty, indicating successful bootstrapping.

## Side Effects
This function has no side effects as it is a test function operating on an in-memory store.
