---
title: "analytics.go"
---

## High-level description
The `analytics.go` file implements the server-side logic for handling requests related to flag evaluation analytics. It specifically provides an RPC method `GetFlagEvaluationsCount` that retrieves aggregated flag evaluation counts from a client.

## References
- `go.flipt.io/flipt/rpc/flipt/analytics`: This package likely defines the protobuf definitions for the RPC service and messages related to analytics.

## Symbols

### `Server`
#### Description
The `Server` struct likely represents the analytics server and holds dependencies like a client for fetching data.

#### Symbols
- `GetFlagEvaluationsCount(ctx context.Context, req *analytics.GetFlagEvaluationsCountRequest) (*analytics.GetFlagEvaluationsCountResponse, error)`

### `GetFlagEvaluationsCount`
#### Description
This method handles the `GetFlagEvaluationsCount` RPC request. It retrieves aggregated flag evaluation counts from a client and returns them in a response object.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | context.Context | The context of the request. |
| req | *analytics.GetFlagEvaluationsCountRequest | The request object containing any necessary parameters for retrieving flag evaluation counts. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| *analytics.GetFlagEvaluationsCountResponse |  | The response object containing the aggregated flag evaluation counts. |
| error | error | An error object indicating if the operation failed. |

#### Internal Logic
1. Calls the `GetFlagEvaluationsCount` method on the `s.client` (which is likely a client for interacting with a data store) passing in the context and request.
2. Checks if an error occurred during the retrieval process. If so, returns the error.
3. Constructs a new `analytics.GetFlagEvaluationsCountResponse` object with the retrieved timestamps and values.
4. Returns the response object.
