---
title: "http_test.go"
---

## High-level description
The `http_test.go` file in the `internal/server/authn/method` package contains unit tests for the `ForwardPrefix` function. This function is responsible for extracting the value of the `X-Forwarded-Prefix` header from an HTTP request and returning it as a string.

## Symbols

### `TestForwardPrefix`
#### Description
This function is a unit test for the `ForwardPrefix` function. It tests two scenarios: one where the `X-Forwarded-Prefix` header is present in the request and one where it is not.

#### Inputs
This function does not take any inputs.

#### Outputs
This function does not return any outputs.

#### Internal Logic
1. **Arrange:** Defines a table of test cases, each with a name, a set of headers to be added to the request, and the expected value of the `ForwardedPrefixKey` in the returned metadata.
2. **Act:** For each test case, it creates a new HTTP request, adds the specified headers, calls the `ForwardPrefix` function with the request, and retrieves the value of the `ForwardedPrefixKey` from the returned metadata.
3. **Assert:** Uses the `assert.Equal` function to verify that the extracted value matches the expected value for each test case.

## Side Effects
This code has no side effects as it is a test function and does not modify any external state.
