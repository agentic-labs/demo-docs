---
title: "mock_bridge.go"
---

## High-level description
The code defines a mock implementation of the `Bridge` interface from the `ofrep` package. This mock, `MockBridge`, is used for testing purposes, allowing you to simulate the behavior of the real `Bridge` and control its return values and errors.

## Code Structure
The `MockBridge` struct embeds `mock.Mock` from the `github.com/stretchr/testify/mock` package, inheriting its mocking capabilities. It has one method, `OFREPFlagEvaluation`, which is a mock implementation of the `Bridge.OFREPFlagEvaluation` method.

## Symbols

### `MockBridge`
#### Description
This struct represents a mock implementation of the `Bridge` interface, used for testing purposes. It allows you to define the behavior of the `OFREPFlagEvaluation` method by setting expectations and return values.

#### Inputs
None. The `MockBridge` struct itself doesn't have any input parameters.

#### Outputs
None. The `MockBridge` struct itself doesn't return any values.

### `NewMockBridge`
#### Description
This function creates a new instance of the `MockBridge` struct. It also registers the mock with the provided testing interface (`t`) and sets up a cleanup function to assert that all expectations set on the mock were met.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| t | interface { mock.TestingT ; Cleanup(func()) } | A testing interface that provides access to testing functionalities like `Errorf`, `Fatalf`, and `Cleanup`. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mock | \*MockBridge | A pointer to the newly created `MockBridge` instance. |

### `MockBridge.OFREPFlagEvaluation`
#### Description
This method is a mock implementation of the `Bridge.OFREPFlagEvaluation` method. It allows you to define the behavior of the real method by setting expectations on the mock. You can specify the expected input parameters and the return values (both successful and errors) that the mock should return when called.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | context.Context | The context for the operation. |
| input | EvaluationBridgeInput | The input parameters for the flag evaluation. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| EvaluationBridgeOutput |  | The result of the flag evaluation. |
| error |  | An error, if any occurred during the evaluation. |

#### Internal Logic
This method uses the `Called` method from the embedded `mock.Mock` to record the call with its input parameters. Then, it retrieves the configured return values using `Get` and returns them. If no return values are specified, it panics.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| github.com/stretchr/testify/mock | Provides the mocking framework for creating and managing mocks. |

```
import (
	"context"

	mock "github.com/stretchr/testify/mock"
)
```