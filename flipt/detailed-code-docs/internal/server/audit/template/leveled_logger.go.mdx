---
title: "leveled_logger.go"
---

## High-level description
The code defines a `LeveledLogger` type that implements the `retryablehttp.LeveledLogger` interface from the `github.com/hashicorp/go-retryablehttp` package. This logger is used to log messages at different levels (Error, Info, Debug, Warn) only if the underlying `zap.Logger` is enabled for that level.

## Code Structure
The `NewLeveledLogger` function creates a new `LeveledLogger` instance. The `LeveledLogger` type has methods for each log level (Error, Info, Debug, Warn) that check if the level is enabled before logging. The `fields` method converts key-value pairs into `zap.Field`s for structured logging.

## Symbols

### `NewLeveledLogger`
#### Description
This function creates a new `LeveledLogger` instance with the provided `zap.Logger`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| logger | `*zap.Logger` | The underlying `zap.Logger` to use for logging. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| `retryablehttp.LeveledLogger` | `retryablehttp.LeveledLogger` | A new `LeveledLogger` instance that wraps the provided `zap.Logger`. |

### `LeveledLogger`
#### Description
The `LeveledLogger` type implements the `retryablehttp.LeveledLogger` interface and provides level-aware logging using a `zap.Logger`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| logger | `*zap.Logger` | The underlying `zap.Logger` to use for logging. |

### `LeveledLogger.Error`
#### Description
Logs a message at the Error level if the underlying `zap.Logger` is enabled for that level.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| msg | `string` | The message to log. |
| keyvals | `...interface{}` | Key-value pairs to include in the log message. |

### `LeveledLogger.Info`
#### Description
Logs a message at the Info level if the underlying `zap.Logger` is enabled for that level.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| msg | `string` | The message to log. |
| keyvals | `...interface{}` | Key-value pairs to include in the log message. |

### `LeveledLogger.Debug`
#### Description
Logs a message at the Debug level if the underlying `zap.Logger` is enabled for that level.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| msg | `string` | The message to log. |
| keyvals | `...interface{}` | Key-value pairs to include in the log message. |

### `LeveledLogger.Warn`
#### Description
Logs a message at the Warn level if the underlying `zap.Logger` is enabled for that level.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| msg | `string` | The message to log. |
| keyvals | `...any` | Key-value pairs to include in the log message. |

### `LeveledLogger.fields`
#### Description
Converts a slice of key-value pairs into a slice of `zap.Field`s for structured logging.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| keyvals | `[]any` | A slice of key-value pairs, where the keys are strings. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| `[]zap.Field` | `[]zap.Field` | A slice of `zap.Field`s representing the provided key-value pairs. |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| github.com/hashicorp/go-retryablehttp | Provides the `LeveledLogger` interface. |
| go.uber.org/zap | Provides the underlying logging functionality. |
| go.uber.org/zap/zapcore | Provides access to the `zapcore` package for checking log level enablement. |
