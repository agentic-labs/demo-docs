---
title: "cache.go"
---

## High-level description
This code defines a package called `cache` that provides an interface and utility function for caching operations. It includes a `Cacher` interface for interacting with a cache and a `Key` function for generating cache keys.

## Symbols

### `Cacher` interface
#### Description
The `Cacher` interface defines methods for interacting with a cache. It includes operations for getting, setting, and deleting values, as well as implementing the `fmt.Stringer` interface.

#### Methods
1. `Get(ctx context.Context, key string) ([]byte, bool, error)`
   - Retrieves a value from the cache.
   - Inputs:
     | Name | Type | Description |
     |:-----|:-----|:------------|
     | ctx | context.Context | The context for the operation |
     | key | string | The key to retrieve |
   - Outputs:
     | Name | Type | Description |
     |:-----|:-----|:------------|
     | value | []byte | The retrieved value |
     | found | bool | Indicates if the item was found |
     | err | error | Any error that occurred |

2. `Set(ctx context.Context, key string, value []byte) error`
   - Sets a value in the cache.
   - Inputs:
     | Name | Type | Description |
     |:-----|:-----|:------------|
     | ctx | context.Context | The context for the operation |
     | key | string | The key to set |
     | value | []byte | The value to store |
   - Outputs:
     | Name | Type | Description |
     |:-----|:-----|:------------|
     | err | error | Any error that occurred |

3. `Delete(ctx context.Context, key string) error`
   - Removes a value from the cache.
   - Inputs:
     | Name | Type | Description |
     |:-----|:-----|:------------|
     | ctx | context.Context | The context for the operation |
     | key | string | The key to delete |
   - Outputs:
     | Name | Type | Description |
     |:-----|:-----|:------------|
     | err | error | Any error that occurred |

4. `fmt.Stringer`
   - The interface requires implementation of the `String()` method for string representation.

### `Key` function
#### Description
The `Key` function generates a cache key by prefixing "flipt:" to the MD5 hash of the input string.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| k | string | The input string to generate a key for |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | The generated cache key |

#### Internal Logic
1. Calculates the MD5 hash of the input string.
2. Formats the result as a hexadecimal string.
3. Prefixes "flipt:" to the hexadecimal string.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| context | Provides context for cache operations |
| crypto/md5 | Used for generating MD5 hashes |
| fmt | Used for string formatting |

This cache package provides a flexible interface for implementing caching mechanisms and a utility function for generating consistent cache keys. It can be used as a foundation for building caching systems within the larger application.