---
title: "Overview"
---

## High-level description
This directory contains utility functions for the Flipt application, a self-hosted feature flag solution. It provides functionality for command-line interface interactions, including user prompts and browser-related operations. The utilities support the main application by handling user input, configuration management, and setting up various components of the application.

## What does it do?
The utility functions in this directory serve two main purposes:

1. Command-line interface (CLI) interaction:
   - It provides functions to prompt users for input, including plain text, password (hidden input), and yes/no confirmations. These functions make it easy to gather user input in a consistent and user-friendly manner.

2. Application setup and management:
   - It contains the main entry point for the Flipt application, handling the setup of the command-line interface, configuration loading, logging setup, and initialization of various components such as telemetry, gRPC server, HTTP server, and cloud connectivity.

These utilities work together to create a smooth user experience for setting up and running the Flipt application, while also providing the necessary infrastructure for the application to function properly.

## Key Files

### browser.go
This file contains the main functionality for setting up and running the Flipt application. Key features include:

- Setting up the root command and subcommands using the Cobra library
- Loading and managing configuration
- Initializing logging
- Setting up telemetry, gRPC server, HTTP server, and cloud connectivity
- Handling graceful shutdown

### prompt.go
This file provides utility functions for user input in the command-line interface:

- `PromptPlaintext`: Prompts for plain text input
- `PromptPassword`: Prompts for password input (hidden)
- `PromptConfirm`: Prompts for yes/no confirmation

These functions use the `survey` library to create a consistent and user-friendly input experience.

## Dependencies
The utility functions rely on several external libraries and internal packages:

1. github.com/spf13/cobra (version not specified)
   - Used for building the command-line interface
   - Chosen for its powerful and flexible CLI creation capabilities

2. go.uber.org/zap (version not specified)
   - Used for logging
   - Chosen for its high-performance, structured logging features

3. github.com/AlecAivazis/survey/v2 (version not specified)
   - Used for interactive command-line prompts
   - Chosen for its user-friendly input handling and customization options

4. Internal packages:
   - go.flipt.io/flipt/internal/config: For configuration management
   - go.flipt.io/flipt/internal/cmd: For command implementations
   - go.flipt.io/reverst/client: For cloud connectivity

These dependencies were likely chosen for their reliability, performance, and ease of use in building robust command-line applications.

## Configuration
The utility functions, particularly in `browser.go`, handle configuration management for the Flipt application. Key aspects include:

- Configuration file determination: The application checks for configuration files in the following order:
  1. User-provided config file (via command-line flag)
  2. User config file in the home directory
  3. Default config file in the application directory

- Configuration loading: The `buildConfig` function loads the configuration and sets up the logger based on the loaded config.

- Configurable fields: While not explicitly listed in the provided code snippets, the configuration likely includes settings for:
  - Logging (level, format, output destination)
  - Server settings (gRPC, HTTP)
  - Telemetry options
  - Cloud connectivity settings
  - Update checking

The configuration system allows for flexible deployment and customization of the Flipt application to suit various environments and use cases.

In summary, the utility functions in this directory provide essential support for the Flipt application, handling user interaction, configuration management, and application setup. They form a crucial part of the application's infrastructure, enabling smooth operation and user experience.