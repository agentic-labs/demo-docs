---
title: "exporter_test.go"
---

## High-level description
This code defines the structure and functionality for authentication and authorization in the Flipt system. It includes various message types, enums, and service definitions for managing authentication methods, tokens, and service accounts.

## Code Structure
The code defines several message types and an enum for authentication methods. These are used to create, list, and manage different types of authentication in the Flipt system. The main service defined is `AuthService`, which provides methods for various authentication-related operations.

## Symbols

### `Method` (Enum)
#### Description
Defines the different authentication methods supported by the system.

#### Enum Values
- METHOD_NONE (0)
- METHOD_TOKEN (1)
- METHOD_OIDC (2)
- METHOD_KUBERNETES (3)
- METHOD_GITHUB (4)
- METHOD_JWT (5)
- METHOD_CLOUD (6)

### `MethodInfo` (Message)
#### Description
Represents information about an authentication method.

#### Fields
| Name | Type | Description |
|:-----|:-----|:------------|
| method | Method | The authentication method |
| enabled | bool | Whether the method is enabled |
| session_compatible | bool | Whether the method is compatible with sessions |
| metadata | google.protobuf.Struct | Additional metadata for the method |

### `Authentication` (Message)
#### Description
Represents an authentication entity.

#### Fields
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | Unique identifier for the authentication |
| method | Method | The authentication method used |
| expires_at | google.protobuf.Timestamp | Expiration time of the authentication |
| created_at | google.protobuf.Timestamp | Creation time of the authentication |
| updated_at | google.protobuf.Timestamp | Last update time of the authentication |
| metadata | map&lt;string, string&gt; | Additional metadata for the authentication |

### `AuthService` (Service)
#### Description
Defines the gRPC service for authentication-related operations.

#### Methods
- `ListAuthenticationMethods`: Lists available authentication methods
- `GetAuthentication`: Retrieves a specific authentication
- `ListAuthentications`: Lists authentications
- `DeleteAuthentication`: Deletes an authentication
- `ExpireAuthenticationSelf`: Expires the current authentication
- `CreateToken`: Creates a new authentication token
- `AuthorizeURL`: Generates an authorization URL for OAuth-based methods
- `Callback`: Handles the OAuth callback
- `VerifyServiceAccount`: Verifies a service account token

## Dependencies
- google/protobuf/empty.proto
- google/protobuf/struct.proto
- google/protobuf/timestamp.proto
- google/api/annotations.proto
- gnostic/openapi/v3/annotations.proto

## Configuration
The code defines various configuration options through the message fields and method parameters.

## API/Interface Reference
The `AuthService` provides the main API for authentication operations. Each method in the service corresponds to a specific authentication-related action, such as creating tokens, listing methods, or verifying service accounts.

This code appears to be a Protocol Buffers definition file, which is used to define the structure of data and services for gRPC communication. It sets up the foundation for authentication and authorization in the Flipt system, allowing for various methods of authentication and management of authentication entities.