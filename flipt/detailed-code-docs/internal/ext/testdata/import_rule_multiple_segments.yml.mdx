---
title: "import_rule_multiple_segments.yml"
---

## High-level description
This YAML file defines configuration for feature flags and segments in a feature management system. It includes two flags with different types and rules, as well as a segment definition with constraints.

## Symbols

### `flags`
#### Description
An array of feature flag configurations.

#### Internal Logic
Each flag in the array contains properties such as key, name, type, description, enabled status, and may include variants, rules, or rollouts depending on the flag type.

___

### `flags[0]` (flag1)
#### Description
A variant-type feature flag named "flag1" with a single variant and a rule based on a segment.

#### Internal Logic
- Defines a variant named "variant1" with a complex attachment structure
- Includes a rule that applies the variant based on a segment condition

___

### `flags[1]` (flag2)
#### Description
A boolean-type feature flag named "flag2" with rollout rules based on a segment and a percentage threshold.

#### Internal Logic
- Defines two rollout rules:
  1. Enables the flag for users in the "internal_users" segment
  2. Enables the flag for 50% of users

___

### `segments`
#### Description
An array of segment definitions used for targeting specific user groups in flag rules.

#### Internal Logic
Defines a single segment named "segment1" with a constraint based on a string comparison.

## Configuration
| Option | Type | Description |
|:-------|:-----|:------------|
| flags | array | List of feature flag configurations |
| segments | array | List of segment definitions for targeting |

### Flag Configuration
| Option | Type | Description |
|:-------|:-----|:------------|
| key | string | Unique identifier for the flag |
| name | string | Display name of the flag |
| type | string | Type of the flag (e.g., "VARIANT_FLAG_TYPE", "BOOLEAN_FLAG_TYPE") |
| description | string | Description of the flag's purpose |
| enabled | boolean | Whether the flag is currently enabled |
| variants | array | List of variants for variant-type flags |
| rules | array | List of rules for applying variants or values |
| rollouts | array | List of rollout configurations for boolean flags |

### Segment Configuration
| Option | Type | Description |
|:-------|:-----|:------------|
| key | string | Unique identifier for the segment |
| name | string | Display name of the segment |
| match_type | string | Type of matching for the segment (e.g., "ANY_MATCH_TYPE") |
| description | string | Description of the segment's purpose |
| constraints | array | List of constraints defining the segment |

This configuration file demonstrates the structure and options available for defining feature flags and segments in the system, including complex data types, targeting rules, and rollout strategies.