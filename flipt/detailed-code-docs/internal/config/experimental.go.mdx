---
title: "experimental.go"
---

## High-level description
This code defines the structure and configuration for experimental features in a software system. It provides a way to enable or disable experimental features, specifically for cloud-related functionality, and handles deprecation of certain configuration options.

## Code Structure
The code defines two main structures: `ExperimentalConfig` and `ExperimentalFlag`. The `ExperimentalConfig` contains a method `deprecations` to handle deprecated configuration options.

## Symbols

### `ExperimentalConfig`
#### Description
`ExperimentalConfig` is a struct that allows for experimental features to be enabled and disabled. It currently contains a single field for cloud-related experimental features.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Cloud | ExperimentalFlag | Configuration for cloud-related experimental features |

### `ExperimentalConfig.deprecations`
#### Description
This method checks for deprecated configuration options and returns a list of deprecated keys.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| v | *viper.Viper | Viper configuration object |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| deprecations | []deprecated | List of deprecated configuration keys |

#### Internal Logic
1. Initialize an empty slice of deprecated items.
2. Check if the "experimental.filesystem_storage" configuration exists.
3. If it exists, add it to the list of deprecations.
4. Return the list of deprecations.

### `ExperimentalFlag`
#### Description
`ExperimentalFlag` is a structure used to configure the enablement of experimental features. It contains a single boolean field to indicate whether the feature is enabled or not.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Enabled | bool | Indicates whether the experimental feature is enabled |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| github.com/spf13/viper | Used for configuration management |

## Configuration
The code defines the following configuration options:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| cloud.enabled | bool | - | Enables or disables cloud-related experimental features |
| experimental.filesystem_storage | - | - | A deprecated configuration option |

## Error Handling
This code does not implement specific error handling mechanisms.

## TODOs
The code indicates that the "experimental.filesystem_storage" configuration option is deprecated. Future updates may involve removing this option or replacing it with an alternative.