---
title: "Overview"
---

## High-level description
This directory contains the configuration package for Flipt, a feature flag management system. It defines various configuration structures and methods for setting defaults, validating inputs, and handling different aspects of the application such as authentication, authorization, database connections, caching, logging, metrics, tracing, and user interface customization.

## What does it do?
The configuration package provides a comprehensive set of structures and functions to:

1. Define configuration options for various components of Flipt.
2. Set default values for configuration options.
3. Validate user-provided configuration settings.
4. Handle deprecated configuration options.
5. Provide type-safe access to configuration values.
6. Support different storage backends (database, local filesystem, Git, object storage, OCI).
7. Configure authentication and authorization mechanisms.
8. Set up logging, metrics, and tracing for observability.
9. Customize the user interface appearance.

This package serves as the central point for managing all configuration-related aspects of Flipt, ensuring that the application can be flexibly configured while maintaining consistency and type safety.

## Entry points
The main entry point for this package is likely the `Config` struct defined in `config.go`. This struct would aggregate all the individual configuration components into a single, comprehensive configuration object. Other important entry points include:

1. `AuthenticationConfig` in `authentication.go` for authentication settings.
2. `AuthorizationConfig` in `authorization.go` for authorization settings.
3. `DatabaseConfig` in `database.go` for database connection settings.
4. `StorageConfig` in `storage.go` for various storage backend configurations.
5. `ServerConfig` in `server.go` for HTTP and gRPC server settings.
6. `LogConfig` in `log.go` for logging configuration.
7. `MetricsConfig` in `metrics.go` for metrics settings.
8. `TracingConfig` in `tracing.go` for distributed tracing configuration.
9. `UIConfig` in `ui.go` for user interface customization.

These structures and their associated methods form the core of the configuration system, allowing other parts of the application to access and use the configuration in a type-safe manner.

## Key Files
1. `config.go`: Likely contains the main `Config` struct that aggregates all other configuration components.
2. `authentication.go`: Defines authentication methods and settings.
3. `authorization.go`: Handles authorization configuration.
4. `database.go`: Configures database connections.
5. `storage.go`: Defines various storage backend options.
6. `server.go`: Configures HTTP and gRPC server settings.
7. `log.go`: Sets up logging configuration.
8. `metrics.go`: Handles metrics collection settings.
9. `tracing.go`: Configures distributed tracing.
10. `ui.go`: Defines user interface customization options.

## Dependencies
The configuration package relies on several external libraries:

1. `github.com/spf13/viper`: Used extensively for managing configuration settings, setting defaults, and binding environment variables.
2. `go.opentelemetry.io/otel`: Used in `tracing.go` for setting up OpenTelemetry tracing.
3. `encoding/json` and `gopkg.in/yaml.v2`: Used for marshaling and unmarshaling configuration data.
4. Various standard library packages like `fmt`, `errors`, `time`, and `regexp` for utility functions and error handling.

## Configuration
The package defines numerous configuration options across different domains of the application. Some key configuration areas include:

1. Database connection settings (URL, max connections, etc.)
2. Authentication methods (Token, OIDC, GitHub, etc.)
3. Authorization backends (local, cloud, bundle, object)
4. Storage options (local filesystem, Git, S3, Azure Blob, Google Cloud Storage, OCI)
5. Server settings (host, ports, TLS configuration)
6. Logging levels and formats
7. Metrics collection and exporters
8. Tracing configuration (Jaeger, Zipkin, OTLP)
9. UI theme and customization options

Each configuration struct typically implements methods for setting defaults (`setDefaults`) and validating inputs (`validate`), ensuring that the configuration is both flexible and robust.

This configuration package forms the backbone of Flipt's configurability, allowing it to be adapted to various deployment scenarios and integrated with different systems while maintaining a consistent and type-safe configuration interface.