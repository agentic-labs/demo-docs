---
title: "ui.go"
---

## High-level description
This code defines the configuration structure for the user interface of Flipt, a feature flag management system. It includes settings for the UI theme and top bar, along with validation and default value handling.

## Code Structure
The code defines several interconnected types and constants:
- `UITheme` type and associated constants for theme options
- `UITopbar` struct for top bar configuration
- `UIConfig` struct that includes the default theme and top bar settings
- Helper methods for validation and setting defaults

## Symbols

### `UITheme`
#### Description
A custom string type representing the UI theme options.

#### Constants
- `SystemUITheme`: Represents the system theme
- `DarkUITheme`: Represents the dark theme
- `LightUITheme`: Represents the light theme

### `UITopbar`
#### Description
A struct that represents the configuration of the user interface top bar.

#### Fields
| Name | Type | Description |
|:-----|:-----|:------------|
| Color | string | The color of the top bar |
| Label | string | The label text for the top bar |

#### Methods

##### `validate()`
#### Description
Validates the `UITopbar` configuration.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Returns an error if the color is invalid, nil otherwise |

#### Internal Logic
- Checks if the Color field is not empty and matches a valid hex color format using a regular expression
- Returns an error if the color is invalid

### `UIConfig`
#### Description
Contains fields that control the behavior of Flipt's user interface.

#### Fields
| Name | Type | Description |
|:-----|:-----|:------------|
| DefaultTheme | UITheme | The default UI theme |
| Topbar | UITopbar | The top bar configuration |

#### Methods

##### `setDefaults(v *viper.Viper)`
#### Description
Sets default values for the UI configuration using Viper.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| v | *viper.Viper | Viper instance for setting defaults |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Always returns nil in this implementation |

#### Internal Logic
- Sets the default theme to `SystemUITheme`

##### `validate()`
#### Description
Validates the `UIConfig`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Returns an error if validation fails, nil otherwise |

#### Internal Logic
- Calls the `validate()` method of the `Topbar` field

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| fmt | For error formatting |
| regexp | For regular expression matching |
| github.com/spf13/viper | For configuration management |

## Error Handling
The code implements basic error handling in the `validate()` methods, returning formatted error messages when validation fails.