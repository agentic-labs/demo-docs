---
title: "valid_default_variant_v3.yaml"
---

## High-level description
This YAML file defines a configuration for feature flags and segments in a feature management system. It specifies a single feature flag with variants, rules for distribution, and two user segments with their respective constraints.

## Code Structure
The YAML file is structured with top-level keys defining the version, namespace, flags, and segments. The `flags` and `segments` sections contain detailed configurations for feature flags and user segments respectively.

## Symbols

### version
#### Description
Specifies the version of the configuration format.

#### Value
"1.3"

### namespace
#### Description
Defines the namespace for this configuration.

#### Value
"default"

### flags
#### Description
An array containing the configuration for feature flags.

#### Internal Logic
Each flag is defined with a key, name, description, enabled status, variants, and rules for distribution.

### segments
#### Description
An array containing the configuration for user segments.

#### Internal Logic
Each segment is defined with a key, name, description, match type, and optional constraints.

### Flag: flipt
#### Description
Defines a feature flag named "flipt".

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | Unique identifier for the flag |
| name | string | Display name for the flag |
| description | string | Description of the flag's purpose |
| enabled | boolean | Whether the flag is currently enabled |
| variants | array | List of possible variants for the flag |
| rules | array | Rules for distributing variants to segments |

#### Internal Logic
The flag is currently disabled (`enabled: false`). It has two variants, both with the key and name "flipt", but the second one is set as the default. The flag has two rules for distribution, targeting different segments with 100% rollout to specific variants.

### Segment: all-users
#### Description
Defines a segment for all users.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | Unique identifier for the segment |
| name | string | Display name for the segment |
| description | string | Description of the segment's purpose |
| match_type | string | Type of matching for the segment |

#### Internal Logic
This segment has no specific constraints and uses the `ALL_MATCH_TYPE`, suggesting it includes all users.

### Segment: internal-users
#### Description
Defines a segment for internal users at flipt.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | Unique identifier for the segment |
| name | string | Display name for the segment |
| description | string | Description of the segment's purpose |
| constraints | array | List of constraints for segment membership |
| match_type | string | Type of matching for the segment |

#### Internal Logic
This segment has a constraint that checks if the user's organization property equals "flipt". It uses the `ALL_MATCH_TYPE`, suggesting all constraints must be met for a user to be included in this segment.

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| version | string | "1.3" | Version of the configuration format |
| namespace | string | "default" | Namespace for this configuration |

Note: This file appears to be a test data file (`testdata` in the file path) used for validating the parsing and handling of feature flag configurations in the core validation module of the system.