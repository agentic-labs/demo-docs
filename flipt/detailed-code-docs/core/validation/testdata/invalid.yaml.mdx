---
title: "invalid.yaml"
---

## High-level description
This YAML file represents an invalid configuration for feature flags and segments in a feature flagging system. It contains intentional errors to test validation mechanisms, including issues with variant references, rollout percentages, and constraint types.

## Symbols

### `namespace`
#### Description
Specifies the namespace for the configuration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| namespace | string | The namespace identifier |

### `flags`
#### Description
Defines a list of feature flags with their properties, variants, and rules.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | Unique identifier for the flag |
| name | string | Display name of the flag |
| description | string | Description of the flag's purpose |
| enabled | boolean | Flag's activation status |
| variants | array | List of variants for the flag |
| rules | array | List of rules for flag evaluation |

#### Internal Logic
The flag definition includes variants and rules. The rules reference segments and define distributions for variants. There are intentional errors in this section, such as referencing non-existent variants and invalid rollout percentages.

### `segments`
#### Description
Defines a list of user segments with their properties and constraints.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | Unique identifier for the segment |
| name | string | Display name of the segment |
| description | string | Description of the segment's purpose |
| match_type | string | Type of matching for the segment (e.g., ALL_MATCH_TYPE) |
| constraints | array | List of constraints for segment membership (optional) |

#### Internal Logic
Segments can have constraints that define the criteria for user inclusion. The "internal-users" segment includes a constraint based on the "organization" property.

## Error Handling
This file is intentionally invalid and contains several errors to test validation:

1. Variant references in rules ("fromFlipt" and "fromFlipt2") do not match the defined variants.
2. A rollout percentage exceeds 100% (110% for "fromFlipt2").
3. The constraint type "STRING_COMPARISON_TYPE" may be invalid depending on the system's accepted types.

These errors are likely intended to trigger validation failures in the feature flag system's configuration parser or validator.

## TODOs
- Correct variant references in rules to match defined variants.
- Adjust rollout percentages to be within the valid range (0-100%).
- Verify and correct the constraint type if necessary.
- Consider adding more diverse error cases to thoroughly test validation mechanisms.