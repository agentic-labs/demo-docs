---
title: "auth_test.go"
---

## High-level description
This code defines an integration test for the authorization (authz) functionality in the Flipt project. It uses a testing harness to set up and run the test, which allows for consistent testing across different environments and configurations.

## Code Structure
The code consists of a single test function `TestAuthz` that utilizes the `integration.Harness` function to set up the test environment. It then calls a `Common` function (not shown in this file) to perform the actual test cases.

## References
- `integration.Harness`: Used from the `go.flipt.io/build/testing/integration` package to set up the test environment.
- `Common`: A function (not shown in this file) that presumably contains the common test cases for authorization.

## Symbols

### `TestAuthz`
#### Description
This function is the main entry point for the authorization integration tests. It uses the `integration.Harness` function to set up the test environment and then calls the `Common` function to run the actual test cases.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| t | *testing.T | The testing object provided by Go's testing framework |

#### Internal Logic
1. Calls `integration.Harness`, passing the testing object `t` and an anonymous function.
2. The anonymous function takes two parameters: the testing object `t` and `opts` of type `integration.TestOpts`.
3. Inside the anonymous function, it calls the `Common` function, passing `t` and `opts`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| testing | Go's standard testing framework |
| go.flipt.io/build/testing/integration | Custom integration testing package for Flipt |

## Notes
1. The `Common` function is not defined in this file, suggesting that it's imported from another package or defined in a different file within the same package.
2. The `integration.Harness` function is crucial for setting up the test environment. It likely handles configuration, such as setting up connections to the Flipt service and managing test-specific settings.
3. The use of a harness and a common function suggests that there might be multiple test files or packages that share the same setup and common test cases, promoting code reuse and consistency across different types of integration tests.
4. The `authz` package name implies that this test file is specifically focused on authorization-related functionality within the Flipt system.

This integration test structure allows for flexible and consistent testing of the authorization features across different configurations and environments in the Flipt project.