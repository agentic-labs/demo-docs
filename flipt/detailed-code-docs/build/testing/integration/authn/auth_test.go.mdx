---
title: "auth_test.go"
---

## High-level description
This code defines an integration test for authentication (authn) in the Flipt project. It uses a testing harness to set up and run authentication-related tests across different environments and configurations.

## Code Structure
The main function `TestAuthn` uses the `integration.Harness` function to set up the test environment and then calls the `Common` function (not shown in this file) to run the actual authentication tests.

## Symbols

### `TestAuthn`
#### Description
This function is the entry point for authentication integration tests. It uses the `integration.Harness` function to set up the test environment and run the common authentication tests.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| t | *testing.T | The testing object provided by Go's testing framework |

#### Internal Logic
1. Calls `integration.Harness` with the testing object and an anonymous function.
2. The anonymous function receives a testing object and `integration.TestOpts`.
3. Calls the `Common` function (not defined in this file) with the testing object and options.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| testing | Go's standard testing framework |
| go.flipt.io/build/testing/integration | Custom integration testing package for Flipt |

## References
The code references the following external symbols:
- `integration.Harness`: A function from the custom integration testing package that sets up the test environment.
- `Common`: A function (not defined in this file) that presumably contains the common authentication tests.

## Notes
1. The `Common` function is not defined in this file, so its implementation details are not available here.
2. The `integration` package (from `go.flipt.io/build/testing/integration`) provides the `Harness` and `TestOpts` types, which are crucial for setting up and running the integration tests.
3. This test file is part of a larger integration testing suite for the Flipt project, focusing specifically on authentication.
4. The actual authentication tests are likely implemented in the `Common` function, which is called with the test options provided by the `Harness` function.

This code serves as a wrapper or entry point for running authentication-related integration tests in the Flipt project, leveraging a custom testing harness to set up the environment and run the tests across different configurations.