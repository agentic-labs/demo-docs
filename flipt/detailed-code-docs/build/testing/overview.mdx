---
title: "Overview"
---

## High-level description
This directory contains testing-related code for the Flipt project, including integration tests, load tests, migration tests, and UI tests. It provides utilities for setting up test environments, executing various types of tests, and verifying the functionality of different components of the Flipt system.

## What does it do?
The testing code in this directory performs the following main tasks:

1. Integration Testing: Verifies the functionality of Flipt's API, authentication, authorization, evaluation, and snapshot features across different configurations and scenarios.

2. Load Testing: Sets up and executes load tests to assess the performance of Flipt under high concurrency.

3. Migration Testing: Validates the migration process between different versions of Flipt, ensuring data integrity and functionality after upgrades.

4. UI Testing: Builds and runs UI tests using Playwright in a containerized environment.

5. Helper Functions: Provides utility functions for executing commands, asserting outputs, and generating TLS certificates for testing purposes.

6. Test Data Management: Includes configuration files and test data for setting up various testing scenarios, including feature flags, namespaces, and segments.

## Entry points
The main entry points for different types of tests are:

1. Integration Tests: `API` function in `api/api.go`
2. Load Tests: `LoadTest` function in `loadtest.go`
3. Migration Tests: `Migration` function in `migration.go`
4. UI Tests: `UI` function in `ui.go`
5. Unit Tests: `Unit` function in `test.go`

These functions typically set up the test environment using Dagger, configure necessary services and containers, and execute the respective test suites.

## Key Files
1. `integration.go`: Defines the test harness and utility functions for integration testing.
2. `helpers.go`: Contains utility functions for command execution, assertions, and TLS certificate generation.
3. `loadtest.go`: Implements load testing functionality.
4. `migration.go`: Handles migration testing between Flipt versions.
5. `ui.go`: Sets up and runs UI tests using Playwright.
6. `test.go`: Configures and runs unit tests for Flipt.
7. `testdata/`: Directory containing configuration files and test data for various testing scenarios.

## Dependencies
The testing code relies on several external libraries and frameworks:

1. Dagger: For containerized test execution and environment setup.
2. Playwright: For UI testing.
3. github.com/stretchr/testify: For test assertions and requirements.
4. github.com/google/go-cmp/cmp: For deep equality comparisons.
5. github.com/google/uuid: For UUID generation.
6. github.com/open-feature/go-sdk-contrib/providers/ofrep: For OpenFeature REP provider.
7. go.flipt.io/flipt/rpc/flipt: For Flipt's RPC definitions.
8. go.flipt.io/flipt/sdk/go: Flipt's Go SDK.

## Configuration
The tests use various configuration options to set up different scenarios:

1. Database backends: SQLite, LibSQL, PostgreSQL, MySQL, CockroachDB.
2. Caching options: with and without TLS.
3. Storage backends: local filesystem, Git, S3, OCI, Azure Blob Storage.
4. Authentication and authorization settings.
5. Feature flag configurations in YAML and JSON formats.

Configuration files in the `testdata/` directory provide feature flag definitions and logging configurations for different test scenarios.

In summary, this directory contains a comprehensive set of testing tools and configurations that ensure the reliability, performance, and correctness of the Flipt feature flag management system across various components and scenarios.