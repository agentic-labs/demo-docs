---
title: "flipt.yaml"
---

## High-level description
This YAML file defines the HTTP routing configuration for the Flipt service. It specifies the API endpoints, their corresponding HTTP methods, and the gRPC service methods they map to. The configuration covers various functionalities such as evaluation, flag management, rule management, segment management, and authentication.

## Code Structure
The file is structured as a Google API Service configuration. It contains a single `http` section with multiple `rules` entries. Each rule defines a mapping between an HTTP endpoint and a gRPC method.

## Symbols

### `http.rules`
#### Description
This is an array of rule definitions that map HTTP endpoints to gRPC methods.

#### Internal Logic
Each rule consists of:
1. `selector`: Specifies the gRPC method being mapped.
2. HTTP method (e.g., `get`, `post`, `put`, `delete`): Defines the HTTP method for the endpoint.
3. URL path: Specifies the URL path for the endpoint.
4. `body` (optional): Indicates which part of the request should be mapped to the request body.

The rules are grouped by functionality, such as evaluation, flags, variants, rules, distributions, segments, constraints, metadata, and authentication.

## API/Interface Reference

| Endpoint | Method | gRPC Method | Description |
|:---------|:-------|:------------|:------------|
| `/api/v1/evaluate` | POST | `flipt.Flipt.Evaluate` | Evaluate a flag |
| `/api/v1/namespaces/{namespace_key}/evaluate` | POST | `flipt.Flipt.Evaluate` | Evaluate a flag in a specific namespace |
| `/api/v1/batch-evaluate` | POST | `flipt.Flipt.BatchEvaluate` | Batch evaluate flags |
| `/api/v1/namespaces/{namespace_key}/batch-evaluate` | POST | `flipt.Flipt.BatchEvaluate` | Batch evaluate flags in a specific namespace |
| `/api/v1/flags/{key}` | GET | `flipt.Flipt.GetFlag` | Get a flag |
| `/api/v1/flags` | GET | `flipt.Flipt.ListFlags` | List flags |
| `/api/v1/flags` | POST | `flipt.Flipt.CreateFlag` | Create a flag |
| `/api/v1/flags/{key}` | PUT | `flipt.Flipt.UpdateFlag` | Update a flag |
| `/api/v1/flags/{key}` | DELETE | `flipt.Flipt.DeleteFlag` | Delete a flag |
| `/api/v1/flags/{flag_key}/variants` | POST | `flipt.Flipt.CreateVariant` | Create a variant |
| `/api/v1/flags/{flag_key}/variants/{id}` | PUT | `flipt.Flipt.UpdateVariant` | Update a variant |
| `/api/v1/flags/{flag_key}/variants/{id}` | DELETE | `flipt.Flipt.DeleteVariant` | Delete a variant |
| `/api/v1/flags/{flag_key}/rules/{id}` | GET | `flipt.Flipt.GetRule` | Get a rule |
| `/api/v1/flags/{flag_key}/rules` | GET | `flipt.Flipt.ListRules` | List rules |
| `/api/v1/flags/{flag_key}/rules` | POST | `flipt.Flipt.CreateRule` | Create a rule |
| `/api/v1/flags/{flag_key}/rules/{id}` | PUT | `flipt.Flipt.UpdateRule` | Update a rule |
| `/api/v1/flags/{flag_key}/rules/order` | PUT | `flipt.Flipt.OrderRules` | Order rules |
| `/api/v1/flags/{flag_key}/rules/{id}` | DELETE | `flipt.Flipt.DeleteRule` | Delete a rule |
| `/api/v1/flags/{flag_key}/rules/{rule_id}/distributions` | POST | `flipt.Flipt.CreateDistribution` | Create a distribution |
| `/api/v1/flags/{flag_key}/rules/{rule_id}/distributions/{id}` | PUT | `flipt.Flipt.UpdateDistribution` | Update a distribution |
| `/api/v1/flags/{flag_key}/rules/{rule_id}/distributions/{id}` | DELETE | `flipt.Flipt.DeleteDistribution` | Delete a distribution |
| `/api/v1/segments/{key}` | GET | `flipt.Flipt.GetSegment` | Get a segment |
| `/api/v1/segments` | GET | `flipt.Flipt.ListSegments` | List segments |
| `/api/v1/segments` | POST | `flipt.Flipt.CreateSegment` | Create a segment |
| `/api/v1/segments/{key}` | PUT | `flipt.Flipt.UpdateSegment` | Update a segment |
| `/api/v1/segments/{key}` | DELETE | `flipt.Flipt.DeleteSegment` | Delete a segment |
| `/api/v1/segments/{segment_key}/constraints` | POST | `flipt.Flipt.CreateConstraint` | Create a constraint |
| `/api/v1/segments/{segment_key}/constraints/{id}` | PUT | `flipt.Flipt.UpdateConstraint` | Update a constraint |
| `/api/v1/segments/{segment_key}/constraints/{id}` | DELETE | `flipt.Flipt.DeleteConstraint` | Delete a constraint |
| `/meta/config` | GET | `flipt.meta.MetadataService.GetConfiguration` | Get metadata configuration |
| `/meta/info` | GET | `flipt.meta.MetadataService.GetInfo` | Get metadata info |
| `/auth/v1/method` | GET | `flipt.auth.PublicAuthenticationService.ListAuthenticationMethods` | List authentication methods |
| `/auth/v1/method/github/authorize` | GET | `flipt.auth.AuthenticationMethodGithubService.AuthorizeURL` | Get GitHub authorization URL |
| `/auth/v1/method/github/callback` | GET | `flipt.auth.AuthenticationMethodGithubService.Callback` | Handle GitHub authentication callback |
| `/internal/v1/evaluation/snapshot/namespace/{key}` | GET | `flipt.evaluation.DataService.EvaluationSnapshotNamespace` | Get evaluation snapshot for a namespace |
| `/internal/v1/analytics/namespaces/{namespace_key}/flags/{flag_key}` | GET | `flipt.analytics.AnalyticsService.GetFlagEvaluationsCount` | Get flag evaluation count |

This configuration provides a comprehensive RESTful API for interacting with the Flipt service, covering all major aspects of feature flag management and evaluation.