---
title: "analytics.pb.gw.go"
---

## High-level description
This code is a generated gRPC-Gateway reverse proxy for the AnalyticsService. It translates gRPC into RESTful JSON APIs, specifically for the GetFlagEvaluationsCount method. The file contains the necessary HTTP handlers and utility functions to route and process HTTP requests to the corresponding gRPC service.

## Code Structure
The main components of this code are:
1. HTTP request handler functions for the GetFlagEvaluationsCount method.
2. Registration functions for the AnalyticsService handlers.
3. Utility functions for request processing and error handling.

## Symbols

### `request_AnalyticsService_GetFlagEvaluationsCount_0`
#### Description
This function handles the HTTP request for the GetFlagEvaluationsCount method, converting it to a gRPC request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | context.Context | The context for the request |
| marshaler | runtime.Marshaler | Marshaler for request/response encoding |
| client | AnalyticsServiceClient | The gRPC client for the AnalyticsService |
| req | *http.Request | The incoming HTTP request |
| pathParams | map[string]string | Path parameters extracted from the URL |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| proto.Message | proto.Message | The gRPC response message |
| runtime.ServerMetadata | runtime.ServerMetadata | Metadata associated with the server response |
| error | error | Any error that occurred during processing |

#### Internal Logic
1. Extracts path parameters (namespace_key and flag_key) from the request.
2. Populates a GetFlagEvaluationsCountRequest protobuf message.
3. Parses query parameters and populates the protobuf message.
4. Calls the gRPC client's GetFlagEvaluationsCount method.

### `RegisterAnalyticsServiceHandlerServer`
#### Description
Registers the HTTP handlers for the AnalyticsService with the given ServeMux.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | context.Context | The context for the registration |
| mux | *runtime.ServeMux | The ServeMux to register the handlers with |
| server | AnalyticsServiceServer | The gRPC server implementation |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Any error that occurred during registration |

#### Internal Logic
1. Registers a handler for the GET method of the GetFlagEvaluationsCount endpoint.
2. Sets up the necessary context and metadata for the gRPC call.
3. Calls the local_request_AnalyticsService_GetFlagEvaluationsCount_0 function to handle the request.

### `RegisterAnalyticsServiceHandlerFromEndpoint`
#### Description
Registers the HTTP handlers for the AnalyticsService with the given ServeMux, automatically dialing to the specified endpoint.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ctx | context.Context | The context for the registration |
| mux | *runtime.ServeMux | The ServeMux to register the handlers with |
| endpoint | string | The gRPC endpoint to dial |
| opts | []grpc.DialOption | Options for the gRPC dial |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | error | Any error that occurred during registration |

#### Internal Logic
1. Creates a new gRPC client connection to the specified endpoint.
2. Defers closing the connection when the context is done.
3. Calls RegisterAnalyticsServiceHandler to register the handlers.

## Dependencies
The code relies on several external libraries:
| Dependency | Purpose |
|:-----------|:--------|
| github.com/grpc-ecosystem/grpc-gateway/v2/runtime | Provides the runtime for the gRPC-Gateway |
| google.golang.org/grpc | gRPC framework for Go |
| google.golang.org/protobuf/proto | Protocol Buffers support |

## Error Handling
The code uses the `status.Errorf` function to create and return gRPC status errors with appropriate error codes and messages. These errors are then translated into HTTP errors by the gRPC-Gateway runtime.