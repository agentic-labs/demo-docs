---
title: "Overview"
---

## High-level description
This directory contains the core RPC (Remote Procedure Call) definitions and implementations for the Flipt feature flag management system. It includes protocol buffer definitions, gRPC service implementations, and utility functions for various aspects of the system, such as evaluation, authentication, metadata, and OpenFeature Remote Evaluation Protocol (OFREP) support.

## What does it do?
The code in this directory provides the following main functionalities:

1. Feature flag evaluation: Allows clients to evaluate boolean and variant flags for specific entities and contexts.
2. Flag management: Provides CRUD operations for flags, variants, rules, and distributions.
3. Segment management: Handles creation, updating, and deletion of segments and constraints.
4. Authentication: Implements various authentication methods, including token-based, OIDC, Kubernetes, and GitHub authentication.
5. Metadata service: Provides configuration and information about the Flipt instance.
6. Analytics: Offers flag evaluation count retrieval for monitoring and analysis.
7. OFREP support: Implements the OpenFeature Remote Evaluation Protocol for integration with OpenFeature-compatible systems.
8. Namespace management: Handles operations related to namespaces.
9. Validation: Ensures the integrity and correctness of various requests in the system.

## Entry points
The main entry points for this directory are:

1. `flipt_grpc.pb.go`: Defines the gRPC service interfaces and client/server implementations for the core Flipt service.
2. `auth/auth_grpc.pb.go`: Implements authentication-related gRPC services.
3. `evaluation/evaluation_grpc.pb.go`: Provides the gRPC service for flag evaluation.
4. `meta/meta_grpc.pb.go`: Implements the metadata service for configuration and information retrieval.
5. `ofrep/ofrep.pb.go`: Contains the OFREP server implementation and bridge interface.

The data flow typically starts with an incoming gRPC or HTTP request, which is then processed by the appropriate service implementation. These services interact with Flipt's internal systems for flag evaluation, storage, and management.

## Key Files
1. `flipt.go`: Contains utility functions for handling request and response objects related to evaluation operations.
2. `validation.go`: Implements validation logic for various requests in the Flipt package.
3. `operators.go`: Defines constants and variables related to operators used in the system.
4. `request.go`: Defines structures and behaviors for handling various requests in the Flipt system.
5. `marshaller.go`: Implements a custom marshaller adapter for backwards compatibility between gRPC-gateway v1 and v2.

## Dependencies
The code in this directory relies on several key external libraries and frameworks:

1. gRPC (google.golang.org/grpc): Used for implementing RPC services and client/server communication.
2. Protocol Buffers (google.golang.org/protobuf): Provides efficient serialization of structured data.
3. gRPC-Gateway (github.com/grpc-ecosystem/grpc-gateway/v2): Enables translation of gRPC to RESTful JSON APIs.
4. Zap (go.uber.org/zap): Used for logging.
5. Testify (github.com/stretchr/testify): Assertion library for tests.

These dependencies were chosen to provide a robust, efficient, and flexible foundation for building and exposing Flipt's services.

## Configuration
While there are no explicit configuration files in this directory, the code handles various configuration aspects:

1. Authentication methods and their configurations (e.g., OIDC, Kubernetes, GitHub).
2. Operator definitions and their valid usage contexts.
3. Validation rules for different request types.
4. OFREP provider configuration.

The actual configuration values are likely managed elsewhere in the Flipt application and passed to the services as needed.

In summary, this directory forms the core of Flipt's RPC layer, providing a comprehensive set of services and utilities for feature flag management, evaluation, and integration with external systems. It leverages gRPC for efficient communication while also offering RESTful API access through gRPC-Gateway, making it flexible for various client integrations.