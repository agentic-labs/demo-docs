---
title: ".goreleaser.yml"
---

## High-level description
This file is a configuration for GoReleaser, a tool used to automate the building, releasing, and distributing of Go projects. It defines the release process for the Flipt project, including build configurations, Docker image creation, and distribution channels like Homebrew.

## Code Structure
The YAML file is structured into several main sections, each defining different aspects of the release process:

1. Project configuration
2. Build settings
3. Archive and checksum generation
4. Release settings
5. Docker image configurations
6. Announcement settings
7. Homebrew formula configuration

## Symbols

### `project_name`
#### Description
Defines the name of the project as "flipt".

### `git`
#### Description
Configures Git-related settings for the release process.

#### Internal Logic
- Uses semantic versioning for tag sorting.

### `monorepo`
#### Description
Specifies settings for monorepo projects.

#### Internal Logic
- Sets the tag prefix to "v".

### `builds`
#### Description
Defines the build configuration for the project.

#### Internal Logic
- Uses prebuilt binaries
- Supports Linux and Darwin (macOS) operating systems
- Builds for amd64 and arm64 architectures
- Specifies the path and name of the binary

### `sboms`
#### Description
Configures Software Bill of Materials (SBOM) generation.

#### Internal Logic
- Generates SBOMs for archive artifacts

### `archives`
#### Description
Defines how the built binaries should be archived.

#### Internal Logic
- Sets a name template for the archive
- Includes LICENSE, CHANGELOG.md, and default configuration file

### `checksum`
#### Description
Configures checksum generation for the release artifacts.

### `release`
#### Description
Defines release settings and customizes the release notes.

#### Internal Logic
- Enables pre-release versions
- Includes installation instructions for Homebrew and Docker in the release notes

### `snapshot` and `nightly`
#### Description
Configures snapshot and nightly build naming.

### `changelog`
#### Description
Disables automatic changelog generation.

### `dockers`
#### Description
Defines Docker image build configurations.

#### Internal Logic
- Creates images for amd64 and arm64 architectures
- Uses buildx for multi-platform builds
- Sets image labels with metadata
- Includes the default configuration file

### `docker_manifests`
#### Description
Configures Docker manifest lists for multi-architecture images.

### `announce`
#### Description
Sets up announcement integrations for releases.

#### Internal Logic
- Enables Discord and Slack notifications

### `brews`
#### Description
Configures the Homebrew formula for the project.

#### Internal Logic
- Sets up the formula name, description, and installation instructions
- Configures shell completion installation
- Defines a service for running Flipt
- Specifies the Homebrew tap repository

## Dependencies
The configuration relies on GoReleaser and its various integrations with Git, Docker, and Homebrew.

## Configuration
The file itself serves as a configuration for GoReleaser, defining various options for the release process.

## TODOs
There is a TODO comment to deprecate the `markphelps/flipt` Docker image template.