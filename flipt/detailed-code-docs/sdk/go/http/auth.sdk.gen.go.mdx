---
title: "auth.sdk.gen.go"
---

## High-level description
This code defines a Go client for interacting with the Flipt authentication service over HTTP. It provides methods for accessing various authentication-related endpoints, such as listing authentication methods, managing authentication tokens, and interacting with specific authentication providers like OIDC, Kubernetes, and GitHub.

## Code Structure
The code defines a main `authClient` struct that acts as the entry point for accessing different authentication services. It provides methods for obtaining specific service clients, such as `PublicAuthenticationServiceClient`, `AuthenticationServiceClient`, `AuthenticationMethodTokenServiceClient`, `AuthenticationMethodOIDCServiceClient`, `AuthenticationMethodKubernetesServiceClient`, and `AuthenticationMethodGithubServiceClient`. Each service client implements methods for interacting with specific authentication-related endpoints.

## References
This code references the `auth` package from `go.flipt.io/flipt/rpc/flipt/auth`, which likely contains the protocol buffer definitions for the authentication service. It also references the `_go` package from `go.flipt.io/flipt/sdk/go`, which likely contains common SDK types and utilities.

## Symbols

### `authClient`
#### Description
The `authClient` struct represents the main client for interacting with the Flipt authentication service over HTTP. It holds an HTTP client and the address of the Flipt server.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `authClient` struct provides methods for obtaining specific service clients, such as `PublicAuthenticationServiceClient`, `AuthenticationServiceClient`, etc. These methods return instances of the corresponding service client structs, which implement methods for interacting with specific authentication-related endpoints.

### `publicAuthenticationServiceClient`
#### Description
The `publicAuthenticationServiceClient` struct implements the `auth.PublicAuthenticationServiceClient` interface, providing methods for interacting with public authentication endpoints.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `publicAuthenticationServiceClient` struct implements methods like `ListAuthenticationMethods` which make HTTP requests to the corresponding Flipt server endpoints. These methods handle request construction, response parsing, and error handling.

### `authenticationServiceClient`
#### Description
The `authenticationServiceClient` struct implements the `auth.AuthenticationServiceClient` interface, providing methods for managing authentication tokens and user authentication.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `authenticationServiceClient` struct implements methods like `GetAuthenticationSelf`, `GetAuthentication`, `ListAuthentications`, `DeleteAuthentication`, and `ExpireAuthenticationSelf`. These methods handle request construction, response parsing, and error handling for interacting with authentication token-related endpoints.

### `authenticationMethodTokenServiceClient`
#### Description
The `authenticationMethodTokenServiceClient` struct implements the `auth.AuthenticationMethodTokenServiceClient` interface, providing methods for interacting with the token-based authentication method.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `authenticationMethodTokenServiceClient` struct implements methods like `CreateToken` which handles request construction, response parsing, and error handling for creating new authentication tokens.

### `authenticationMethodOIDCServiceClient`
#### Description
The `authenticationMethodOIDCServiceClient` struct implements the `auth.AuthenticationMethodOIDCServiceClient` interface, providing methods for interacting with the OIDC authentication provider.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `authenticationMethodOIDCServiceClient` struct implements methods like `AuthorizeURL` and `Callback` which handle request construction, response parsing, and error handling for interacting with the OIDC authentication flow.

### `authenticationMethodKubernetesServiceClient`
#### Description
The `authenticationMethodKubernetesServiceClient` struct implements the `auth.AuthenticationMethodKubernetesServiceClient` interface, providing methods for interacting with the Kubernetes authentication provider.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `authenticationMethodKubernetesServiceClient` struct implements methods like `VerifyServiceAccount` which handles request construction, response parsing, and error handling for verifying Kubernetes service account tokens.

### `authenticationMethodGithubServiceClient`
#### Description
The `authenticationMethodGithubServiceClient` struct implements the `auth.AuthenticationMethodGithubServiceClient` interface, providing methods for interacting with the GitHub authentication provider.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| client | `*http.Client` | The HTTP client used for making requests. |
| addr | `string` | The address of the Flipt server. |

#### Outputs
None

#### Internal Logic
The `authenticationMethodGithubServiceClient` struct implements methods like `AuthorizeURL` and `Callback` which handle request construction, response parsing, and error handling for interacting with the GitHub authentication flow.

### `Transport`
#### Description
The `Transport` struct represents the HTTP transport for the Flipt SDK. It holds an HTTP client and the address of the Flipt server.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The `Transport` struct provides a method `AuthClient` which returns an instance of the `authClient` struct, allowing access to the authentication service.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `bytes` | Used for handling byte slices and readers. |
| `context` | Used for managing request contexts. |
| `fmt` | Used for formatting strings. |
| `go.flipt.io/flipt/rpc/flipt/auth` | Contains protocol buffer definitions for the authentication service. |
| `go.flipt.io/flipt/sdk/go` | Contains common SDK types and utilities. |
| `google.golang.org/grpc` | Used for gRPC-related types and utilities. |
| `google.golang.org/protobuf/encoding/protojson` | Used for marshaling and unmarshaling protocol buffer messages in JSON format. |
| `google.golang.org/protobuf/types/known/emptypb` | Contains the `Empty` message type. |
| `io` | Used for input/output operations. |
| `net/http` | Used for making HTTP requests. |
| `net/url` | Used for handling URLs and query parameters. |
| `strconv` | Used for converting strings to other data types. |

## Error Handling
The code uses basic error handling by returning errors from the methods. It also includes a `checkResponse` function that checks the HTTP response status code and parses error messages from the response body if necessary.

## API/Interface Reference
The code exposes an API through the various service client structs, such as `publicAuthenticationServiceClient`, `authenticationServiceClient`, etc. Each service client implements methods for interacting with specific authentication-related endpoints. The API endpoints, methods, request/response formats, and authentication requirements are defined in the `auth` package from `go.flipt.io/flipt/rpc/flipt/auth`.
