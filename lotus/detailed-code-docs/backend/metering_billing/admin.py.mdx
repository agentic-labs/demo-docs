---
title: "admin.py"
---

## High-level description
This code defines the Django admin interface for the `metering_billing` application. It registers models from the application with the admin site, allowing for their management through the Django admin panel. This includes customizing the admin view for certain models like `User` and `APIToken`.

## Code Structure
This code primarily consists of a series of `admin.site.register()` calls, each registering a specific model with the Django admin site. Some calls, like `admin.site.register(User, CustomAdmin)` and `admin.site.register(APIToken, UserAPIKeyModelAdmin)`, utilize custom admin classes to modify the default admin view for those models.

## Symbols

### `CustomAdmin`
#### Description
This class inherits from both `UserAdmin` and `SimpleHistoryAdmin` to provide a customized admin interface for the `User` model. It leverages the features of both parent classes to offer standard user management functionalities along with historical tracking of changes.

#### Inputs
This class doesn't take any direct inputs. It inherits its behavior from the parent classes.

#### Outputs
This class doesn't directly return any outputs. It modifies the Django admin interface for the `User` model.

### `UserAPIKeyModelAdmin`
#### Description
This class inherits from `APIKeyModelAdmin` and is used to register the `APIToken` model with the Django admin site. It leverages the features of its parent class to provide a standard interface for managing API keys.

#### Inputs
This class doesn't take any direct inputs. It inherits its behavior from the parent class.

#### Outputs
This class doesn't directly return any outputs. It modifies the Django admin interface for the `APIToken` model.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.contrib.admin | Provides the infrastructure for the Django admin site. |
| django.contrib.auth.admin | Offers functionalities related to user management in the admin interface. |
| rest_framework_api_key.admin | Provides admin functionalities for managing API keys. |
| rest_framework_api_key.models | Contains the model definition for API keys. |
| simple_history.admin | Offers admin functionalities for tracking historical changes to models. |
| .models | Imports all the models from the `metering_billing` application to be registered with the admin site. |
