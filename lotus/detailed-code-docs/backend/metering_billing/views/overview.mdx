---
title: "Overview"
---

## High-level description
This directory contains views for handling various aspects of a metering and billing system. It includes views for authentication, CRM integration, model operations, organization management, payment processing, and webhook handling.

## What does it do?
The views in this directory handle a wide range of functionalities:

1. Authentication: Manages user login, logout, registration, and password reset.
2. CRM Integration: Handles connections to CRM providers and synchronization of customer and invoice data.
3. Model Operations: Provides CRUD operations for various models such as customers, metrics, plans, subscriptions, invoices, and more.
4. Organization Management: Handles inviting users to organizations and generating invite links.
5. Payment Processing: Manages payment processor integrations and related operations.
6. Webhook Handling: Processes incoming webhook events, particularly for Stripe integration.

These views form the backbone of the API, allowing the frontend to interact with the backend database and external services. They handle data validation, processing, and response formatting for various API endpoints.

## Entry points
The main entry points for developers working with this codebase are:

1. `auth_views.py`: Handles user authentication and registration.
2. `crm_views.py`: Manages CRM integrations and data synchronization.
3. `model_views.py`: Contains viewsets for various models in the system.
4. `organization_views.py`: Handles organization-related operations.
5. `payment_processor_views.py`: Manages payment processor integrations.
6. `views.py`: Contains miscellaneous views for various system operations.
7. `webhook_views.py`: Processes incoming webhook events.

The data flow typically starts with an incoming HTTP request, which is routed to the appropriate view. The view then processes the request, interacts with the database or external services as needed, and returns an HTTP response.

## Key Files
1. `model_views.py`: This is the largest and most complex file, containing viewsets for many of the system's core models. It's crucial for most CRUD operations in the API.

2. `crm_views.py`: Important for CRM integrations, particularly with Salesforce. It handles data synchronization between the billing system and CRM systems.

3. `auth_views.py`: Critical for user authentication and registration processes.

4. `webhook_views.py`: Key for processing external events, particularly from payment processors like Stripe.

## Dependencies
The views rely on several external libraries and frameworks:

1. Django REST Framework: Used extensively for building API views and serializers.
2. Knox: Used for token-based authentication.
3. drf_spectacular: Used for API documentation.
4. Stripe: Used for payment processing integration.
5. Posthog: Used for analytics tracking.

## Configuration
The views use various configuration settings, including:

1. Environment variables for API keys and secrets (e.g., Stripe keys).
2. Django settings for email configuration, application URLs, and other system-wide settings.
3. Feature flags (e.g., `USE_KAFKA` for Kafka integration).

These views form the core of the API layer in this metering and billing system, handling a wide range of functionalities from user authentication to complex billing operations and integrations with external services.