---
title: "demo_up.py"
---

Here's a documentation for the target file `backend/metering_billing/management/commands/demo_up.py`:

## High-level description
This Django management command sets up a demo database for the metering and billing system. It creates a demo organization with sample data, including customers, metrics, plans, and events.

## Code Structure
The main `Command` class extends Django's `BaseCommand`. It defines command-line arguments and implements the `handle` method to execute the demo setup.

## Symbols

### `Command`
#### Description
A Django management command class that sets up a demo database for the metering and billing system.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| size | str | Optional argument to specify the size of the demo data ("small" or "large") |
| name | str | Optional argument to specify the name of the demo organization |

#### Internal Logic
1. Processes command-line arguments for size and name.
2. Validates the size input.
3. Sets default values if arguments are not provided.
4. Calls the `setup_database_demo` function with the specified parameters to create the demo data.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.core.management.base | Provides the base class for Django management commands |
| metering_billing.demos | Contains the `setup_database_demo` function for creating demo data |
| metering_billing.models | Imports the `Organization` model |

## Error Handling
The command raises a `ValueError` if an invalid size is provided.

## Notes
- The command uses the `setup_database_demo` function from `metering_billing.demos` to create the actual demo data.
- The demo organization is created with the type `Organization.OrganizationType.INTERNAL_DEMO`.
- The command allows customization of the demo data size and organization name through command-line arguments.

This command is likely used for quickly setting up a demo environment or for testing purposes within the metering and billing system.