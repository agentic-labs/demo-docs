---
title: "regenerate_demo_accounts.py"
---

Here's a documentation for the target file:

## High-level description
This Django management command regenerates demo accounts for external demo organizations. It iterates through organizations of type EXTERNAL_DEMO and calls the `setup_demo4` function to regenerate each demo account.

## Symbols

### Command
#### Description
A Django management command class that regenerates demo accounts for external demo organizations.

#### Internal Logic
1. Inherits from Django's `BaseCommand` class.
2. Defines a `handle` method that is executed when the command is run.
3. Queries for organizations with `organization_type` set to `Organization.OrganizationType.EXTERNAL_DEMO`.
4. For each organization found, calls the `setup_demo4` function with the organization's name and mode set to "regenerate".

## References
- `Organization`: Model representing an organization in the system.
- `setup_demo4`: Function from `metering_billing.demos` module that sets up or regenerates a demo account.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.core.management.base | Provides the BaseCommand class for creating management commands |
| metering_billing.demos | Contains the setup_demo4 function for regenerating demo accounts |
| metering_billing.models | Provides the Organization model |

Note: This command is likely used for maintaining and refreshing demo accounts in the system, allowing for consistent demonstration environments to be recreated as needed.