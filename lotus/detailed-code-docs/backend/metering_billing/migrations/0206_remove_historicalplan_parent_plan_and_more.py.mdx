---
title: "0206_remove_historicalplan_parent_plan_and_more.py"
---

## High-level description
This Django migration file removes the 'parent_plan' and 'target_customer' fields from both the 'Plan' and 'HistoricalPlan' models in the 'metering_billing' app. It's part of a series of migrations, specifically the 206th migration in the sequence.

## Code Structure
The migration is defined as a subclass of `django.db.migrations.Migration`. It specifies its dependencies and the operations to be performed on the database schema.

## Symbols

### Migration
#### Description
This class defines the migration operations to be applied to the database schema. It removes specific fields from the 'Plan' and 'HistoricalPlan' models.

#### Inputs
No explicit inputs.

#### Internal Logic
1. Specifies the dependency on the previous migration ('0205_planversion_is_custom_planversion_target_customers_and_more').
2. Defines four `RemoveField` operations to remove 'parent_plan' and 'target_customer' fields from both 'HistoricalPlan' and 'Plan' models.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the Migration class and database operation tools |

## Performance Considerations
This migration involves removing fields from database tables, which could potentially be a time-consuming operation on large databases. However, as it's only removing fields and not adding or altering them, it should be relatively quick in most cases.

## Error Handling
No explicit error handling is implemented in this migration. Django's migration framework will handle any database-related errors that may occur during the migration process.

## Notes
1. This migration is part of a larger series of changes, as indicated by its number (0206) and its dependency on migration 0205.
2. The removal of 'parent_plan' and 'target_customer' fields suggests a change in the data model, possibly moving away from a hierarchical plan structure or customer-specific plans.
3. The 'HistoricalPlan' model is likely used for maintaining a history of changes to the 'Plan' model, which is a common pattern when using Django's historical models.
4. This migration is reversible, meaning Django can automatically generate a reverse migration to add these fields back if needed.