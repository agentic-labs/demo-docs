---
title: "0131_customer_unique_email.py"
---

## High-level description
This Django migration file adds a unique constraint to the `Customer` model in the `metering_billing` app. The constraint ensures that the combination of `organization` and `email` fields is unique for each customer within an organization.

## Symbols

### Migration
#### Description
This migration class defines a database schema change to add a unique constraint to the `Customer` model.

#### Internal Logic
1. The migration depends on the previous migration "0130_remove_customer_unique_email_and_more".
2. It adds a unique constraint to the `Customer` model using the `AddConstraint` operation.
3. The constraint is defined on the combination of `organization` and `email` fields.
4. The constraint is named "unique_email".

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the Migration class for defining database schema changes |
| django.db.models | Provides the models module for defining database constraints |

## Notes
- This migration is automatically generated by Django's migration system.
- The migration is reversible, allowing for both forward and backward application.
- The unique constraint ensures that no two customers within the same organization can have the same email address.
- This change might affect existing data if there are duplicate email addresses within the same organization in the database.

___