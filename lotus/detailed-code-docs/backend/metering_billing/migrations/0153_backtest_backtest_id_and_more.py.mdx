---
title: "0153_backtest_backtest_id_and_more.py"
---

## High-level description
This Django migration adds a universally unique identifier (UUID) field to various models in the `metering_billing` app. This is likely to ensure each record has a unique identifier, improving data integrity and potentially facilitating relationships between different data points.

## References
This migration references the previous migration:
- `0152_rename_backtest_id_backtest_backtest_id_old_and_more`

## Symbols
### `Migration`
#### Description
This class defines a Django migration that adds a `UUIDField` named `[model_name]_id` to multiple models. The UUID is generated using `uuid.uuid4`, ensuring uniqueness. The field is not directly editable.

#### Inputs
N/A - This is a Django migration class and doesn't take direct inputs.

#### Outputs
N/A - This is a Django migration class and doesn't return any outputs.

#### Internal Logic
The migration adds a `UUIDField` to the following models:
- `Backtest`
- `CustomerBalanceAdjustment`
- `Feature`
- `HistoricalBacktest`
- `HistoricalInvoice`
- `HistoricalMetric`
- `HistoricalOrganization`
- `HistoricalOrganizationSetting`
- `HistoricalPlan`
- `HistoricalPlanVersion`
- `HistoricalSubscriptionRecord`
- `Invoice`
- `InvoiceLineItem`
- `Metric`
- `Organization`
- `OrganizationSetting`
- `Plan`
- `PlanVersion`
- `Subscription`
- `SubscriptionRecord`
- `Tag`
- `UsageAlert`
- `WebhookEndpoint`

It also adds a `webhook_secret` field of type `UUIDField` to the `WebhookEndpoint` model.

## Dependencies
- `django.db.migrations.Migration`: Base class for Django migrations.
- `uuid.uuid4`: Function to generate v4 UUIDs.

## Side Effects
- **Database Schema Change:** This migration modifies the database schema by adding a new UUID field to the specified models.
- **Data Migration:**  The migration will automatically generate UUIDs for existing records in the affected tables.
