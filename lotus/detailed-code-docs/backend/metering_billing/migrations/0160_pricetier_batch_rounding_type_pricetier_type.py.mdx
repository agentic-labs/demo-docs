---
title: "0160_pricetier_batch_rounding_type_pricetier_type.py"
---

## High-level description
This Django migration adds two new fields, `batch_rounding_type` and `type`, to the `PriceTier` model in the metering_billing app. 

This migration likely allows for more flexible and configurable pricing tiers by specifying how usage should be rounded for batch calculations and defining different price tier types.

## References
This migration references the `metering_billing.PriceTier` model.

## Symbols

### `Migration`
#### Description
This class defines a Django migration that adds two new fields to the `PriceTier` model.

#### Inputs
N/A - This is a Django migration class and doesn't take direct inputs.

#### Outputs
N/A - This is a Django migration class and doesn't return any outputs.

#### Internal Logic
This migration performs the following actions:

1. **Adds `batch_rounding_type` field:**
   - Adds a `PositiveSmallIntegerField` field named `batch_rounding_type` to the `PriceTier` model.
   - This field allows specifying how usage should be rounded up for batch calculations with the following choices:
     - `Round Up`
     - `Round Down`
     - `Round Nearest`
     - `No Rounding`
   - The field is nullable and can be left blank.

2. **Adds `type` field:**
   - Adds a `PositiveSmallIntegerField` field named `type` to the `PriceTier` model.
   - This field defines the type of price tier with the following choices:
     - `Flat`
     - `Per Unit`
     - `Free`
   - The field has a default value of `1` (`Flat`) and cannot be left blank.

## Dependencies
This migration depends on Django's migration framework (`django.db.migrations`).

## Side Effects
- Alters the database schema by adding two new fields to the `PriceTier` model.
- Existing `PriceTier` instances will have the new fields populated with default values (null for `batch_rounding_type` and `1` for `type`).
