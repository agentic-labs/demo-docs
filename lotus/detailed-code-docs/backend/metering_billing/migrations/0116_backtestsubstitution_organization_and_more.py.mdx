---
title: "0116_backtestsubstitution_organization_and_more.py"
---

## High-level description
This Django migration file adds an `organization` field to several models in the `metering_billing` app. This likely centralizes the relationship between these models and the `Organization` model, improving data organization and potentially simplifying queries.

## References
This migration references the `metering_billing.Organization` model.

## Symbols

### `Migration`
#### Description
This class defines a Django migration that adds an `organization` ForeignKey field to multiple models. The `organization` field references the `metering_billing.Organization` model, establishing a many-to-one relationship.

#### Inputs
N/A - This is a Django migration class and doesn't take direct inputs.

#### Outputs
N/A - This is a Django migration class and doesn't return any outputs.

#### Internal Logic
The `operations` list defines the changes to be applied to the database schema:

- For each model (`BacktestSubstitution`, `CategoricalFilter`, `CustomPricingUnitConversion`, `HistoricalBacktestSubstitution`, `InvoiceLineItem`, `NumericFilter`, `PlanComponent`, `PriceTier`, `WebhookTrigger`):
    - An `organization` field is added as a ForeignKey to the `metering_billing.Organization` model.
    - `on_delete=models.CASCADE` ensures that if an organization is deleted, related records in these models are also deleted.
    - `related_name` defines the reverse relation name for accessing related objects from the `Organization` model.

## Side Effects
- This migration modifies the database schema by adding an `organization` field to the specified models.

## Dependencies
- This migration depends on Django's migration framework (`django.db.migrations`).
- It also depends on the `metering_billing` app, specifically the `Organization` model.
