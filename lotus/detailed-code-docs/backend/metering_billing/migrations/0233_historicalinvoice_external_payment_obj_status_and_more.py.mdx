---
title: "0233_historicalinvoice_external_payment_obj_status_and_more.py"
---

## High-level description
This Django migration adds the `external_payment_obj_status` field to the `Invoice` and `HistoricalInvoice` models. This field likely stores the status of the payment object associated with the invoice in an external payment processing system.

## References
This migration references the following Django models:

* `metering_billing.Invoice`
* `metering_billing.HistoricalInvoice`

## Symbols

### `Migration`
#### Description
This class represents a database migration, which is a set of instructions for changing the structure of the database. In this case, the migration adds a new field named `external_payment_obj_status` to the `Invoice` and `HistoricalInvoice` models.

#### Inputs
This class does not take any specific inputs.

#### Outputs
This class does not return any specific outputs.

#### Internal Logic
The `operations` list defines the actions to be performed during the migration:

1. **AddField**: Adds the `external_payment_obj_status` field to the `HistoricalInvoice` model.
    * `model_name`: Specifies the model to modify (`HistoricalInvoice`).
    * `name`: The name of the new field (`external_payment_obj_status`).
    * `field`: Defines the field type and options:
        * `models.TextField()`: A text field to store the status.
        * `blank=True`: Allows the field to be empty.
        * `null=True`: Allows the field to store `NULL` values in the database.

2. **AddField**: Adds the `external_payment_obj_status` field to the `Invoice` model with the same configuration as above.

## Side Effects
This migration modifies the database schema by adding a new field to the `Invoice` and `HistoricalInvoice` tables.

## Dependencies
This migration depends on the Django migrations framework (`django.db.migrations`).
