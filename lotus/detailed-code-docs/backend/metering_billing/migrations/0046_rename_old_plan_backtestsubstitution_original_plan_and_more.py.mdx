---
title: "0046_rename_old_plan_backtestsubstitution_original_plan_and_more.py"
---

## High-level description
This Django migration file renames the `old_plan` field to `original_plan` in both the `BacktestSubstitution` and `HistoricalBacktestSubstitution` models. It's part of a series of database schema changes, specifically the 46th migration in the `metering_billing` app.

## Code Structure
The migration consists of a single `Migration` class with two main components: `dependencies` and `operations`. The `dependencies` list ensures this migration runs after the previous one, while the `operations` list defines the actual changes to be applied to the database schema.

## Symbols

### Migration
#### Description
This class defines the migration operations to be performed on the database schema. It renames the `old_plan` field to `original_plan` in two different models.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependencies | list | Specifies the migration this one depends on |
| operations | list | Contains the database operations to be executed |

#### Internal Logic
1. Specifies that this migration depends on the previous migration "0045_alter_billingplan_status_and_more".
2. Defines two `RenameField` operations:
   - Renames `old_plan` to `original_plan` in the `BacktestSubstitution` model.
   - Renames `old_plan` to `original_plan` in the `HistoricalBacktestSubstitution` model.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the necessary classes and functions for defining database migrations |

## Notes
- This migration is automatically generated by Django, as indicated by the comment at the top of the file.
- The migration is reversible, meaning Django can automatically create a reverse migration to undo these changes if needed.
- The `HistoricalBacktestSubstitution` model is likely part of a historical tracking system, possibly using the `django-simple-history` package or a similar solution.
- The renaming of `old_plan` to `original_plan` suggests a terminology change in the application, possibly to improve clarity or consistency in the codebase.