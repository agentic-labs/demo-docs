---
title: "0173_remove_historicalplanversion_flat_fee_billing_type_and_more.py"
---

## High-level description
This Django migration file removes the `flat_fee_billing_type` and `flat_rate` fields from both the `HistoricalPlanVersion` and `PlanVersion` models in the `metering_billing` app. It's part of a series of migrations, specifically following the transfer of flat fees to recurring fees.

## Code Structure
The migration is defined as a subclass of `django.db.migrations.Migration`. It specifies its dependencies and operations to be performed on the database schema.

## Symbols

### Migration
#### Description
This class defines the migration operations to be executed on the database schema. It removes specific fields from two models: `HistoricalPlanVersion` and `PlanVersion`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependencies | list | Specifies the migration this one depends on |
| operations | list | Defines the database operations to be performed |

#### Internal Logic
1. The migration depends on the previous migration "0172_transfer_flat_fees_to_recurring".
2. It defines four `RemoveField` operations:
   - Removes `flat_fee_billing_type` from `HistoricalPlanVersion`
   - Removes `flat_rate` from `HistoricalPlanVersion`
   - Removes `flat_fee_billing_type` from `PlanVersion`
   - Removes `flat_rate` from `PlanVersion`

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the Migration class and database operation tools |

## Notes
- This migration is automatically generated by Django's migration system.
- It's part of a series of changes, likely related to restructuring how flat fees are handled in the billing system.
- The removal of these fields suggests that the flat fee information is now stored or handled differently, possibly as part of the recurring fees as hinted by the previous migration name.
- Care should be taken when applying this migration, as it permanently removes these fields and their data from the database schema.