---
title: "0081_plancomponent_separate_by.py"
---

## High-level description
This Django migration adds a new field called `separate_by` to the `PlanComponent` model in the `metering_billing` app. This field is intended to store a JSON list of values that can be used to further differentiate pricing within a plan component.

## References
This migration references the `PlanComponent` model defined in the `metering_billing.models` file.

## Symbols

### `Migration`
#### Description
This class defines a Django migration that adds a new field to the `PlanComponent` model.

#### Inputs
N/A - This is a Django migration class and doesn't take direct inputs.

#### Outputs
N/A - This is a Django migration class and doesn't return any outputs.

#### Internal Logic
This migration performs the following actions:

1. **Dependencies:** It declares a dependency on a previous migration (`0080_historicalmetric_is_cost_metric_and_more`) to ensure proper database state.
2. **Operations:** It defines a single operation:
    - `migrations.AddField`: This operation adds a new field named `separate_by` to the `PlanComponent` model.
        - `model_name="plancomponent"`: Specifies the target model for the new field.
        - `name="separate_by"`: Sets the name of the new field.
        - `field=models.JSONField(blank=True, default=list, null=True)`: Defines the field type as a JSONField with the following attributes:
            - `blank=True`: Allows the field to be empty.
            - `default=list`: Sets the default value to an empty list.
            - `null=True`: Allows the field to store `NULL` values in the database.

## Side Effects
- This migration modifies the database schema by adding a new `separate_by` field to the `PlanComponent` table.

## Dependencies
- **Django**: This migration relies on the Django framework for database migrations.

## Configuration
N/A - This migration doesn't define any specific configuration options.
