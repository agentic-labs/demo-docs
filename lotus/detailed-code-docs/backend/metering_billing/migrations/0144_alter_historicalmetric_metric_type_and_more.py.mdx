---
title: "0144_alter_historicalmetric_metric_type_and_more.py"
---

## High-level description
This migration file (0144_alter_historicalmetric_metric_type_and_more.py) modifies the `metric_type` field in both the `HistoricalMetric` and `Metric` models. It updates the choices for the `metric_type` field, adding a new "Gauge" option and providing a default value and help text.

## Code Structure
This migration file contains a single `Migration` class with two operations, both altering the `metric_type` field in different models.

## Symbols

### Migration
#### Description
This class defines the migration operations to be applied to the database schema.

#### Internal Logic
1. The migration depends on the previous migration "0143_change_stateful_to_gauge".
2. It contains two `AlterField` operations, one for `HistoricalMetric` and one for `Metric`.
3. Both operations modify the `metric_type` field with identical changes:
   - Update the choices to include "counter", "rate", "custom", and "gauge".
   - Set the default value to "counter".
   - Add a help text explaining the field's purpose.

## Dependencies
This migration depends on Django's migration framework and the `metering_billing` app's previous migration (0143_change_stateful_to_gauge).

## Configuration
The migration configures the `metric_type` field with the following options:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| choices | list of tuples | [("counter", "Counter"), ("rate", "Rate"), ("custom", "Custom"), ("gauge", "Gauge")] | Available choices for the field |
| default | string | "counter" | Default value if not specified |
| help_text | string | "The type of metric that this is. Please refer to our documentation for an explanation of the different types." | Explanation of the field's purpose |
| max_length | integer | 20 | Maximum length of the field |

This migration updates the database schema to reflect changes in the `Metric` and `HistoricalMetric` models, specifically adding support for a new "Gauge" metric type and providing more context for the `metric_type` field.