---
title: "0223_remove_historicalsubscriptionrecord_fully_billed_and_more.py"
---

## High-level description
This Django migration file removes several fields from the `HistoricalSubscriptionRecord`, `InvoiceLineItem`, and `SubscriptionRecord` models in the `metering_billing` app. The migration is designed to clean up and simplify these models by removing specific fields that are no longer needed or have been deprecated.

## Code Structure
The migration file defines a single `Migration` class with dependencies and operations. The operations consist of multiple `RemoveField` actions targeting different models and fields.

## Symbols

### Migration
#### Description
This class represents a Django database migration. It specifies the changes to be applied to the database schema.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependencies | list | A list of migration dependencies that must be applied before this migration |
| operations | list | A list of migration operations to be performed |

#### Internal Logic
The migration performs the following operations:
1. Removes the `fully_billed` field from the `HistoricalSubscriptionRecord` model.
2. Removes the `unadjusted_duration_microseconds` field from the `HistoricalSubscriptionRecord` model.
3. Removes the `associated_plan_component` field from the `InvoiceLineItem` model.
4. Removes the `associated_recurring_charge` field from the `InvoiceLineItem` model.
5. Removes the `fully_billed` field from the `SubscriptionRecord` model.
6. Removes the `unadjusted_duration_microseconds` field from the `SubscriptionRecord` model.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the necessary tools and classes for defining database migrations in Django |

## Notes
- This migration is reversible, but reversing it would require manually specifying the field definitions in a separate migration.
- The migration is dependent on the previous migration '0222_auto_20230302_2018', ensuring that migrations are applied in the correct order.
- The removal of these fields suggests a change in the business logic or data model of the application, possibly simplifying the subscription and invoicing process.
- Developers should ensure that any code relying on these removed fields is updated accordingly to prevent errors after applying this migration.