---
title: "0002_alter_billingplan_flat_rate_and_more.py"
---

## High-level description
This Django migration file alters the `BillingPlan` model by modifying the field types and choices for `flat_rate`, `interval`, `name`, and `pay_in_advance`. It ensures these fields have appropriate data types and constraints for storing billing plan information.

## References
This migration references the `metering_billing` app and the `BillingPlan` model defined within it.

## Symbols
### `Migration`
#### Description
This class defines a Django migration that alters the `BillingPlan` model. It modifies the field types and choices for specific fields to ensure data integrity and consistency.

#### Inputs
N/A - This is a migration class and doesn't take direct inputs.

#### Outputs
N/A - This is a migration class and doesn't return any outputs.

#### Internal Logic
The `operations` list defines the changes to be applied to the database schema:
- **`migrations.AlterField`**: This operation modifies existing fields in the `BillingPlan` model.
    - For `flat_rate`, it changes the field type to `djmoney.models.fields.MoneyField` with specific decimal places, default currency, and maximum digits.
    - For `interval`, it changes the field type to `models.CharField` with specific choices for billing intervals.
    - For `name`, it changes the field type to `models.CharField` with a maximum length.
    - For `pay_in_advance`, it changes the field type to `models.BooleanField`.

## Dependencies
- **`djmoney`**: Used for the `MoneyField` to handle monetary values with currency support.
- **`django.db.migrations`**: Provides the necessary functions for defining database migrations.
- **`django.db.models`**: Used for defining and modifying database models and fields.

## Side Effects
- This migration modifies the database schema by altering the `BillingPlan` model.
- It ensures that the specified fields have the correct data types and constraints.
- Existing data in the database might be modified or migrated depending on the previous state of the `BillingPlan` model.
