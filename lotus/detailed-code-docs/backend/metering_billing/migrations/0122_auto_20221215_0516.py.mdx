---
title: "0122_auto_20221215_0516.py"
---

## High-level description
This Django migration script transfers data from the `Event` model to the `UsageEvent` model in the `metering_billing` app. It iterates through all existing `Event` instances and creates corresponding `UsageEvent` instances with the same data.

## References
This migration references the following models:
- `metering_billing.UsageEvent`
- `metering_billing.Event`

## Symbols

### `transfer_events(apps, schema_editor)`
#### Description
This function defines the data migration logic. It retrieves all `Event` objects, iterates through them, and creates a corresponding `UsageEvent` object for each one, copying the data from the `Event` object.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apps | django.db.migrations.state.StateApps |  Provides access to the current Django application registry and models. |
| schema_editor | django.db.backends.base.schema.BaseDatabaseSchemaEditor | Provides methods for manipulating the database schema. |

#### Outputs
This function doesn't return any values.

#### Internal Logic
1. **Retrieves models:** Obtains references to the `UsageEvent` and `Event` models using `apps.get_model()`.
2. **Iterates through events:** Loops through all instances of the `Event` model.
3. **Creates UsageEvent:** For each `Event` object, creates a new `UsageEvent` object using the data from the `Event` object.
4. **Saves UsageEvent:** The `UsageEvent.objects.create()` method automatically saves the newly created object to the database.

## Side Effects
- **Data Migration:** This migration script will copy all data from the `Event` model to the `UsageEvent` model in the database.

## Dependencies
- **Django Migrations:** This script relies on the Django migrations framework.

## Error Handling
This migration script does not implement specific error handling. Any exceptions raised during the data transfer will be propagated and handled by the Django migrations framework.
