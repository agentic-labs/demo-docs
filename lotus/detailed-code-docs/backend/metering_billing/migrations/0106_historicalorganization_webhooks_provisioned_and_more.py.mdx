---
title: "0106_historicalorganization_webhooks_provisioned_and_more.py"
---

## High-level description
This migration file adds a new field `webhooks_provisioned` to the `Organization` and `HistoricalOrganization` models, and updates the `trigger_name` field in the `WebhookTrigger` model. It's part of Django's migration system to manage database schema changes.

## Symbols

### Migration
#### Description
This is a Django migration class that defines changes to be applied to the database schema.

#### Internal Logic
1. Adds a `webhooks_provisioned` boolean field to the `HistoricalOrganization` model with a default value of `False`.
2. Adds the same `webhooks_provisioned` field to the `Organization` model.
3. Modifies the `trigger_name` field in the `WebhookTrigger` model to use a new set of choices.

### AddField
#### Description
This operation adds a new field to a model in the database.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| model_name | string | The name of the model to which the field is being added |
| name | string | The name of the new field |
| field | Field | The Django field instance to be added |

### AlterField
#### Description
This operation modifies an existing field in a model.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| model_name | string | The name of the model containing the field to be altered |
| name | string | The name of the field to be altered |
| field | Field | The new Django field instance replacing the old one |

## Dependencies
This migration depends on the previous migration file "0105_rename_pricing_unit_historicalinvoice_currency_and_more".

## Configuration
The migration configures the following:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| webhooks_provisioned | BooleanField | False | Indicates whether webhooks have been provisioned for the organization |
| trigger_name | CharField | N/A | Updates the choices for webhook trigger names |

The `trigger_name` field is updated to include two choices: "invoice.created" and "invoice.paid".

This migration is part of the process of adding webhook functionality to the application, specifically for handling invoice-related events. It prepares the database schema to track whether an organization has had its webhooks provisioned and updates the available webhook trigger types.