---
title: "0102_alter_invoicelineitem_associated_subscription_record.py"
---

## High-level description
This migration file alters the `InvoiceLineItem` model in the `metering_billing` app. It modifies the `associated_subscription_record` field to allow null values and sets up a cascading delete relationship with the `SubscriptionRecord` model.

## Symbols

### Migration
#### Description
This Django migration class defines changes to be applied to the database schema.

#### Internal Logic
1. The migration depends on the previous migration '0101_historicalsubscriptionrecord_fully_billed_and_more'.
2. It alters the `associated_subscription_record` field of the `InvoiceLineItem` model:
   - Allows null values
   - Sets up a cascading delete relationship with `SubscriptionRecord`
   - Establishes a related name of "line_items"

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.models.deletion | Provides deletion behavior options for foreign key relationships |
| django.db | Core Django database operations |

## Notes
This migration is part of a series of database schema changes in the `metering_billing` app. It modifies the relationship between `InvoiceLineItem` and `SubscriptionRecord`, allowing for more flexible data management and ensuring that when a `SubscriptionRecord` is deleted, its associated `InvoiceLineItem` entries are also removed.