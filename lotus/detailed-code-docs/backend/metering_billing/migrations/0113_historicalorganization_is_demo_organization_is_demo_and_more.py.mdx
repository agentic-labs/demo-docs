---
title: "0113_historicalorganization_is_demo_organization_is_demo_and_more.py"
---

## High-level description
This Django migration script adds an `is_demo` boolean field to the `Organization` model and its historical counterpart. It also modifies several foreign key relationships to explicitly specify the `related_name` attribute, improving database relationship management.

## References
This migration references the following models:
- `Organization`
- `HistoricalOrganization`
- `APIToken`
- `Backtest`
- `Customer`
- `ExternalPlanLink`
- `Feature`
- `Invoice`
- `Metric`
- `OrganizationInviteToken`
- `OrganizationSetting`
- `Plan`
- `PlanVersion`
- `PriceAdjustment`
- `Product`
- `User`
- `WebhookEndpoint`
- `PricingUnit`
- `Subscription`

## Symbols
### `Migration`
#### Description
This class represents a database migration operation. It defines changes to be applied to the database schema.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The `operations` list defines the database changes:
- **Adding `is_demo` field:** Adds a boolean field named `is_demo` with a default value of `False` to both `Organization` and `HistoricalOrganization` models.
- **Modifying foreign key relationships:** Updates multiple foreign key fields across different models to include the `related_name` attribute. This attribute specifies the reverse relation name for accessing related objects from the `Organization` model. For example, `related_name='api_keys'` in the `APIToken` model allows accessing API keys associated with an organization using `organization.api_keys`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the necessary functions and classes for defining database migrations. |
| django.db.models | Offers classes for defining database models and their fields. |

