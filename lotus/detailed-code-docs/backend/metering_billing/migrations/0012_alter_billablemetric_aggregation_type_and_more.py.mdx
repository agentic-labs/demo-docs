---
title: "0012_alter_billablemetric_aggregation_type_and_more.py"
---

## High-level description
This migration file alters the `BillableMetric` and `BillingPlan` models in the `metering_billing` app. It modifies the `aggregation_type` field of `BillableMetric` and the `billing_plan_id` field of `BillingPlan`.

## Symbols

### Migration
#### Description
This is a Django migration class that defines changes to be applied to the database schema.

#### Internal Logic
1. The migration depends on the previous migration "0011_alter_billingplan_billing_plan_id_and_more".
2. It defines two operations:
   a. Altering the `aggregation_type` field of the `BillableMetric` model.
   b. Altering the `billing_plan_id` field of the `BillingPlan` model.

### AlterField (for BillableMetric)
#### Description
This operation modifies the `aggregation_type` field of the `BillableMetric` model.

#### Internal Logic
- Sets the field type to `CharField`.
- Defines choices for the field: "count", "sum", "max", and "unique".
- Sets the default value to "count".
- Sets the maximum length to 10 characters.

### AlterField (for BillingPlan)
#### Description
This operation modifies the `billing_plan_id` field of the `BillingPlan` model.

#### Internal Logic
- Sets the field type to `CharField`.
- Sets a default value using a UUID.
- Sets the maximum length to 255 characters.
- Makes the field unique.

## Dependencies
This migration depends on Django's migration framework and the uuid module.

## Configuration
The migration is configured to work with the `metering_billing` app in the Django project.

## Error Handling
The migration itself doesn't implement explicit error handling. Error handling is managed by Django's migration framework.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.