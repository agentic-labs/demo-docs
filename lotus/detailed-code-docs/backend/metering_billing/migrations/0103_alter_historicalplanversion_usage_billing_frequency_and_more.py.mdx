---
title: "0103_alter_historicalplanversion_usage_billing_frequency_and_more.py"
---

## High-level description
This Django migration script modifies the `usage_billing_frequency` field in both the `HistoricalPlanVersion` and `PlanVersion` models. It changes the field type to `CharField` with specific choices for billing frequency options.

## References
This migration references the `metering_billing.0102_alter_invoicelineitem_associated_subscription_record` migration, indicating it should be applied after that migration.

## Symbols

### `Migration`
#### Description
This class represents a database migration operation. It modifies the `usage_billing_frequency` field in the `HistoricalPlanVersion` and `PlanVersion` models.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The migration performs the following actions:

1. **`AlterField` for `HistoricalPlanVersion`**:
   - Modifies the `usage_billing_frequency` field in the `HistoricalPlanVersion` model.
   - Changes the field type to `CharField` with a maximum length of 40 characters.
   - Sets the field as nullable (`null=True`) and blankable (`blank=True`).
   - Defines choices for the field:
     - `monthly`: "Monthly"
     - `quarterly`: "Quarterly"
     - `end_of_period`: "End of Period"

2. **`AlterField` for `PlanVersion`**:
   - Performs the same modifications as above but for the `PlanVersion` model.

## Side Effects
This migration directly modifies the database schema by altering the `usage_billing_frequency` field in the `HistoricalPlanVersion` and `PlanVersion` tables. 
