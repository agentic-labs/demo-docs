---
title: "0114_auto_20221212_1837.py"
---

## High-level description
This Django migration file (0114_auto_20221212_1837.py) is designed to update existing Organization records in the database. It marks organizations with company names starting with "demo_" as demo organizations by setting their `is_demo` field to True.

## Symbols

### `mark_as_demo`
#### Description
This function is a data migration that updates Organization records in the database, marking those with company names starting with "demo_" as demo organizations.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| apps | django.apps.registry.Apps | Django apps registry object |
| schema_editor | django.db.backends.base.schema.BaseDatabaseSchemaEditor | Database schema editor |

#### Internal Logic
1. Get the Organization model using the apps registry.
2. Filter Organization objects where the company name starts with "demo_".
3. Update the filtered objects by setting the `is_demo` field to True.

### `Migration`
#### Description
This class defines the migration operation to be performed on the database.

#### Internal Logic
1. Specifies the dependency on the previous migration (0113).
2. Defines a single operation that runs the `mark_as_demo` function using `migrations.RunPython`.
3. Sets the reverse operation to `migrations.RunPython.noop`, which means no action will be taken when rolling back this migration.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the Migration class and related utilities for defining database migrations |

## Notes
- This migration is part of a series, with a dependency on migration 0113.
- The migration is forward-only, as the reverse operation is set to `noop`.
- The `is_demo` field was likely added in a previous migration, and this migration populates it for existing records.
- This migration helps identify and categorize demo organizations in the system, which could be useful for filtering or applying special logic to demo accounts.