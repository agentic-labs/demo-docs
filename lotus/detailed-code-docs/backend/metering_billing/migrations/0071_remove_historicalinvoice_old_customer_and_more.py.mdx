---
title: "0071_remove_historicalinvoice_old_customer_and_more.py"
---

## High-level description
This Django migration file removes several fields from the `HistoricalInvoice` and `Invoice` models in the `metering_billing` app. Specifically, it removes the `old_customer`, `old_organization`, and `old_subscription` fields from both models.

## Code Structure
The migration file defines a single `Migration` class with dependencies and operations. The operations consist of multiple `RemoveField` actions applied to the `HistoricalInvoice` and `Invoice` models.

## Symbols

### Migration
#### Description
This class represents a Django database migration. It specifies the changes to be applied to the database schema.

#### Internal Logic
1. The migration depends on a previous migration: "0070_auto_20221110_2351".
2. It defines six operations, each removing a specific field from either the `HistoricalInvoice` or `Invoice` model.

### operations
#### Description
A list of migration operations to be executed.

#### Internal Logic
The operations remove the following fields:
1. `old_customer` from `HistoricalInvoice`
2. `old_organization` from `HistoricalInvoice`
3. `old_subscription` from `HistoricalInvoice`
4. `old_customer` from `Invoice`
5. `old_organization` from `Invoice`
6. `old_subscription` from `Invoice`

Each operation is implemented using the `RemoveField` migration operation, which takes two arguments:
- `model_name`: The name of the model from which the field is being removed.
- `name`: The name of the field to be removed.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides the necessary classes and functions for defining database migrations in Django. |

## Notes
- This migration is automatically generated by Django, as indicated by the comment at the top of the file.
- The migration is reversible, meaning Django can automatically generate a reverse migration to undo these changes if needed.
- The removal of these "old_" fields suggests a possible refactoring or restructuring of the invoice-related data model, potentially moving away from directly storing customer, organization, and subscription information on the invoice models.