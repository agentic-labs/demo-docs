---
title: "0145_remove_historicalorganizationsetting_setting_value_and_more.py"
---

## High-level description
This migration file modifies the `OrganizationSetting` and `HistoricalOrganizationSetting` models by removing the `setting_value` field and updating the `setting_id` and `setting_values` fields. It's part of a Django project's database schema evolution.

## Symbols

### Migration
#### Description
This is a Django migration class that defines changes to be applied to the database schema.

#### Internal Logic
1. Removes `setting_value` field from `HistoricalOrganizationSetting` and `OrganizationSetting` models.
2. Alters `setting_id` field in both models to use a SlugField with a default value generated by `random_uuid` function.
3. Modifies `setting_values` field in both models to use a JSONField with default value as an empty dictionary.

### `RemoveField` operation
#### Description
Removes the `setting_value` field from the specified models.

### `AlterField` operation
#### Description
Modifies the properties of existing fields in the specified models.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| model_name | string | Name of the model to be altered |
| name | string | Name of the field to be altered |
| field | Field instance | New field definition |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db.migrations | Provides migration operations |
| django.db.models | Provides field types |
| metering_billing.utils.utils | Provides the `random_uuid` function |

This migration is dependent on the previous migration "0144_alter_historicalmetric_metric_type_and_more".

## Notes
- The migration uses `random_uuid` from `metering_billing.utils.utils` as the default value for `setting_id` fields.
- The `setting_values` fields are changed to use `JSONField` with a default empty dictionary, allowing for more flexible data storage.
- This migration removes the `setting_value` field, suggesting a shift in how settings are stored for organizations.