---
title: "0073_event_cust_id_alter_event_customer_and_more.py"
---

## High-level description
This migration file (0073_event_cust_id_alter_event_customer_and_more.py) is a Django migration that makes changes to the database schema for the metering_billing application. It adds a new field to the Event model, modifies existing fields in the Event and Invoice models, and updates the payment status choices for invoices.

## Symbols

### `Migration`
#### Description
This class defines the database schema changes to be applied. It inherits from Django's Migration class and specifies the dependencies and operations for this migration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dependencies | list | List of migrations that this migration depends on |
| operations | list | List of operations to be performed in this migration |

#### Internal Logic
1. Specifies the dependency on the previous migration (0072_customer_payment_provider_and_more).
2. Defines four operations to be executed:
   - Adding a new field 'cust_id' to the Event model
   - Altering the 'customer' field in the Event model
   - Modifying the 'payment_status' field in the HistoricalInvoice model
   - Modifying the 'payment_status' field in the Invoice model

### Operations

#### `AddField`
Adds a new field 'cust_id' to the Event model.

#### `AlterField` (Event.customer)
Modifies the 'customer' field in the Event model, making it nullable and adding a related name.

#### `AlterField` (HistoricalInvoice.payment_status)
Updates the 'payment_status' field in the HistoricalInvoice model, changing the choices for payment status.

#### `AlterField` (Invoice.payment_status)
Updates the 'payment_status' field in the Invoice model, changing the choices for payment status.

## Dependencies
This migration depends on the previous migration: '0072_customer_payment_provider_and_more'.

## Configuration
The migration defines new choices for the payment status field:
| Option | Type | Description |
|:-------|:-----|:------------|
| draft | string | Draft status for invoices |
| voided | string | Voided status for invoices |
| paid | string | Paid status for invoices |
| unpaid | string | Unpaid status for invoices |