---
title: "0212_remove_plan_metering_bi_organiz_b5d6d8_idx_and_more.py"
---

## High-level description
This Django migration file, generated on 2023-02-24, removes the `status` field from `Plan`, `HistoricalPlan`, and `PlanVersion` models. It also removes the `usage_billing_frequency` field from `PlanVersion`. Additionally, it adds a `plan_description` field to `Plan` and `HistoricalPlan` and a `localized_name` field to `PlanVersion`. Finally, it updates the index on the `PlanVersion` model.

## References
This migration references the following models:

* `Plan`
* `HistoricalPlan`
* `PlanVersion`

## Symbols
### `Migration`
#### Description
This class represents a single migration operation within a Django application. It defines a set of changes to be applied to the database schema, such as adding, removing, or modifying fields, tables, or indexes.

#### Inputs
This class doesn't take any direct inputs. However, it inherits from `django.db.migrations.Migration` and utilizes the following attributes:

* **dependencies:** A list of migrations that this migration depends on.
* **operations:** A sequence of operations to be performed during the migration.

#### Outputs
This class doesn't return any outputs. It's executed by Django's migration framework to modify the database schema.

#### Internal Logic
The `operations` list defines the specific actions to be taken:

* **RemoveIndex:** Removes existing indexes from the `Plan` and `PlanVersion` models.
* **RemoveField:** Removes the `status` field from `Plan`, `HistoricalPlan`, and `PlanVersion` models, as well as the `usage_billing_frequency` field from `PlanVersion`.
* **AddField:** Adds the `plan_description` field to `Plan` and `HistoricalPlan` and the `localized_name` field to `PlanVersion`.
* **AddIndex:** Creates a new index on the `PlanVersion` model based on the `organization` and `plan` fields.

## Side Effects
This migration directly modifies the database schema by altering the structure of the `Plan`, `HistoricalPlan`, and `PlanVersion` tables and their associated indexes.
