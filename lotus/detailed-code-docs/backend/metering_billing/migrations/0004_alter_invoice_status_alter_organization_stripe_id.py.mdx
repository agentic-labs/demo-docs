---
title: "0004_alter_invoice_status_alter_organization_stripe_id.py"
---

## High-level description
This migration file modifies the `Invoice` and `Organization` models in the `metering_billing` app. It updates the `status` field of the `Invoice` model and the `stripe_id` field of the `Organization` model.

## Symbols

### Migration
#### Description
This Django migration class defines changes to be applied to the database schema.

#### Internal Logic
1. The migration depends on the previous migration '0003_alter_invoice_customer_alter_invoice_line_items_and_more'.
2. It defines two operations:
   a. Altering the `status` field of the `Invoice` model.
   b. Altering the `stripe_id` field of the `Organization` model.

### AlterField (for Invoice.status)
#### Description
This operation modifies the `status` field of the `Invoice` model.

#### Internal Logic
- Changes the `status` field to a `CharField` with specific choices and a maximum length of 35 characters.
- The choices for the status field are:
  - "requires_payment_method"
  - "requires_action"
  - "processing"
  - "succeeded"
  - "not_connected_to_stripe"

### AlterField (for Organization.stripe_id)
#### Description
This operation modifies the `stripe_id` field of the `Organization` model.

#### Internal Logic
- Changes the `stripe_id` field to a `CharField` with the following properties:
  - `blank=True`: The field is allowed to be blank.
  - `max_length=110`: The maximum length of the field is 110 characters.
  - `null=True`: The field is allowed to have NULL values in the database.

## Dependencies
This migration depends on Django's migration framework and the `metering_billing` app's models.