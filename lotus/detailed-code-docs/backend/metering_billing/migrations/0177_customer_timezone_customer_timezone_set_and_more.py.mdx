---
title: "0177_customer_timezone_customer_timezone_set_and_more.py"
---

## High-level description
This migration file adds timezone-related fields to the Customer and Organization models, as well as a timezone field to the Organization model. It's part of Django's migration system, allowing for database schema changes to be version-controlled and applied systematically.

## Symbols

### Migration
#### Description
This class defines a database migration, which is a set of changes to be applied to the database schema. It adds new fields related to timezones for the Customer, HistoricalCustomer, HistoricalOrganization, and Organization models.

#### Internal Logic
The migration performs the following operations:
1. Adds a 'timezone' field to the Customer model.
2. Adds a 'timezone_set' field to the Customer model.
3. Adds a 'timezone' field to the HistoricalCustomer model.
4. Adds a 'timezone_set' field to the HistoricalCustomer model.
5. Adds a 'timezone' field to the HistoricalOrganization model.
6. Adds a 'timezone' field to the Organization model.

All timezone fields use the TimeZoneField from the timezone_field library, with a default value of 'UTC' and use_pytz set to True.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| django.db | Provides migration and model fields |
| timezone_field.fields | Provides the TimeZoneField for storing timezone information |

## References
This migration depends on the previous migration:
'0176_remove_addonspecification_billing_frequency_one_time_recurring_flat_fee_timing_isnull_and_more'

It affects the following models:
- Customer
- HistoricalCustomer
- HistoricalOrganization
- Organization

These models are likely defined in the `metering_billing/models.py` file, as seen in the related code snippets.

## Side Effects
This migration will alter the database schema for the affected models, adding new fields. Existing rows in these tables will have their new timezone fields set to the default value of 'UTC'.

## Performance Considerations
Adding new fields to existing tables with a large number of rows could potentially be a slow operation, depending on the database system and the amount of data. However, since these are just adding fields with default values, it should be relatively quick in most cases.