---
title: "0200_historicalinvoice_invoice_past_due_webhook_sent_and_more.py"
---

## High-level description
This Django migration adds a new boolean field `invoice_past_due_webhook_sent` to both the `Invoice` and `HistoricalInvoice` models. It also updates the choices for the `trigger_name` field in the `WebhookTrigger` model to include a new option for "invoice.past_due".

## References
This migration references the following models:

* `HistoricalInvoice`
* `Invoice`
* `WebhookTrigger`

## Symbols
### `Migration`
#### Description
This class represents a database migration operation. It defines changes to be applied to the database schema, such as adding fields, modifying fields, or deleting fields.

#### Inputs
This class does not take any direct inputs.

#### Outputs
This class does not return any outputs.

#### Internal Logic
The `operations` list defines the specific database operations to be performed:

1. **AddField**: Adds the `invoice_past_due_webhook_sent` field to the `HistoricalInvoice` model. This field is a boolean with a default value of `False`.
2. **AddField**: Adds the `invoice_past_due_webhook_sent` field to the `Invoice` model. This field is a boolean with a default value of `False`.
3. **AlterField**: Modifies the `trigger_name` field in the `WebhookTrigger` model. It updates the field's choices to include a new option: `('invoice.past_due', 'invoice.past_due')`. This change allows users to configure webhooks to be triggered when an invoice becomes past due.

#### Side Effects
This migration modifies the database schema by adding a new field to the `Invoice` and `HistoricalInvoice` tables and updating the choices for the `trigger_name` field in the `WebhookTrigger` table.
