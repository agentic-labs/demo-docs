---
title: "CreateCustomerForm.tsx"
---

## High-level description
This code defines a React component called `CreateCustomerForm` that renders a modal form for creating a new customer. It includes fields for customer information, payment provider details, and currency selection. The component uses Ant Design components and React Query for data fetching and state management.

## Code Structure
The main component `CreateCustomerForm` contains a form with various input fields. It uses the `useQuery` hook to fetch payment processor connection status and populates the payment provider dropdown accordingly. The component also includes a `PricingUnitDropDown` component for selecting the default currency.

## Symbols

### CreateCustomerForm
#### Description
A React functional component that renders a modal form for creating a new customer.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| visible | boolean | Controls the visibility of the modal |
| onSave | function | Callback function to handle form submission |
| onCancel | function | Callback function to handle modal cancellation |

#### Internal Logic
1. Uses Ant Design's Form and Modal components to create the form structure.
2. Fetches payment processor connection status using React Query.
3. Dynamically renders payment provider fields based on connected providers.
4. Handles form validation and submission.

### CreateCustomerState
#### Description
An interface defining the structure of the customer data to be created.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| name | string | Customer's name |
| customer_id | string | Unique identifier for the customer |
| email | string | Customer's email address |
| payment_provider | string (optional) | Selected payment provider |
| payment_provider_id | string (optional) | ID associated with the payment provider |
| default_currency_code | string (optional) | Default currency for the customer |

## Dependencies
- React
- Ant Design components (Modal, Form, Input, Select)
- @tanstack/react-query
- PricingUnitDropDown (custom component)
- PaymentProcessorIntegration (API module)
- PaymentProcessorStatusType (type definition)

## Error Handling
The component includes form validation rules for required fields and email format. It also handles API request errors through the React Query error handling mechanism.

## API/Interface Reference
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| payment_processor_integration_list | GET | Fetches the list of connected payment processors |

Note: The actual API call is abstracted through the `PaymentProcessorIntegration.getPaymentProcessorConnectionStatus()` function.