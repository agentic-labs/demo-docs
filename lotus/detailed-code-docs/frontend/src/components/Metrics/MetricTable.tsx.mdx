---
title: "MetricTable.tsx"
---

## High-level description
The `MetricTable` component is a React functional component that renders a table displaying metric data. It uses Ant Design's ProTable component to create an interactive and customizable table for displaying various attributes of metrics, such as metric name, type, event name, and filters.

## Code Structure
The main component `MetricTable` uses several helper functions and constants to process and display the metric data. It also includes a child component `MetricDetails` for showing detailed information about a selected metric.

## Symbols

### `MetricTable`
#### Description
This is the main functional component that renders the metric table.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| metricArray | MetricType[] | An array of metric objects to be displayed in the table |

#### Internal Logic
1. Defines color mappings for different aggregation types.
2. Defines operator display mappings for filter operations.
3. Uses `useRef` and `useState` hooks for form reference and current metric state.
4. Implements `mergeFilters` function to combine numeric and categorical filters.
5. Defines table columns with custom renderers for specific fields.
6. Renders a ProTable component with the defined columns and data.
7. Implements row click handler to show metric details.
8. Renders MetricDetails component when a metric is selected.

### `mergeFilters`
#### Description
A helper function that merges numeric and categorical filters, mapping operators to their display values.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| numeric_filters | any[] | undefined | Array of numeric filters |
| categorical_filters | any[] | undefined | Array of categorical filters |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filters | any[] | Merged and processed array of filters |

### `columns`
#### Description
An array of ProColumns that defines the structure and behavior of the table columns.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the component |
| @ant-design/pro-components | Provides ProTable and related components |
| antd | Provides Tag component |
| MetricDetails | Child component for displaying detailed metric information |

## Performance Considerations
The component uses `useRef` for the form instance, which can help optimize performance by avoiding unnecessary re-renders. The table pagination is set to display 8 items per page, which can help with performance for large datasets.

## Error Handling
There is no explicit error handling in this component. Error handling might be managed at a higher level in the application.

## TODOs
There are no explicit TODOs in the code.