---
title: "IntegrationsTab.tsx"
---

## High-level description
This code defines the IntegrationsTab component, which displays a list of integration options for payment processors and CRM systems. It allows users to connect to various services like Stripe, Braintree, Salesforce, and others. The component fetches integration statuses, handles connection requests, and displays the integration status using AppCard components.

## Code Structure
The main component, IntegrationsTab, uses React hooks (useState, useQuery) to manage state and fetch data. It interacts with API functions from PaymentProcessorIntegration and CRM modules. The component renders a grid of AppCard components for each integration option.

## Symbols

### IntegrationsTab
#### Description
A functional component that renders the Integrations tab in the settings page. It displays various integration options and their connection statuses.

#### Internal Logic
1. Fetches payment processor and CRM integration statuses using useQuery hooks.
2. Manages connection status state.
3. Handles connection requests for different integration types.
4. Renders a grid of AppCard components for each integration option.

### handleConnectWithPaymentProcessorClick
#### Description
A function that handles the connection process for payment processors.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| item | PaymentProcessorStatusType | The payment processor status information |

#### Internal Logic
1. Checks the payment provider name (Stripe or Braintree).
2. For Stripe, redirects to the provided URL.
3. For Braintree, initiates the Nango authentication flow and handles the connection process.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the UI |
| @tanstack/react-query | Data fetching and state management |
| react-router-dom | Routing and navigation |
| antd | UI components library |
| @nangohq/frontend | Nango integration for authentication |
| react-toastify | Displaying toast notifications |
| @vesselapi/react-vessel-link | Vessel API integration |

## Error Handling
The component uses toast notifications to display error messages when connection attempts fail or when certain features are not available.

## API/Interface Reference
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| PaymentProcessorIntegration.getPaymentProcessorConnectionStatus | GET | Fetches payment processor connection statuses |
| CRM.getCRMConnectionStatus | GET | Fetches CRM connection statuses |
| CRM.getLinkToken | GET | Retrieves a link token for CRM integration |
| CRM.storePublicToken | POST | Stores the public token for CRM integration |
| PaymentProcessorIntegration.connectPaymentProcessor | POST | Connects a payment processor |

This component provides a user interface for managing various integrations, allowing users to connect and manage different services within the application.