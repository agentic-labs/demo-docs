---
title: "AddonDetails.tsx"
---

## High-level description
The `AddOnDetails` component displays detailed information about a specific add-on, including its name, description, components, and features. It fetches add-on data using the `useQuery` hook from `@tanstack/react-query` and displays a loading spinner while fetching or an error message if the fetch fails.

## Code Structure
The `AddOnDetails` component uses the `useParams` hook to retrieve the `addOnId` from the URL and the `useQuery` hook to fetch add-on details. It then conditionally renders either a loading spinner, an error message, or the add-on details based on the loading and error states of the query. The add-on details are displayed using the `PageLayout`, `AddOnInfo`, `AddOnComponents`, and `AddOnFeatures` components.

## References
- `AddOn.getAddOn`: A function from the `../../../api/api` module used to fetch add-on details.
- `PageLayout`: A component from `../../base/PageLayout` used to render the page layout.
- `AddOnInfo`: A component from `./AddOnInfo` used to display basic add-on information.
- `AddOnComponents`: A component from `./AddOnComponents` used to display add-on components.
- `AddOnFeatures`: A component from `./AddOnFeatures` used to display add-on features.

## Symbols

### `AddOnDetails`
#### Description
A functional component that displays detailed information about a specific add-on.

#### Inputs
This component does not take any props.

#### Outputs
This component renders the add-on details page.

#### Internal Logic
1. **Retrieves add-on ID:** Uses the `useParams` hook to get the `addOnId` from the URL.
2. **Fetches add-on data:** Uses the `useQuery` hook from `@tanstack/react-query` to fetch add-on details using the `AddOn.getAddOn` function.
3. **Handles loading and error states:**
    - Displays a loading spinner while fetching data (`isLoading` is true).
    - Displays an error message if fetching fails (`isError` is true).
4. **Renders add-on details:** If data is successfully fetched (`addon` is defined), renders the add-on details using the following components:
    - `PageLayout`: Renders the page layout with the add-on name and description.
    - `AddOnInfo`: Displays basic add-on information.
    - `AddOnComponents`: Displays add-on components.
    - `AddOnFeatures`: Displays add-on features.

## Dependencies
- `react`: Used for creating functional components and hooks.
- `antd`: Used for UI elements like `Button`, `Typography`, etc.
- `react-router-dom`: Used for navigation and URL parameter handling.
- `@tanstack/react-query`: Used for data fetching and caching.
- `../../../api/api`: Used for making API requests.
- `../../LoadingSpinner`: Used to display a loading spinner.
- `./AddOnInfo`: Used to display basic add-on information.
- `./AddOnComponents`: Used to display add-on components.
- `./AddOnFeatures`: Used to display add-on features.
- `../../../gen-types`: Used for TypeScript types. 
