---
title: "VersionInformation.tsx"
---

## High-level description
This code defines a React component called `VersionInformation` that renders a form for capturing version-specific information when creating or editing a plan. It includes fields for invoice timing, localized name, plan currency, and plan transition options.

## Code Structure
The main component `VersionInformation` uses various Ant Design components to create a form. It also includes a `validate` function that checks if required fields are filled. The component uses React hooks for state management and side effects.

## Symbols

### `validate`
#### Description
An asynchronous function that validates the form fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| form | FormInstance&lt;any&gt; | The form instance to validate |
| type | string | Optional type parameter |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isValid | boolean | Whether the form is valid |

#### Internal Logic
- Determines which fields to validate based on the `type` parameter
- Attempts to validate the fields using the form's `validateFields` method
- Returns `true` if validation succeeds, `false` otherwise

### `VersionInformation`
#### Description
The main functional component that renders the version information form.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| props | StepProps | Props including form instance and other required data |

#### Internal Logic
- Uses `useEffect` to validate form fields and update the current step validity
- Renders a form with fields for invoice timing, localized name, plan currency, and plan transition
- Dynamically renders additional fields based on the plan duration
- Handles currency selection and updates the selected currency

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the component |
| moment | Used for handling dates and months |
| antd | UI component library for form elements |

## Configuration
The component uses various configuration options from the `props` object, including:
- `type`: Determines if it's a custom plan
- `highlightedFields`: Array of field names to highlight
- `allCurrencies`: List of available currencies
- `allPlans`: List of all plans for transition options

## Error Handling
The component relies on Ant Design's form validation for error handling. It uses `rules` prop on Form.Item components to define validation rules.

## Side Effects
The component has a side effect that updates the current step validity whenever the form values change or when the component mounts.

This component is crucial for capturing and validating version-specific information when creating or editing a plan. It provides a user-friendly interface for inputting various plan details and ensures that all required information is collected before proceeding.