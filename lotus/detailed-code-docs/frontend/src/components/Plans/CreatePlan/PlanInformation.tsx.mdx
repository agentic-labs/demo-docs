---
title: "PlanInformation.tsx"
---

## High-level description
This code defines a React component called `PlanInformation` that renders a form for inputting and displaying plan information. It's part of a larger plan creation or editing process, allowing users to input details such as plan name, description, external IDs, and plan duration.

## Code Structure
The main `PlanInformation` component uses various Ant Design components to create the form. It also imports a custom `LinkExternalIds` component. The component receives props from its parent, including form controls and functions to update the parent's state.

## Symbols

### `validate`
#### Description
An asynchronous function that validates specific fields in the form.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| form | FormInstance&lt;any&gt; | The form instance to validate |
| type | string | Optional type parameter |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isValid | boolean | Whether the validation passed |

#### Internal Logic
It attempts to validate the fields defined in the `fields` array. If successful, it returns true; otherwise, it returns false.

### `PlanInformation`
#### Description
The main functional component that renders the plan information form.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| form | FormInstance&lt;any&gt; | The form instance |
| props | StepProps | Additional props including various state setters and flags |

#### Internal Logic
1. Uses a `useEffect` hook to check if all required fields are filled and updates the parent's state accordingly.
2. Renders a form with inputs for plan name, description, external IDs, and plan duration.
3. Handles changes in the plan duration radio group, updating available billing types and usage billing frequency.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| moment | Date manipulation library |
| antd | UI component library |
| LinkExternalIds | Custom component for handling external IDs |

## Configuration
The component uses some configuration options defined in the code:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| fields | string[] | ["name", "plan_duration"] | Fields to be validated |

## Side Effects
The component updates the parent's state through the `setIsCurrentStepValid` and `setAvailableBillingTypes` functions passed as props.

## Performance Considerations
The component uses `useEffect` to check form validity on each render, which could potentially impact performance for very large forms. However, for the current use case, it should not be a significant concern.

This component is part of a larger plan creation or editing process and is designed to be used within a multi-step form interface. It handles the first step of collecting basic plan information and ensures that required fields are filled before allowing progression to the next step.