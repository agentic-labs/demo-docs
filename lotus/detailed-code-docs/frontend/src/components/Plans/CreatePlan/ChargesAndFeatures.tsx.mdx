---
title: "ChargesAndFeatures.tsx"
---

## High-level description
This code defines a React component called `ChargesAndFeatures` that allows users to manage recurring charges, components, and features for a plan. It provides a user interface for adding, editing, and deleting these elements, as well as setting discounts.

## Code Structure
The main `ChargesAndFeatures` component renders three main sections: Recurring Charges, Components, and Plan Features. Each section uses specialized display components (`RecurringChargesDisplay`, `ComponentDisplay`, and `FeatureDisplay`) to show the current items and provides buttons to add new items. The component also includes a Discount section for price adjustments.

## Symbols

### `ChargesAndFeatures`
#### Description
The main component that renders the interface for managing charges and features of a plan.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| form | FormInstance | The form instance from Ant Design |
| props | StepProps | Additional properties passed to the component |

#### Internal Logic
1. Uses `useMediaQuery` hook to get the window width.
2. Sets the current step as valid on component mount.
3. Renders sections for Recurring Charges, Components, Plan Features, and Discount.
4. Each section uses a Card component to group related elements.
5. Provides buttons to add new items in each section.
6. Uses Form.Item components to handle form state and updates.

### `validate`
#### Description
An asynchronous function that always returns true. It's likely a placeholder for future validation logic.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| form | FormInstance&lt;any&gt; | The form instance to validate |
| type | string (optional) | The type of validation to perform |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | Always returns true |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the component |
| antd | UI component library for various form elements and layout components |
| @ant-design/icons | Icon components used in buttons |
| ../FeatureDisplay | Component to display plan features |
| ../ComponentDisplay | Component to display plan components |
| ../../../hooks/useWindowQuery | Custom hook for responsive design |
| ../RecurringChargesDisplay | Component to display recurring charges |

## API/Interface Reference
This component doesn't expose an API directly, but it interacts with the parent component through the following props:

| Prop | Type | Description |
|:-----|:-----|:------------|
| form | FormInstance | The form instance from Ant Design |
| recurringCharges | Array | List of recurring charges |
| handleEditRecurringCharge | Function | Handler for editing a recurring charge |
| handleDeleteRecurringCharge | Function | Handler for deleting a recurring charge |
| setShowRecurringChargeModal | Function | Sets the visibility of the recurring charge modal |
| componentsData | Array | List of plan components |
| handleComponentEdit | Function | Handler for editing a component |
| deleteComponent | Function | Handler for deleting a component |
| showComponentModal | Function | Shows the component modal |
| planFeatures | Array | List of plan features |
| removeFeature | Function | Handler for removing a feature |
| editFeatures | Function | Handler for editing features |
| showFeatureModal | Function | Shows the feature modal |
| setPriceAdjustmentType | Function | Sets the price adjustment type |
| selectedCurrency | Object | The selected currency for the plan |

The component uses these props to manage the state and interactions of the charges and features sections.