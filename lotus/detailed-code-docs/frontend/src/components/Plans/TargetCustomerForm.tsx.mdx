---
title: "TargetCustomerForm.tsx"
---

## High-level description
This code defines a React component called `TargetCustomerForm` that allows users to select a target customer for a plan. It uses Ant Design components and React Query for data fetching and state management.

## Code Structure
The main component `TargetCustomerForm` uses various Ant Design components like Form, Modal, and Select to create a form for selecting a target customer. It fetches customer data using React Query and manages the selected target customer state.

## Symbols

### TargetCustomerForm
#### Description
This is the main functional component that renders a form within a modal for selecting a target customer.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| visible | boolean | Controls the visibility of the modal |
| onCancel | () =&gt; void | Function to call when canceling the form |
| onAddTargetCustomer | (target_customer_id: string) =&gt; void | Function to call when adding a target customer |

#### Internal Logic
1. Uses React Query to fetch customer data
2. Manages the selected target customer state
3. Renders a form with a Select component for choosing a customer
4. Handles form submission and calls the `onAddTargetCustomer` prop with the selected customer ID

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| antd | UI components library |
| @tanstack/react-query | Data fetching and state management |
| ../../api/api | API functions for fetching customer data |
| ../../types/customer-type | Type definitions for customer data |

## Error Handling
The component uses Ant Design's Form validation to ensure a customer is selected before submission.

## API/Interface Reference
The component interacts with the `Customer.getCustomers()` API to fetch customer data.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.