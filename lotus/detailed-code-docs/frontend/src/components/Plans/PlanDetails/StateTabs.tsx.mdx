---
title: "StateTabs.tsx"
---

## High-level description
This code defines a React component called `StateTabs` that renders a set of tabs representing different states of a plan version (e.g., Active, Grandfathered, Retiring, Inactive). It allows users to change the state of a plan version and provides tooltips explaining each state.

## Code Structure
The main `StateTabs` component uses several React hooks (useState, useEffect) and the react-query library for state management and API interactions. It renders a series of tabs and a modal for confirming state changes.

## Symbols

### StateTabs
#### Description
A functional component that renders a set of tabs representing different states of a plan version.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| tabs | string[] | An array of tab names to be displayed |
| activeTab | string | The currently active tab |
| version | number \| string | The version number of the plan |
| version_id | string | The unique identifier for the plan version |
| plan_id | string | The unique identifier for the plan |
| activeVersion | number \| string \| undefined | The currently active version number |

#### Internal Logic
1. Manages the current active tab state.
2. Handles the visibility of a confirmation modal.
3. Manages the type of activation (replace on renewal or grandfather).
4. Uses a mutation hook for updating the plan version status.
5. Provides tooltips for each tab explaining their meaning.
6. Renders a modal for confirming state changes, allowing users to choose how to handle existing subscriptions.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| antd | UI components (Tooltip, Modal, Select) |
| @tanstack/react-query | Data fetching and state management |
| Plan (from "../../../api/api") | API functions for plan operations |

## Error Handling
The component doesn't implement specific error handling beyond what's provided by react-query's mutation hook.

## Performance Considerations
The component uses react-query for efficient data fetching and caching, which can help with performance when dealing with remote data.

## TODOs
(No explicit TODOs found in the code)

This component plays a crucial role in managing the lifecycle of plan versions, allowing users to transition between different states while providing clear explanations of each state's implications.