---
title: "VersionActiveForm.tsx"
---

## High-level description
The `VersionActiveForm` component is a modal form used to confirm and configure the activation of a new plan version. It allows users to choose whether the new version should be active or inactive, and if active, how existing subscriptions should be treated.

## Code Structure
The component is a functional React component that uses hooks for state management. It renders a Modal from the Antd library, containing radio buttons for activation choice and a select dropdown for subscription treatment options.

## Symbols

### VersionActiveForm
#### Description
This is the main component function that renders the modal form for confirming a new plan version.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| visible | boolean | Controls the visibility of the modal |
| onCancel | () =&gt; void | Function to call when the modal is cancelled |
| onOk | (active: boolean, activeType: string) =&gt; void | Function to call when the form is submitted |

#### Internal Logic
1. The component uses two state variables: `active` (boolean) and `activeType` (string).
2. It renders a Modal with a title "Confirm New Version" and custom button text.
3. Inside the modal, it displays information about inactive and active versions.
4. It uses a Radio.Group for selecting whether the version should be active or inactive.
5. If the active option is selected, it shows an additional Select component for choosing how to treat existing subscriptions.
6. The onOk function of the modal validates the inputs and calls the `props.onOk` function with the selected values.

## Side Effects
- The component uses `toast.error` to display error messages if the form is submitted with invalid inputs.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| React | Core library for building the component |
| antd | UI components (Modal, Select, Radio) |
| react-toastify | Displaying toast notifications |

## Error Handling
The component handles two error cases:
1. If the user hasn't chosen whether to activate the new version.
2. If the user has chosen to activate but hasn't selected how to treat existing subscriptions.

In both cases, it displays an error toast and prevents form submission.

This component is likely used in the context of plan management, specifically when creating or updating plan versions. It provides a user interface for administrators to configure how a new plan version should be activated and how it should affect existing subscriptions.