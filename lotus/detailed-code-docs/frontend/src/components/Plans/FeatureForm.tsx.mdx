---
title: "FeatureForm.tsx"
---

## High-level description
This code defines a React component called `FeatureForm` that allows users to add features to a plan. It provides functionality to select existing features or create new ones, and displays them in a modal dialog.

## Code Structure
The main `FeatureForm` component uses several Ant Design components and React hooks. It interacts with an API to fetch and create features, and manages the state of selected and newly created features.

## Symbols

### FeatureForm
#### Description
A functional component that renders a modal for adding features to a plan.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| visible | boolean | Controls the visibility of the modal |
| onCancel | () =&gt; void | Function to call when canceling the modal |
| onAddFeatures | (features: FeatureType[]) =&gt; void | Function to call when adding features |

#### Internal Logic
1. Fetches existing features using a query hook
2. Manages state for new features, created feature name and description
3. Handles adding existing features to the list
4. Handles creating and adding new features
5. Renders a modal with two sections: one for selecting existing features and another for creating new features

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core React library |
| antd | UI components library |
| @tanstack/react-query | Data fetching and state management |
| ../../types/feature-type | Type definitions for features |
| ../../api/api | API functions for interacting with the backend |

## Error Handling
The component uses Ant Design's `message` component to display error messages when a feature already exists or when there's an issue creating a new feature.

## API/Interface Reference
| Endpoint | Method | Description |
|:---------|:-------|:------------|
| getFeatures | GET | Fetches the list of existing features |
| createFeature | POST | Creates a new feature |

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.