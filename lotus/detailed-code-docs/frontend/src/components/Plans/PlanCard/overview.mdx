---
title: "Overview"
---

## High-level description
The `frontend/src/components/Plans/PlanCard` directory contains the implementation of a PlanCard component, which is a crucial part of a subscription or pricing page in a web application. This component is responsible for displaying detailed information about individual subscription plans, including their names, active subscriptions, plan IDs, versions, durations, and associated tags. The directory consists of two main files: a TypeScript React component (`PlanCard.tsx`) and its associated CSS styles (`PlanCard.css`).

## What does it do?
The PlanCard component creates a visually appealing and interactive card for each subscription plan. Here's what it does:

1. Displays key plan information: It shows the plan's name, ID, number of active subscriptions, number of versions, active version, and plan duration.
2. Manages tags: Users can view and manage tags associated with each plan through a dropdown component.
3. Provides plan actions: It includes a menu for plan-related actions, such as archiving a plan.
4. Applies visual enhancements: The component uses hover effects to improve user interaction and highlights active subscriptions.
5. Handles plan archiving: It allows users to archive plans and handles the process through API calls.
6. Adapts to different views: The component can adjust its display based on different panes (All, Monthly, Yearly, Quarterly) in the parent component.

## Key Files

1. PlanCard.tsx
   This file contains the main React component that renders the plan card. It uses various Ant Design components for the UI, React Query for data fetching and mutations, and custom hooks for specific functionalities. The component is responsible for rendering plan details, managing tags, and handling user interactions like archiving plans.

2. PlanCard.css
   This file defines the styles for the PlanCard component. It includes styles for hover effects, active subscriptions, plan details, and the archive option. The CSS ensures that the plan card is visually appealing and responsive to user interactions.

## Dependencies
The PlanCard component relies on several external libraries and frameworks:

1. React: For building the user interface components.
2. Ant Design: Provides pre-built UI components like Card, Dropdown, and Menu.
3. React Query: Used for data fetching, caching, and state management.
4. React Router: For handling navigation within the application.

The component also uses custom hooks and helper functions, which are likely defined elsewhere in the application.

## Configuration
The PlanCard component uses an environment variable:

- `VITE_IS_DEMO`: This variable determines if the application is running in demo mode, which may affect certain functionalities of the component.

Additionally, the component expects certain props to be passed from its parent:

- `plan`: An object containing all the plan details.
- `pane`: A string indicating the current active pane in the parent component ("All", "Monthly", "Yearly", or "Quarterly").
- `createTagMutation`: A function for creating or updating tags for the plan.

## Code Snippets

Here's a simplified example of how the PlanCard component might be structured:

```typescript
const PlanCard: React.FC&lt;PlanCardProps&gt; = ({ plan, pane, createTagMutation }) =&gt; {
  const { isDemo } = useGlobalStore();
  const navigate = useNavigate();

  const archivePlanMutation = useMutation(Plan.deletePlan, {
    onSuccess: () =&gt; {
      // Handle successful archiving
    },
    onError: (error) =&gt; {
      // Handle error
    },
  });

  const handleArchive = () =&gt; {
    archivePlanMutation.mutate({ planId: plan.id });
  };

  return (
    &lt;Card
      hoverable
      className="planCard"
      actions={[
        &lt;Dropdown overlay={&lt;Menu items={[{ key: 'archive', label: 'Archive' }]} /&gt;}&gt;
          &lt;EllipsisOutlined key="ellipsis" /&gt;
        &lt;/Dropdown&gt;,
      ]}
    &gt;
      &lt;div className="planDetails"&gt;
        &lt;h3&gt;{plan.name}&lt;/h3&gt;
        &lt;p&gt;ID: {plan.id}&lt;/p&gt;
        &lt;p&gt;Active Subscriptions: {plan.activeSubscriptions}&lt;/p&gt;
        {/* Other plan details */}
      &lt;/div&gt;
      &lt;TagsDropdown plan={plan} createTagMutation={createTagMutation} /&gt;
    &lt;/Card&gt;
  );
};
```

This snippet demonstrates the basic structure of the PlanCard component, including the card layout, plan details display, and the dropdown for plan actions.

The accompanying CSS file (`PlanCard.css`) would contain styles like:

```css
.planCard:hover {
  box-shadow: 0 1px 2px -2px rgba(0, 0, 0, 0.16), 0 3px 6px 0 rgba(0, 0, 0, 0.12), 0 5px 12px 4px rgba(0, 0, 0, 0.09);
}

.activeSubscriptions {
  color: #c3986b;
}

.planDetails {
  font-size: 16px;
  padding: 8px 0;
  display: flex;
  align-items: center;
}

/* Other styles */
```

These styles ensure that the PlanCard component is visually appealing and responsive to user interactions.