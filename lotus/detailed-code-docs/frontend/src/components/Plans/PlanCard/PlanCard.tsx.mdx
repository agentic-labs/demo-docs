---
title: "PlanCard.tsx"
---

## High-level description
This file defines a React component called `PlanCard` that displays information about a subscription plan. It includes details such as plan name, active subscriptions, plan ID, number of versions, active version, plan duration, and tags. The component also provides functionality to archive plans and manage tags.

## Code Structure
The main `PlanCard` component uses several sub-components and hooks:
- It imports various UI components from Ant Design library.
- It uses React Query hooks for data fetching and mutation.
- It utilizes custom hooks and helper functions for specific functionalities.
- The component renders different sections of the plan card, including plan details and tags.

## Symbols

### PlanCard
#### Description
The main functional component that renders a card displaying plan information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| plan | components["schemas"]["Plan"] | The plan object containing all plan details |
| pane | "All" \| "Monthly" \| "Yearly" \| "Quarterly" | The current active pane in the parent component |
| createTagMutation | function | A mutation function to create or update tags for the plan |

#### Internal Logic
1. Retrieves global store data using `useGlobalStore` hook.
2. Sets up React Query hooks for mutations and navigation.
3. Defines a menu for plan actions (e.g., archiving).
4. Renders plan details including name, ID, active subscriptions, versions, duration, and tags.
5. Handles tag management through a dropdown component.

## Dependencies
- React and related hooks
- Ant Design components
- React Query
- React Router
- Custom hooks and helper functions

## Configuration
The component uses environment variables:
- `VITE_IS_DEMO`: Determines if the application is in demo mode, affecting certain functionalities.

## Error Handling
The component uses toast notifications to handle errors, particularly for plan archiving operations.

## API/Interface Reference
The component interacts with the following API endpoints (via React Query mutations):
- Delete plan: `Plan.deletePlan`
- Create/update tags: `createTagMutation`

Your response provides a clear and concise overview of the `PlanCard` component, its structure, and key functionalities. It effectively captures the main aspects of the code without going into excessive detail.