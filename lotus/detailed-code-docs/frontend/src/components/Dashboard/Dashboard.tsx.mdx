---
title: "Dashboard.tsx"
---

## High-level description
The `Dashboard` component renders the main dashboard view of the application. It displays key metrics like earned revenue, total subscriptions, events tracked, and new subscriptions, along with visualizations such as a metric bar graph and a customer-by-plan pie chart. The component fetches data for these metrics and visualizations using API calls.

## Code Structure
The `Dashboard` component uses several hooks and external libraries to fetch and display data. It uses the `useQuery` hook from `@tanstack/react-query` to fetch data from various API endpoints. The `dayjs` library is used for date manipulation and formatting. The component also uses Ant Design components for layout and UI elements.

## Symbols
### `Dashboard`
#### Description
A functional component that renders the main dashboard view. It fetches data for various metrics and displays them using other components like `NumberDisplay`, `MetricBarGraph`, and `CustomerByPlanPie`.

#### Inputs
This component does not take any props.

#### Outputs
Renders the dashboard view.

#### Internal Logic
1. **State Initialization:** Initializes state variables for the date range and default date.
2. **Data Fetching:** Uses `useQuery` hooks to fetch data for:
    - Recent and previous period revenue (`recentPeriodData`, `previousPeriodData`)
    - Subscription overview (`subscriptionData`)
    - Event count (`eventData`)
3. **Data Display:** Renders the fetched data using:
    - `NumberDisplay` for displaying numeric metrics with previous period comparison.
    - `MetricBarGraph` for displaying a bar graph of metric usage over time.
    - `CustomerByPlanPie` for displaying a pie chart of customer distribution by plan.
4. **Date Range Selection:** Provides a `RangePicker` component to allow users to select a date range for the displayed data.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Core library for building user interfaces |
| antd | UI library for React |
| dayjs | Library for date and time manipulation |
| @tanstack/react-query | Library for data fetching and caching |
| rc-picker | Date picker component library |
|  |  |

## References
- `GetRevenue.getMonthlyRevenue`: API call to fetch monthly revenue data.
- `GetSubscriptions.getSubscriptionOverview`: API call to fetch subscription overview data.
- `Events.getEventCount`: API call to fetch event count data.
- `MetricBarGraph`: Component for displaying a bar graph of metric usage.
- `CustomerByPlanPie`: Component for displaying a pie chart of customer distribution by plan.
- `NumberDisplay`: Component for displaying numeric metrics with previous period comparison.
