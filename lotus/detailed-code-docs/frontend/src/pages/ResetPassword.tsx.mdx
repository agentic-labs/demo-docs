---
title: "ResetPassword.tsx"
---

## High-level description
The `ResetPassword` component provides the functionality for users to reset their passwords. It allows users to enter their email address and sends a password reset link to that email.

## Code Structure
The `ResetPassword` component uses the `useMutation` hook from `@tanstack/react-query` to handle the password reset API call. It also uses the `useNavigate` hook from `react-router-dom` to redirect the user after successful password reset.

## References
- `Authentication.resetPassword`: This function from the `Authentication` module in the `api/api.ts` file is used to make the password reset API call.
- `LoadingSpinner`: This component from the `components/LoadingSpinner.tsx` file is used to display a loading spinner while the API call is in progress.
- `QueryErrors`: This type from the `types/error-response-types.ts` file is used to handle errors from the API call.

## Symbols

### `ResetPassword`
#### Description
This functional component renders the password reset page and handles user interaction.

#### Inputs
This component does not take any props.

#### Outputs
This component renders the password reset page.

#### Internal Logic
1. **Initialization:**
   - Sets up state variables for email, email sent status, and navigation.
   - Defines a mutation using `useMutation` to call the `Authentication.resetPassword` function.
2. **Email Input Handling:**
   - Updates the `email` state variable when the user types in the email input field.
3. **Password Reset Handling:**
   - When the user submits the form, the `handleResetPassword` function is called.
   - The `mutate` function of the mutation is called with the email address.
   - If the API call is successful, the `isEmailSent` state is set to true.
   - If the API call fails, an error toast is displayed.
4. **Rendering:**
   - If `isEmailSent` is false, it renders a form with an email input field and a "Reset Password" button.
   - If `isEmailSent` is true, it renders a message indicating that a password reset email has been sent.
   - It also renders a loading spinner while the API call is in progress.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| react | Used for building the user interface. |
| react-router-dom | Used for navigation between pages. |
| @tanstack/react-query | Used for making API calls and managing their state. |
| antd | Used for UI components like Card, Input, Button, and Form. |
| react-toastify | Used for displaying toast notifications. |

## Error Handling
The component uses the `onError` callback of the `useMutation` hook to handle errors from the API call. It displays an error toast with the error message received from the API.

## Logging
This component does not implement any logging mechanisms.
