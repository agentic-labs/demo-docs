---
title: "state.ts"
---

## High-level description
This code defines the initial state for a plan context in a React application. It sets up default values for various plan-related properties, including current and replacement plans, their versions, experiment name, and date range.

## Code Structure
The file exports a single object, `initialState`, which contains the default values for the plan context state.

## References
This code is referenced by and used in the PlanContext, specifically in the `context.tsx` file where it's imported to initialize the context state.

## Symbols

### `randomName`
#### Description
Generates a random name for the experiment by concatenating "experiment-" with a random string.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| randomName | string | A randomly generated experiment name |

#### Internal Logic
1. Uses `Math.random()` to generate a random number.
2. Converts the random number to a base-36 string.
3. Takes a substring of the result (characters 7 onwards).
4. Concatenates "experiment-" with this substring.

### `initialState`
#### Description
Defines the initial state object for the plan context.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| initialState | State | An object containing initial values for the plan context state |

#### Internal Logic
Sets default values for various properties of the state:
- `currentPlan`: null
- `currentPlanVersion`: null
- `replacementPlan`: null
- `replacementPlanVersion`: null
- `onSubstitutionChange`: null
- `experimentName`: set to the randomly generated `randomName`
- `dateRange`: null

## Dependencies
This file depends on the `State` type imported from the `./types` file.

## Configuration
The initial state serves as a configuration for the plan context. Here's a breakdown of the options:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| currentPlan | PlanType \| null | null | The current plan |
| currentPlanVersion | PlanVersionType \| null | null | The version of the current plan |
| replacementPlan | PlanType \| null | null | The replacement plan |
| replacementPlanVersion | PlanVersionType \| null | null | The version of the replacement plan |
| onSubstitutionChange | (() =&gt; void) \| null | null | Callback function for substitution changes |
| experimentName | string | random string | Name of the experiment |
| dateRange | string \| null | null | Date range for the plan |

This initial state configuration ensures that the plan context starts with empty or default values, which can be updated later using the context's action creators.