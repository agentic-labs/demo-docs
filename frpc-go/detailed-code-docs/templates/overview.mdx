---
title: "Overview"
---

## High-level description
This directory contains a set of Go template files used for generating code related to gRPC-like services using a custom RPC framework called Frisbee. The templates are designed to create client and server implementations, interfaces, constants, and other necessary components for a complete RPC system.

## What does it do?
The templates in this directory work together to generate a complete RPC (Remote Procedure Call) system. Here's a breakdown of the main components:

1. It creates interfaces for the defined services, allowing for easy implementation and mocking.
2. It generates client-side code that allows applications to make RPC calls to the defined services.
3. It produces server-side code that implements the service interfaces and handles incoming RPC requests.
4. It defines constants and utility functions for error handling and flag management.
5. It creates custom encoding and decoding logic for efficient data transmission.
6. It generates standardized headers and import statements for the generated Go files.

The generated code provides a framework for developers to easily implement and use RPC services in their Go applications, handling both unary and streaming calls.

## Entry points
The main entry point for the code generation process is the `Generate` function in the `server.templ` file. This function orchestrates the entire code generation process, using other templates as needed. The process typically follows this flow:

1. The `Generate` function receives a `CodeGeneratorRequest` containing Protocol Buffer definitions.
2. It creates a new plugin instance and executes templates for custom encoding, decoding, and fields.
3. It iterates through the files in the request, generating code for each file using the defined templates.
4. The generated code is assembled into a `CodeGeneratorResponse` and returned.

The `base.templ` file serves as a high-level template that includes other sub-templates (interfaces, constants, server, and client) based on the presence of services.

## Key Files
1. `base.templ`: The main template that orchestrates the inclusion of other sub-templates.
2. `client.templ`: Generates client-side code for making RPC calls.
3. `server.templ`: Contains the `Generator` struct and methods for generating server-side code.
4. `interfaces.templ`: Defines interfaces for the RPC services.
5. `constants.templ`: Defines constants and utility functions for error handling and flags.
6. `headers.templ`: Generates standardized headers for the generated Go files.
7. `imports.templ`: Handles import statements for the generated code.

## Dependencies
The code generation system relies on several external libraries and frameworks:

1. `github.com/loopholelabs/frisbee-go`: The underlying RPC framework used for communication.
2. `github.com/rs/zerolog`: Used for logging in the generated client code.
3. `github.com/loopholelabs/polyglot/v2`: Used for code generation utilities.
4. `google.golang.org/protobuf`: Used for working with Protocol Buffer definitions.

## Configuration
The templates use various configuration options passed through the context, including:

- `.pluginVersion`: The version of the code generation plugin.
- `.sourcePath`: The path of the source Protocol Buffer file.
- `.package`: The Go package name for the generated code.
- `.numServices`: The number of services defined in the Protocol Buffer.
- `.numMethods` and `.numStreamMethods`: Counts of regular and streaming methods.

These configuration options allow the templates to adapt the generated code based on the specific services and methods defined in the Protocol Buffer files.

In summary, this directory contains a comprehensive set of templates for generating a custom RPC system based on Protocol Buffer definitions. It provides both client and server implementations, handling various types of RPC calls and offering a flexible framework for developers to build distributed systems.