---
title: "20230207110702_add_document_locale_to_customers_and_organizations.rb"
---

## High-level description
This migration adds a `document_locale` column to both the `organizations` and `customers` tables in the database. It sets a default value and non-null constraint for organizations but not for customers.

## Symbols

### `AddDocumentLocaleToCustomersAndOrganizations`
#### Description
This class is an ActiveRecord migration that defines changes to be applied to the database schema. It adds a new column called `document_locale` to both the `organizations` and `customers` tables.

#### Internal Logic
The migration uses the `change` method to define the following actions:
1. Adds a `document_locale` column to the `organizations` table with the following specifications:
   - Data type: string
   - Default value: 'en' (English)
   - Null constraint: false (not nullable)
2. Adds a `document_locale` column to the `customers` table with the following specification:
   - Data type: string
   - No default value
   - Nullable (null constraint not specified)

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord::Migration | Provides the framework for defining database schema changes |

## Notes
1. The migration is using Rails 7.0, as indicated by `ActiveRecord::Migration[7.0]`.
2. The file is marked with `# frozen_string_literal: true`, which is a Ruby optimization that prevents the modification of string literals within the file.
3. The `document_locale` column for organizations has a default value of 'en' and cannot be null, suggesting that all organizations must have a document locale specified, defaulting to English.
4. The `document_locale` column for customers does not have a default value or a null constraint, allowing it to be optional for customers.
5. This migration allows for the storage of locale preferences for documents associated with organizations and customers, which could be used for internationalization or localization purposes in the application.