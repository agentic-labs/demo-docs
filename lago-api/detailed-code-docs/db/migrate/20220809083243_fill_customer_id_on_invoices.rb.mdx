---
title: "20220809083243_fill_customer_id_on_invoices.rb"
---

## High-level description
This file defines a Rails database migration named `FillCustomerIdOnInvoices`. The migration is intended to fill the `customer_id` field on invoices, but the implementation is currently empty.

## Symbols

### `FillCustomerIdOnInvoices`
#### Description
This class is a Rails database migration that inherits from `ActiveRecord::Migration[7.0]`. It is designed to modify the database schema or data related to invoices and customers.

#### Internal Logic
The `change` method is defined but currently empty. This method is typically used to define the changes that should be applied to the database when the migration is run.

## TODOs
The migration is currently empty and needs to be implemented. The developer should add the necessary logic inside the `change` method to fill the `customer_id` on invoices. This might involve:

1. Querying existing invoices that don't have a `customer_id`.
2. Determining the correct `customer_id` for each invoice.
3. Updating the invoices with the appropriate `customer_id`.

For example, the implementation might look something like this:

```ruby
def change
  Invoice.where(customer_id: nil).find_each do |invoice|
    # Logic to determine the correct customer_id
    customer_id = # ... determine customer_id based on invoice data
    invoice.update(customer_id: customer_id)
  end
end
```

Note that the actual implementation will depend on the specific requirements and data structure of the application.