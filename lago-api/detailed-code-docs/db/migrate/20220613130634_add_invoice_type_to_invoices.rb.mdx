---
title: "20220613130634_add_invoice_type_to_invoices.rb"
---

## High-level description
This migration file adds a new column called `invoice_type` to the `invoices` table in the database. The column is defined as an integer with a default value of 0 and is set to not allow null values.

## Symbols

### `AddInvoiceTypeToInvoices`
#### Description
This class is a Rails migration that inherits from `ActiveRecord::Migration[7.0]`. It defines a change to be applied to the database schema.

#### Internal Logic
The migration uses the `change` method to define the modification to the database. Inside this method, it calls `add_column` to add a new column to the `invoices` table.

The `add_column` method is used with the following parameters:
1. `:invoices` - the name of the table to modify
2. `:invoice_type` - the name of the new column
3. `:integer` - the data type of the new column
4. `null: false` - specifies that the column cannot contain null values
5. `default: 0` - sets the default value for the column to 0

This migration will add an `invoice_type` column to the `invoices` table when it is run. The column will be an integer, cannot be null, and will default to 0 if no value is specified when creating a new invoice.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord::Migration | Provides the framework for modifying the database schema in a structured and reversible way |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| invoice_type | integer | 0 | Represents the type of invoice, defaulting to 0 if not specified |

Note: The specific meanings of different `invoice_type` values are not defined in this migration. They would typically be defined in the corresponding model or through an enum in Rails.