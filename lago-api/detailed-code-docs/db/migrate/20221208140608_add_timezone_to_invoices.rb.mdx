---
title: "20221208140608_add_timezone_to_invoices.rb"
---

## High-level description
This migration adds a 'timezone' column to the 'invoices' table in the database. The new column is set to be non-nullable with a default value of 'UTC'.

## Symbols

### AddTimezoneToInvoices
#### Description
This class is an ActiveRecord migration that defines a change to be applied to the database schema. It inherits from `ActiveRecord::Migration[7.0]`, indicating it's compatible with Rails 7.0.

#### Internal Logic
The migration uses the `change` method to define the modification to the database schema. Inside this method, it calls `add_column` to add a new column to the 'invoices' table.

### change
#### Description
This method defines the changes to be applied to the database schema when the migration is run.

#### Internal Logic
The method calls `add_column` with the following parameters:
- `:invoices`: The name of the table to modify
- `:timezone`: The name of the new column to add
- `:string`: The data type of the new column
- `null: false`: Specifies that the column cannot contain null values
- `default: 'UTC'`: Sets the default value for the column to 'UTC'

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord | Provides the migration framework for database schema modifications |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| timezone | string | 'UTC' | The default timezone for invoices |

## Notes
1. This migration ensures that all invoices will have a timezone associated with them, defaulting to 'UTC' if not specified.
2. The use of `null: false` ensures data integrity by preventing null values in the timezone column.
3. The migration is reversible by default, meaning Rails can automatically generate the code to undo this change if needed.
4. The file name includes a timestamp (20221208140608) which determines the order in which migrations are run.