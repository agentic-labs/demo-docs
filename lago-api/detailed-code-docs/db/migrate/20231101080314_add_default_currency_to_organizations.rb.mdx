---
title: "20231101080314_add_default_currency_to_organizations.rb"
---

## High-level description
This migration adds a new column `default_currency` to the `organizations` table in the database. The column is set to be non-nullable with a default value of 'USD'.

## Symbols

### `AddDefaultCurrencyToOrganizations`
#### Description
This class is a Rails migration that extends `ActiveRecord::Migration[7.0]`. It defines a change to be applied to the database schema.

#### Internal Logic
The migration uses the `change` method to define a reversible database change. It adds a new column named `default_currency` to the `organizations` table with the following specifications:
- Column name: `default_currency`
- Data type: `string`
- Constraints: `null: false` (not allowing null values)
- Default value: `'USD'`

The `add_column` method is used to perform this operation, which is part of the Rails migration DSL (Domain Specific Language).

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord::Migration | Provides the framework for defining database schema changes in Rails applications |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| default_currency | string | 'USD' | Sets the default currency for organizations |

## Notes
1. This migration is automatically reversible. Rails can infer how to reverse this change (by removing the column) without an explicit `down` method.
2. The migration is timestamped (20231101080314), which helps maintain the order of migrations.
3. The use of `frozen_string_literal: true` at the top of the file is a Ruby optimization that makes all string literals in the file frozen, potentially improving performance and memory usage.