---
title: "20220915092730_add_currency_to_customers.rb"
---

## High-level description
This migration file adds a new column called 'currency' to the 'customers' table in the database. It's part of a Rails application using ActiveRecord for database management.

## Symbols

### `AddCurrencyToCustomers`
#### Description
This class is a Rails migration that inherits from `ActiveRecord::Migration[7.0]`. It defines a change to be applied to the database schema.

#### Internal Logic
The migration uses the `change` method to define the modification to the database. Inside this method, it calls `add_column` to add a new column to the 'customers' table.

### `change`
#### Description
This method specifies the changes to be made to the database schema when the migration is run.

#### Internal Logic
The method uses the `add_column` method to add a new column to the 'customers' table. The new column has the following characteristics:
- Table name: `:customers`
- Column name: `:currency`
- Data type: `:string`

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord | Provides the migration framework and database abstraction |

## Notes
1. The migration is timestamped (20220915092730), which determines the order in which migrations are run.
2. The `# frozen_string_literal: true` comment at the top of the file is a Ruby optimization that prevents the creation of new string objects every time a string literal is used in the file.
3. This migration is reversible by default. Rails can automatically figure out how to reverse this change (by removing the column) if needed.
4. No default value is specified for the new 'currency' column, so it will be NULL for existing records unless updated.
5. The string data type is used for the 'currency' column, which is suitable for storing currency codes (e.g., "USD", "EUR", "JPY").