---
title: "20240104152816_add_ready_to_be_refreshed_to_invoices.rb"
---

## High-level description
This migration adds a new boolean column `ready_to_be_refreshed` to the `invoices` table in the database. The column is set to have a default value of `false` and is not nullable.

## Symbols

### `AddReadyToBeRefreshedToInvoices`
#### Description
This class is an ActiveRecord migration that defines a change to be applied to the database schema. It inherits from `ActiveRecord::Migration[7.0]`, indicating it's compatible with Rails 7.0 migration framework.

#### Internal Logic
The migration uses the `change` method to define a reversible database change. It adds a new column to the `invoices` table using the `add_column` method.

### `change`
#### Description
This method specifies the changes to be made to the database schema. In this case, it adds a new column to the `invoices` table.

#### Internal Logic
The method calls `add_column` with the following parameters:
- `:invoices`: The name of the table to modify
- `:ready_to_be_refreshed`: The name of the new column
- `:boolean`: The data type of the new column
- `default: false`: Sets the default value of the column to `false`
- `null: false`: Specifies that the column cannot contain null values

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord | Provides the migration framework for database schema changes |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| ready_to_be_refreshed | boolean | false | Indicates whether an invoice is ready to be refreshed |

Note: This migration will automatically create an index on the `ready_to_be_refreshed` column due to it being a boolean column with a default value and a not-null constraint. This is a standard optimization in many database systems.