---
title: "20230907064335_add_invoice_display_name_to_plans.rb"
---

## High-level description
This migration adds a new column called `invoice_display_name` of type `string` to the `plans` table in the database. This allows for storing a display name for invoices associated with each plan.

## Symbols

### `AddInvoiceDisplayNameToPlans`
#### Description
This class is an ActiveRecord migration that defines a change to be applied to the database schema. It inherits from `ActiveRecord::Migration[7.0]`, indicating it's compatible with Rails 7.0 migration framework.

#### Internal Logic
The migration uses the `change` method to define a reversible database change. It calls the `add_column` method to add a new column to the `plans` table.

### `change`
#### Description
This method defines the changes to be applied to the database schema when the migration is run.

#### Internal Logic
The method calls `add_column` with the following arguments:
1. `:plans` - the name of the table to modify
2. `:invoice_display_name` - the name of the new column
3. `:string` - the data type of the new column

This will add a new string column named `invoice_display_name` to the `plans` table.

## Side Effects
When this migration is run, it will modify the database schema by adding a new column to the `plans` table. This change is reversible, meaning Rails can automatically generate the code to undo this change if needed.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord | Provides the migration framework and database abstraction |

Note: The `# frozen_string_literal: true` comment at the top of the file is a Ruby directive that helps improve performance by preventing the creation of new string objects for string literals in this file.