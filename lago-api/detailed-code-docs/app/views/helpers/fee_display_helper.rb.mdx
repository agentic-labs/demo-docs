---
title: "fee_display_helper.rb"
---

## High-level description
The `FeeDisplayHelper` class provides utility methods for displaying fee-related information in the application. It includes methods for formatting grouped fee displays and determining whether a subscription fee should be displayed on an invoice.

## Symbols

### `FeeDisplayHelper`
#### Description
A helper class containing class methods for fee display logic.

### `FeeDisplayHelper.grouped_by_display`
#### Description
Formats and returns a string representation of grouped fee information.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| fee | Fee | The fee object containing charge and grouped_by information |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | String | Formatted string of grouped fee information or an empty string |

#### Internal Logic
1. Check if the fee has a charge. If not, return an empty string.
2. Check if the fee's charge has a 'grouped_by' property. If not, return an empty string.
3. Check if the fee's grouped_by values are present. If not, return an empty string.
4. If all checks pass, return a formatted string with grouped_by values joined by bullet points.

### `FeeDisplayHelper.should_display_subscription_fee?`
#### Description
Determines whether a subscription fee should be displayed on an invoice.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| invoice_subscription | InvoiceSubscription | The invoice subscription object to evaluate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Boolean | True if the subscription fee should be displayed, false otherwise |

#### Internal Logic
1. Return false if the invoice_subscription is blank.
2. Return false if the associated invoice uses progressive billing.
3. Return true if the charge amount is zero.
4. Return true if the subscription amount is positive.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| frozen_string_literal | Ensures that the file is interpreted as UTF-8 encoded and that all string literals are frozen |

Note: This code relies on the existence of `Fee`, `InvoiceSubscription`, and related models, which are not directly visible in this file but are assumed to be part of the application's domain model.