---
title: "customer_checkout_service.rb"
---

## High-level description
This code defines a service class `CustomerCheckoutService` within the `Webhooks::PaymentProviders` module. It is responsible for handling webhook events related to customer checkout URL generation in a payment provider context.

## Code Structure
The `CustomerCheckoutService` class inherits from `Webhooks::BaseService` and defines several private methods that are likely used by the parent class to process the webhook event.

## References
This code references:
- `Webhooks::BaseService` (parent class)
- `::V1::PaymentProviders::CustomerCheckoutSerializer` (for object serialization)

## Symbols

### `Webhooks::PaymentProviders::CustomerCheckoutService`
#### Description
This service class handles the webhook event for when a customer checkout URL is generated. It provides methods to retrieve the current organization, serialize the object, and define the webhook and object types.

#### Internal Logic
The class relies on inheritance from `Webhooks::BaseService` and likely uses the defined private methods to process the webhook event.

### `#current_organization`
#### Description
Retrieves the organization associated with the object being processed.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| @current_organization | Organization | The organization associated with the object |

### `#object_serializer`
#### Description
Creates a new instance of `CustomerCheckoutSerializer` to serialize the object.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| serializer | CustomerCheckoutSerializer | Serializer instance for the object |

#### Internal Logic
- Creates a new `CustomerCheckoutSerializer` instance
- Passes the `object`, `root_name`, and `checkout_url` as options to the serializer

### `#webhook_type`
#### Description
Defines the type of webhook event being processed.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| webhook_type | String | The type of webhook event ('customer.checkout_url_generated') |

### `#object_type`
#### Description
Defines the type of object being processed in the webhook.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| object_type | String | The type of object ('payment_provider_customer_checkout_url') |

## Dependencies
This code depends on the `::V1::PaymentProviders::CustomerCheckoutSerializer` class for object serialization.

## API/Interface Reference
While not explicitly defined in this file, the `CustomerCheckoutService` is referenced in the `SendWebhookJob` (from the related snippets) and is associated with the 'customer.checkout_url_generated' webhook type. This suggests that it is part of a larger webhook processing system.

| Webhook Type | Service Class |
|:-------------|:--------------|
| 'customer.checkout_url_generated' | Webhooks::PaymentProviders::CustomerCheckoutService |

The service likely processes webhook events related to customer checkout URL generation, potentially triggered when a payment provider generates a checkout URL for a customer.