---
title: "Overview"
---

## High-level description
This code defines a service class `PayInAdvanceCreatedService` within the `Webhooks::Fees` module. It is responsible for handling webhook events related to the creation of pay-in-advance fees. The service prepares the necessary data for sending a webhook notification when a new fee is created.

## Code Structure
The `PayInAdvanceCreatedService` class inherits from `Webhooks::BaseService`. It overrides several private methods to provide specific implementations for fee-related webhooks.

## References
This code references the following:
- `Webhooks::BaseService`
- `::V1::FeeSerializer`

## Symbols

### `Webhooks::Fees::PayInAdvanceCreatedService`
#### Description
This service class is responsible for handling the creation of webhooks for pay-in-advance fees. It provides specific implementations for fee-related data and webhook types.

#### Internal Logic
The class overrides four private methods from the base class:
1. `current_organization`: Retrieves the organization associated with the fee's customer.
2. `object_serializer`: Creates a new instance of `::V1::FeeSerializer` to serialize the fee object.
3. `webhook_type`: Defines the type of webhook as 'fee.created'.
4. `object_type`: Specifies the object type as 'fee'.

These methods are used by the base class to construct and send the webhook payload.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Webhooks::BaseService | Parent class providing the main webhook functionality |
| ::V1::FeeSerializer | Serializes the fee object for the webhook payload |

## API/Interface Reference
While this class doesn't directly expose an API, it is part of the webhook system. The webhook payload will have the following structure:
| Field | Description |
|:------|:------------|
| webhook_type | 'fee.created' |
| object_type | 'fee' |
| fee | Serialized fee object |

The exact structure of the serialized fee object can be found in the `V1::FeeSerializer` class.