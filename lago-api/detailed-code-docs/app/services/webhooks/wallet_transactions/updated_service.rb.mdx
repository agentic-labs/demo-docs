---
title: "updated_service.rb"
---

## High-level description
This code defines the `UpdatedService` class within the `Webhooks::WalletTransactions` module. It is a specialized service for handling webhook notifications when a wallet transaction is updated. The class inherits from `Webhooks::BaseService` and provides specific implementations for wallet transaction-related webhook processing.

## Code Structure
The `UpdatedService` class is part of a larger webhook handling system. It inherits from `Webhooks::BaseService` and overrides several private methods to provide wallet transaction-specific functionality.

## References
- `Webhooks::BaseService`
- `::V1::WalletTransactionSerializer`

## Symbols

### `Webhooks::WalletTransactions::UpdatedService`
#### Description
This class is responsible for preparing and sending webhook notifications when a wallet transaction is updated. It inherits from `Webhooks::BaseService` and customizes the behavior for wallet transaction updates.

#### Internal Logic
The class overrides four private methods from the base class:
1. `current_organization`: Retrieves the organization associated with the wallet transaction.
2. `object_serializer`: Creates a new instance of `V1::WalletTransactionSerializer` for the wallet transaction.
3. `webhook_type`: Defines the type of webhook as 'wallet_transaction.updated'.
4. `object_type`: Specifies the object type as 'wallet_transaction'.

These methods are used by the `call` method in the base class to prepare and send the webhook notification.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `Webhooks::BaseService` | Parent class providing the main webhook handling logic |
| `::V1::WalletTransactionSerializer` | Serializes the wallet transaction object for the webhook payload |

## Error Handling
This class doesn't implement any specific error handling. Error handling is likely managed in the parent `BaseService` class or in the job that processes the webhook.

## API/Interface Reference
While this class doesn't directly expose an API, it is part of the webhook system. The webhook payload for a wallet transaction update will have the following structure:

| Field | Description |
|:------|:------------|
| `webhook_type` | 'wallet_transaction.updated' |
| `object_type` | 'wallet_transaction' |
| `wallet_transaction` | Serialized wallet transaction data |

The exact structure of the serialized wallet transaction data can be found in the `V1::WalletTransactionSerializer` class.