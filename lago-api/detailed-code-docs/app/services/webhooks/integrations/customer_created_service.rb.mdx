---
title: "customer_created_service.rb"
---

## High-level description
This code defines a service class `CustomerCreatedService` within the `Webhooks::Integrations` module. It is responsible for handling webhook events related to customer creation in an accounting provider integration. The service extends the `Webhooks::BaseService` class and provides specific implementations for webhook-related operations.

## Code Structure
The `CustomerCreatedService` class is part of the `Webhooks::Integrations` module and inherits from `Webhooks::BaseService`. It defines private methods that provide specific implementations for the webhook service.

## Symbols

### `Webhooks::Integrations::CustomerCreatedService`
#### Description
This class handles the creation of webhook events when a customer is created in an accounting provider integration. It provides specific implementations for the current organization, object serialization, webhook type, and object type.

#### Internal Logic
The class defines four private methods:

1. `current_organization`: Retrieves the organization associated with the object.
2. `object_serializer`: Creates a new instance of `V1::CustomerSerializer` to serialize the customer object.
3. `webhook_type`: Defines the type of webhook event as 'customer.accounting_provider_created'.
4. `object_type`: Specifies the object type as 'customer'.

These methods are likely used by the parent `Webhooks::BaseService` class to construct and send the webhook payload.

## References
- The class references `V1::CustomerSerializer` for object serialization.
- It inherits from `Webhooks::BaseService`, which is not provided in the given code snippets.

## Dependencies
The code depends on the following:
- `Webhooks::BaseService` (parent class)
- `V1::CustomerSerializer` (for object serialization)

Based on the related code snippets:

1. The `SendWebhookJob` class in `app/jobs/send_webhook_job.rb` uses this service class for the 'customer.accounting_provider_created' webhook type.
2. The `V1::CustomerSerializer` in `app/serializers/v1/customer_serializer.rb` is used to serialize the customer object, including various customer attributes and related data.

This service class plays a crucial role in the webhook system, specifically handling customer creation events in the context of accounting provider integrations.