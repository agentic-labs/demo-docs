---
title: "base_service.rb"
---

## High-level description
This code defines a base service class `BaseService` within the `IntegrationCustomers` module. It provides a foundation for handling integration customer-related operations, including initialization, basic validation, and common attribute accessors.

## Code Structure
The `BaseService` class inherits from a parent `BaseService` class and defines methods and attributes that are common to integration customer services. It sets up the basic structure for initialization, validation, and accessing common parameters.

## Symbols

### `IntegrationCustomers::BaseService`
#### Description
This class serves as a base for integration customer services, providing common functionality and structure.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Hash | Parameters for the integration customer operation |
| integration | Object | The integration object associated with the customer |

#### Internal Logic
1. Initializes the service with params and integration
2. Implements a basic `call` method that checks for the presence of the integration
3. Provides private methods for accessing common attributes and parsing parameters

### `initialize`
#### Description
Initializes the service with the given parameters and integration.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Hash | Parameters for the integration customer operation |
| integration | Object | The integration object associated with the customer |

### `call`
#### Description
Performs a basic validation check for the presence of the integration.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Object | The result object containing success/failure status and any relevant data |

### `sync_with_provider`
#### Description
Parses and casts the `sync_with_provider` parameter to a boolean value.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| sync_with_provider | Boolean | Indicates whether to sync with the provider |

### `customer_type`
#### Description
Determines the customer type based on the integration type.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| customer_type | String | The type of the customer based on the integration type |

### `subsidiary_id`
#### Description
Retrieves the subsidiary ID from the params.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| subsidiary_id | String/Integer | The ID of the subsidiary |

### `external_customer_id`
#### Description
Retrieves the external customer ID from the params.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| external_customer_id | String | The external ID of the customer |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveModel::Type::Boolean | Used for casting the `sync_with_provider` parameter to a boolean value |

## References
This base service is likely used by other services in the `IntegrationCustomers` module, such as `CreateService` and `AnrokService`, which were provided in the related code snippets. These services extend or utilize the functionality provided by `BaseService`.