---
title: "update_service.rb"
---

## High-level description
This code defines the `UpdateService` class within the `PaymentProviderCustomers` module. Its primary purpose is to update a payment provider customer's information by delegating the update operation to the appropriate service based on the customer's payment provider.

## Code Structure
The `UpdateService` class inherits from `BaseService` and contains a single public method `call`. It uses the `PaymentProviderCustomers::Factory` to create the appropriate service instance for updating the customer's information.

## Symbols

### `PaymentProviderCustomers::UpdateService`
#### Description
This class is responsible for updating a payment provider customer's information. It acts as a wrapper around the specific payment provider services (e.g., Stripe, GoCardless, Adyen).

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| customer | Object | The customer object to be updated |

#### Internal Logic
1. Initializes the service with a customer object.
2. In the `call` method:
   - Uses `PaymentProviderCustomers::Factory` to create an instance of the appropriate service based on the customer's provider.
   - Calls the `update` method on the created service instance.
   - Raises an error if the update operation fails.
   - Returns the result of the update operation.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| PaymentProviderCustomers::Factory | Used to create the appropriate service instance for updating the customer |

## Error Handling
The service uses the `raise_if_error!` method to handle errors. If the update operation fails, it will raise an exception.

## References
- `BaseService`: The parent class that this service inherits from.
- `PaymentProviderCustomers::Factory`: Used to create the appropriate service instance for updating the customer.

This service is designed to be flexible and extensible, allowing for easy addition of new payment providers by updating the `Factory` class and implementing the corresponding provider-specific service.