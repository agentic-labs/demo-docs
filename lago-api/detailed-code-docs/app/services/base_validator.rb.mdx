---
title: "base_validator.rb"
---

## High-level description
The `BaseValidator` class serves as a foundation for validation services in the application. It provides a structure for initializing validation objects, managing errors, and checking for the presence of errors.

## Code Structure
The `BaseValidator` class defines a basic structure with an initializer and protected methods for error handling. It is designed to be inherited by specific validator classes, as seen in the related code snippets (e.g., `Wallets::ValidateService`, `Subscriptions::ValidateService`).

## Symbols

### `BaseValidator`
#### Description
This class provides a base structure for validators in the application. It initializes with a result object and additional arguments, and manages an errors hash.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Object | The result object to be used in the validation process |
| **args | Hash | Additional arguments passed to the validator |

#### Internal Logic
- Initializes with a result object and additional arguments
- Converts arguments to a hash with indifferent access
- Initializes an empty errors hash

### `initialize`
#### Description
Initializes the BaseValidator with a result object and additional arguments.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Object | The result object to be used in the validation process |
| **args | Hash | Additional arguments passed to the validator |

### `add_error`
#### Description
Adds an error to the errors hash for a specific field.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| field | Symbol/String | The field associated with the error |
| error_code | String | The error code to be added |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| return value | Boolean | Always returns false |

#### Internal Logic
- Ensures the field exists as a key in the errors hash
- Appends the error code to the array of errors for the field
- Returns false

### `errors?`
#### Description
Checks if there are any errors present in the errors hash.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| return value | Boolean | True if errors are present, false otherwise |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveSupport::HashWithIndifferentAccess | Used to create a hash that can be accessed with either strings or symbols as keys |

## Error Handling
The class provides a mechanism for adding and checking errors through the `add_error` and `errors?` methods. These methods are used by child classes to manage validation errors.