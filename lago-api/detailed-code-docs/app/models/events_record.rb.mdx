---
title: "events_record.rb"
---

## High-level description
The `EventsRecord` class is an abstract base class for ActiveRecord models that connect to a specific database named "events" for both reading and writing operations. It extends the functionality of `ApplicationRecord` and sets up a dedicated database connection for event-related models.

## Code Structure
The `EventsRecord` class inherits from `ApplicationRecord`, which in turn inherits from `ActiveRecord::Base`. This creates a hierarchy of abstract classes that provide database connectivity and ORM (Object-Relational Mapping) functionality for the application's models.

## References
- `ApplicationRecord`: The parent class of `EventsRecord`, which is defined in `app/models/application_record.rb`.

## Symbols

### `EventsRecord`
#### Description
`EventsRecord` is an abstract base class for ActiveRecord models that need to interact with the "events" database. It sets up the database connection configuration for reading and writing operations.

#### Internal Logic
1. The class is defined as an abstract class using `self.abstract_class = true`. This means that the class is not meant to be instantiated directly but serves as a base for other model classes.
2. It uses the `connects_to` method to specify the database connection configuration. Both reading and writing operations are set to use the "events" database.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ActiveRecord | Provides ORM functionality and database interaction capabilities |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| `abstract_class` | Boolean | `true` | Marks the class as abstract, preventing direct instantiation |
| `connects_to` | Hash | `{writing: :events, reading: :events}` | Specifies the database connection configuration for reading and writing operations |

## Notes
1. This class is designed to be inherited by other model classes that need to interact with the "events" database. Child classes will automatically use the "events" database for their operations.
2. The use of a separate database for events suggests that the application might be implementing a form of event sourcing or maintaining a dedicated event log.
3. The `frozen_string_literal: true` comment at the top of the file enables frozen string literals, which can improve performance and memory usage in Ruby.
4. This setup allows for potential future expansion, such as using different databases for reading and writing operations if needed (e.g., for implementing read replicas).