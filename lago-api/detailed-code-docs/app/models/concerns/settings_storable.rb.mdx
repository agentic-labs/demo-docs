---
title: "settings_storable.rb"
---

## High-level description
The `SettingsStorable` module provides a convenient way to store and retrieve settings as key-value pairs within a `settings` hash attribute on ActiveRecord models. It defines helper methods for defining accessors for settings, pushing values to settings, and retrieving values from settings.

## Code Structure
The `SettingsStorable` module uses `settings_accessors` class method to define getter and setter methods for each setting. These methods interact with `push_to_settings` and `get_from_settings` instance methods to store and retrieve values from the `settings` hash.

## Symbols

### `SettingsStorable`
#### Description
This module provides methods for storing and retrieving settings as key-value pairs within a `settings` hash attribute on ActiveRecord models.

#### Inputs
This module doesn't have any direct inputs.

#### Outputs
This module doesn't have any direct outputs.

#### Internal Logic
The module defines two main functionalities:

1. **Class Methods:**
    - `settings_accessors(*method_names)`: This method takes a list of method names as arguments. For each method name, it defines two methods:
        - A getter method with the same name as the provided method name. This method retrieves the value associated with the method name (as a string key) from the `settings` hash.
        - A setter method with the provided method name followed by an equals sign (`=`). This method updates the value associated with the method name (as a string key) in the `settings` hash.

2. **Instance Methods:**
    - `push_to_settings(key:, value:)`: This method takes a key and a value as arguments and updates the `settings` hash with the provided key-value pair. If the `settings` hash is nil, it initializes it as an empty hash before updating it.
    - `get_from_settings(key)`: This method takes a key as an argument and retrieves the value associated with the key from the `settings` hash. If the `settings` hash is nil, it returns nil.

## Side Effects
This module modifies the `settings` attribute of the ActiveRecord model it is included in.

## References
This module uses the `ActiveSupport::Concern` module to include its functionality in other classes.
