---
title: "Overview"
---

## High-level description
This directory contains serializer classes for the V1 API of a Ruby on Rails application. These serializers are responsible for converting complex model objects into JSON-compatible hash structures suitable for API responses. The serializers handle various entities such as add-ons, applied coupons, billable metrics, charges, customers, invoices, plans, subscriptions, taxes, wallets, and more.

## What does it do?
The serializers in this directory perform the following key functions:

1. Convert complex model objects into simplified JSON structures for API responses.
2. Handle the inclusion of nested or associated data based on specified options.
3. Format dates and times into ISO8601 strings for consistency.
4. Calculate and include derived attributes or counts where necessary.
5. Provide a consistent interface for serializing different types of objects across the API.

These serializers play a crucial role in presenting data in a uniform and easily consumable format for API clients, ensuring that the API responses are consistent and well-structured regardless of the underlying complexity of the data models.

## Key Files
1. `add_on_serializer.rb`: Serializes AddOn objects, including associated taxes.
2. `applied_coupon_serializer.rb`: Handles the serialization of AppliedCoupon objects, including associated credits.
3. `billable_metric_serializer.rb`: Serializes BillableMetric objects, including filters and various counts.
4. `charge_serializer.rb`: Formats Charge objects, including associated taxes and filters.
5. `customer_serializer.rb`: Serializes Customer objects, handling metadata, billing configuration, and taxes.
6. `invoice_serializer.rb`: Provides a comprehensive serialization of Invoice objects, including associated customer, subscriptions, fees, credits, and taxes.
7. `plan_serializer.rb`: Handles the serialization of Plan objects, including charges, taxes, and usage thresholds.
8. `subscription_serializer.rb`: Serializes Subscription objects, optionally including associated customer, plan, and usage threshold data.
9. `tax_serializer.rb`: Formats Tax objects, including counts of related entities.
10. `wallet_serializer.rb`: Serializes Wallet objects, handling recurring transaction rules when specified.

## Dependencies
All serializers in this directory depend on:

1. `ModelSerializer`: A base class providing fundamental serialization functionality, likely from a gem like `active_model_serializers`.
2. `CollectionSerializer`: Used for serializing collections of associated objects.
3. Ruby's built-in `JSON` module: Implicitly used for JSON parsing and generation.

## Configuration
While there are no explicit configuration files for these serializers, they follow consistent patterns and conventions:

1. Use of `lago_` prefixes for IDs to maintain consistency across the API.
2. Consistent date formatting using ISO8601.
3. Handling of monetary values in cents with separate currency fields.
4. Use of the `include?` method to conditionally include associated data based on serialization options.

These serializers form a crucial part of the API's data presentation layer, ensuring that complex application data is transformed into consistent, easily consumable JSON structures for API clients. They provide a clean separation between the internal data models and their external API representations, allowing for flexibility in evolving the API without necessarily changing the underlying data structures.