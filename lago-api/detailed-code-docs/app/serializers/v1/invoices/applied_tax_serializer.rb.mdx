---
title: "applied_tax_serializer.rb"
---

## High-level description
The `V1::Invoices::AppliedTaxSerializer` class is a serializer responsible for converting an `AppliedTax` model instance into a JSON-serializable hash structure. This structure represents the applied tax information for an invoice in the Lago API.

## Code Structure
This code defines a single class `AppliedTaxSerializer` which inherits from `ModelSerializer`. The `serialize` method overrides the parent's method to define a custom serialization logic.

## References
- `ModelSerializer`: This class is the parent class and provides basic serialization functionality.
- `AppliedTax`: This is the model class that this serializer is designed to work with.

## Symbols

### `AppliedTaxSerializer`
#### Description
This class serializes an instance of the `AppliedTax` model into a hash representation suitable for JSON output. The hash includes various attributes of the applied tax, such as its ID, associated invoice and tax IDs, tax details (name, code, rate, description), amount, and creation timestamp.

#### Inputs
The `serialize` method doesn't take any explicit inputs besides the implicitly available `model` instance.

#### Outputs
The `serialize` method returns a hash containing the serialized representation of the `AppliedTax` instance.

```
{
  lago_id: integer,
  lago_invoice_id: integer,
  lago_tax_id: integer,
  tax_name: string,
  tax_code: string,
  tax_rate: decimal,
  tax_description: string,
  amount_cents: integer,
  amount_currency: string,
  fees_amount_cents: integer,
  created_at: string (ISO 8601 format)
}
```

#### Internal Logic
The `serialize` method constructs a hash by directly mapping attribute values from the `model` instance. It fetches values for attributes like `id`, `invoice_id`, `tax_id`, `tax_name`, etc., and formats the `created_at` timestamp in ISO 8601 format.

## Dependencies
- `ModelSerializer`: This serializer class inherits from `ModelSerializer`, which provides basic serialization functionality.

## API/Interface Reference
This serializer class itself doesn't expose an API. However, it's used within the context of the Lago API, specifically for representing applied tax information within the response for invoice-related endpoints. 
