---
title: "membership_serializer.rb"
---

## High-level description
This code defines a serializer class, `V1::MembershipSerializer`, that transforms a `Membership` model instance into a JSON-compatible hash representation for API responses. It specifically formats the output to use Lago-specific keys (e.g., `lago_id` instead of `id`).

## Symbols

### `V1::MembershipSerializer`
#### Description
This class inherits from `ModelSerializer` and overrides the `serialize` method to customize the serialization of a `Membership` object into a hash.

#### Inputs
This class doesn't have an explicit input. It operates on the `model` instance variable, which is implicitly set by the parent `ModelSerializer` class.

#### Outputs
Returns a hash representation of a `Membership` object with Lago-specific keys.

#### Internal Logic
The `serialize` method constructs a hash containing the following key-value pairs:
- `lago_id`: The `id` of the `Membership` model instance.
- `lago_user_id`: The `user_id` associated with the `Membership`.
- `lago_organization_id`: The `organization_id` associated with the `Membership`.
- `role`: The `role` of the `Membership`.

## References
- `ModelSerializer`: This serializer class inherits from `ModelSerializer`, indicating it's part of a serialization framework likely provided by a gem like ActiveModelSerializers.
- `Membership`: The code directly interacts with a `Membership` model, suggesting it's responsible for representing memberships within the application.

## Dependencies
- **ActiveModelSerializers**: While not explicitly mentioned, the use of `ModelSerializer` strongly suggests a dependency on the 'active_model_serializers' gem. This gem provides a framework for serializing Ruby objects into JSON. 

## API/Interface Reference
This serializer is used in the `/admin/memberships` endpoint (POST method) to format the response when a new membership is created. 
