---
title: "credit_note_item_serializer.rb"
---

## High-level description
The `CreditNoteItemSerializer` class is responsible for serializing a `CreditNoteItem` object into a hash representation suitable for JSON output. This serializer is specifically designed for the V1 API version.

## Code Structure
The `CreditNoteItemSerializer` inherits from `ModelSerializer` and overrides the `serialize` method to define its custom serialization logic. It also defines a private `fee` method to delegate the serialization of the associated `fee` object to the `FeeSerializer`.

## References
- `ModelSerializer`: The parent class providing basic serialization functionality.
- `FeeSerializer`: Used to serialize the `fee` attribute of a `CreditNoteItem`.

## Symbols

### `CreditNoteItemSerializer`
#### Description
Serializes a `CreditNoteItem` object into a hash representation.

#### Inputs
The `CreditNoteItemSerializer` class itself doesn't have explicit input parameters for its methods. However, it implicitly receives the `CreditNoteItem` object to be serialized via the constructor inherited from `ModelSerializer`.

#### Outputs
The `serialize` method returns a hash containing the serialized representation of the `CreditNoteItem` object.

#### Internal Logic
The `serialize` method constructs a hash with the following keys:
- `lago_id`: The ID of the credit note item.
- `amount_cents`: The amount in cents.
- `amount_currency`: The currency of the amount.
- `fee`: The serialized representation of the associated `fee` object, obtained by calling the private `fee` method.

The `fee` method creates a new instance of `FeeSerializer` with the `fee` object of the `CreditNoteItem` and calls its `serialize` method to obtain its serialized representation.

## Dependencies
- `ModelSerializer`: Provides basic serialization functionality.
- `FeeSerializer`: Used to serialize the `fee` attribute.
