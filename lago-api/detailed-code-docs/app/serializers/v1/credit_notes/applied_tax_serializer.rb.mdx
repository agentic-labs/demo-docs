---
title: "applied_tax_serializer.rb"
---

## High-level description
The `V1::CreditNotes::AppliedTaxSerializer` class is a serializer responsible for converting a `CreditNote::AppliedTax` object into a hash representation suitable for JSON serialization. This representation is intended for use in the Lago API's V1 endpoint.

## Code Structure
The `AppliedTaxSerializer` inherits from `ModelSerializer` and overrides the `serialize` method to define the specific attributes and format of the serialized `CreditNote::AppliedTax` object.

## References
This serializer references the `CreditNote::AppliedTax` model, which it receives as input.

## Symbols

### `V1::CreditNotes::AppliedTaxSerializer`
#### Description
This class serializes a `CreditNote::AppliedTax` object into a hash representation.

#### Inputs
This class doesn't define any specific inputs besides the ones inherited from `ModelSerializer`.

#### Outputs
The `serialize` method returns a hash containing the serialized representation of the `CreditNote::AppliedTax` object.

#### Internal Logic
The `serialize` method constructs a hash with the following keys, representing attributes of the `CreditNote::AppliedTax` object:

- `lago_id`: The ID of the applied tax.
- `lago_credit_note_id`: The ID of the credit note the tax is applied to.
- `lago_tax_id`: The ID of the tax.
- `tax_name`: The name of the tax.
- `tax_code`: The code of the tax.
- `tax_rate`: The rate of the tax.
- `tax_description`: The description of the tax.
- `base_amount_cents`: The base amount of the tax in cents.
- `amount_cents`: The amount of the tax in cents.
- `amount_currency`: The currency of the tax amount.
- `created_at`: The creation timestamp of the applied tax in ISO8601 format.

The values for these keys are retrieved from the corresponding attributes of the `CreditNote::AppliedTax` object.

## Side Effects
This serializer has no side effects. It only reads data from the provided `CreditNote::AppliedTax` object and returns a new hash.

## Dependencies
This serializer depends on the `ModelSerializer` class and the `CreditNote::AppliedTax` model. It also implicitly depends on the `ActiveSupport` gem for the `iso8601` method used to format the timestamp.
