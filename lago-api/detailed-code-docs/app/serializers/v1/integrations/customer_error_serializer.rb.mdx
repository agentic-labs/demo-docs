---
title: "customer_error_serializer.rb"
---

## High-level description
The `CustomerErrorSerializer` class is a custom serializer responsible for formatting error data related to a customer in the context of integrations with external accounting providers. It structures the output as a hash containing details about the customer, the provider, and the error encountered.

## Code Structure
The `CustomerErrorSerializer` class inherits from `ModelSerializer` and overrides the `serialize` method to define a custom serialization format.

## References
- `ModelSerializer`: This serializer likely comes from a library or framework that provides base serialization functionality.
- `model`: This refers to the underlying customer object being serialized.

## Symbols

### `CustomerErrorSerializer`
#### Description
This class serializes customer error data for integration webhooks. It formats the output as a hash containing customer details, provider information, and the error message.

#### Inputs
This class doesn't have explicit input parameters. It receives data through the `model` attribute and `options` hash.

#### Outputs
Returns a hash containing the serialized customer error data.

#### Internal Logic
The `serialize` method constructs a hash containing:
- `lago_customer_id`: The ID of the customer within the Lago system.
- `external_customer_id`: The ID of the customer in the external accounting provider's system.
- `accounting_provider`: The name of the accounting provider.
- `accounting_provider_code`: A code representing the accounting provider.
- `provider_error`: The error message received from the provider.

## Dependencies
- `ModelSerializer`: This suggests a dependency on a serialization library or framework.

## Side Effects
This serializer doesn't have any direct side effects. It focuses on data formatting for output.
