---
title: "billable_metric_filter_serializer.rb"
---

## High-level description
The `V1::BillableMetricFilterSerializer` class is a custom serializer responsible for formatting data for a billable metric filter. It structures the output to include the filter's `key` and a sorted array of its `values`. This serializer is likely used in the context of an API response.

## Code Structure
The `V1::BillableMetricFilterSerializer` inherits from `ModelSerializer` and overrides the `serialize` method to define a custom serialization format.

## References
- `ModelSerializer`: This suggests a base serializer class likely providing common serialization logic.
- `model`: This refers to an instance of the `BillableMetricFilter` model, the data for which is being serialized.

## Symbols

### `V1::BillableMetricFilterSerializer`
#### Description
This class serializes a `BillableMetricFilter` object into a hash representation suitable for JSON output.

#### Inputs
The `serialize` method implicitly takes the `BillableMetricFilter` object as input through the inherited `model` attribute.

#### Outputs
Returns a hash containing the `key` and sorted `values` of the `BillableMetricFilter` object.

```ruby
{
  key: 'example_key',
  values: ['value1', 'value2', 'value3']
}
```

#### Internal Logic
1. **Retrieves filter key:** Accesses the `key` attribute of the `BillableMetricFilter` object.
2. **Retrieves and sorts filter values:** Accesses the `values` attribute of the `BillableMetricFilter` object and sorts them alphabetically.
3. **Constructs the output hash:** Creates a hash with the `key` and sorted `values`.

## Dependencies
- `ModelSerializer`: This suggests a dependency on a custom or external library that provides the base serializer functionality.

## API/Interface Reference
This serializer itself doesn't define an API endpoint. However, it's used by the `V1::BillableMetricSerializer` to format the `filters` data within its API response. 
