---
title: "accept_invite.rb"
---

## High-level description
This code defines a GraphQL mutation for accepting a membership invite using Google OAuth. It's part of the authentication system, specifically handling the Google-based invite acceptance process.

## Code Structure
The `AcceptInvite` class is nested within the `Mutations::Auth::Google` module, inheriting from `BaseMutation`. It defines the structure and behavior of the GraphQL mutation for accepting invites via Google authentication.

## Symbols

### `AcceptInvite`
#### Description
This class represents a GraphQL mutation for accepting a membership invite using Google OAuth. It takes a Google authorization code and an invite token as inputs and processes the invite acceptance.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| code | String | The Google authorization code obtained from the OAuth process |
| invite_token | String | The token associated with the membership invite |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Types::Payloads::RegisterUserType | The result of the invite acceptance process |

#### Internal Logic
1. The `resolve` method is called with the provided `code` and `invite_token`.
2. It delegates the invite acceptance process to the `::Auth::GoogleService` class.
3. If the operation is successful, it returns the result. Otherwise, it returns an error.

## References
- `::Auth::GoogleService`: This service class is used to handle the Google OAuth-based invite acceptance process.
- `Types::Payloads::RegisterUserType`: This type is used to define the structure of the mutation's return value.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| BaseMutation | The base class for all GraphQL mutations in the application |

## Error Handling
The mutation uses the `result_error` method (likely defined in a parent class) to handle and return errors if the invite acceptance process fails.

---

This mutation is part of a larger authentication system that includes Google OAuth integration. It works in conjunction with the `Auth::GoogleService` to process the invite acceptance using the provided Google authorization code and invite token. The mutation is registered in the `MutationType` as `google_accept_invite`, making it available for use in GraphQL queries.