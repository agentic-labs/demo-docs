---
title: "update.rb"
---

## High-level description
This code defines a GraphQL mutation for updating an integration collection mapping. It's part of a larger GraphQL API and handles the update operation for integration collection mappings, including authentication, permission checks, and data validation.

## Code Structure
The `Update` class is defined within the `Mutations::IntegrationCollectionMappings` module. It inherits from `BaseMutation` and includes two modules: `AuthenticableApiUser` and `RequiredOrganization`. The class defines the GraphQL mutation, its input and output types, and the resolve method that performs the update operation.

## References
- `Types::IntegrationCollectionMappings::UpdateInput`
- `Types::IntegrationCollectionMappings::Object`
- `::IntegrationCollectionMappings::BaseCollectionMapping`
- `::IntegrationCollectionMappings::UpdateService`

## Symbols

### `Mutations::IntegrationCollectionMappings::Update`
#### Description
This class defines a GraphQL mutation for updating an integration collection mapping. It handles authentication, permission checks, and delegates the update operation to a service object.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| args | Hash | Arguments passed to the mutation, including the mapping ID and update parameters |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Types::IntegrationCollectionMappings::Object | The updated integration collection mapping object |

#### Internal Logic
1. Defines the required permission for this mutation.
2. Sets up the GraphQL mutation name and description.
3. Specifies the input and output types for the mutation.
4. In the `resolve` method:
   - Finds the integration collection mapping based on the provided ID and current organization.
   - Calls the `UpdateService` to perform the update operation.
   - Returns the updated mapping if successful, or an error if the operation fails.

## Side Effects
- Updates an existing integration collection mapping in the database.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| AuthenticableApiUser | Provides authentication functionality for API users |
| RequiredOrganization | Ensures the presence of a current organization context |

## Error Handling
The code uses the `result_error` method (likely defined in a parent class) to handle and return errors from the `UpdateService`.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.