---
title: "accept.rb"
---

## High-level description
This code defines a GraphQL mutation called `AcceptInvite` within the `Mutations::Invites` module. It's responsible for accepting a new invite by processing the provided email, password, and token, and returning the result of the invite acceptance operation.

## Code Structure
The `Accept` class inherits from `BaseMutation` and defines the structure of the `AcceptInvite` GraphQL mutation. It specifies the required arguments, return type, and the resolve method that handles the actual invite acceptance logic.

## References
- `Types::Payloads::RegisterUserType`: Used as the return type for the mutation.
- `::Invites::AcceptService`: Called to perform the invite acceptance operation.

## Symbols

### `Mutations::Invites::Accept`
#### Description
This class defines the `AcceptInvite` GraphQL mutation for accepting a new invite.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| email | String | The email address of the user accepting the invite |
| password | String | The password for the new user account |
| token | String | The unique token of the invite |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | Types::Payloads::RegisterUserType | The result of the invite acceptance operation |

#### Internal Logic
1. The `resolve` method is called with the provided arguments.
2. It invokes the `::Invites::AcceptService` to process the invite acceptance.
3. If successful, it returns the result directly.
4. If unsuccessful, it calls `result_error` with the result.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| BaseMutation | Parent class for GraphQL mutations |
| Types::Payloads::RegisterUserType | Return type for the mutation |
| ::Invites::AcceptService | Service class for processing invite acceptance |

## Error Handling
The code uses the `result_error` method (likely defined in a parent class) to handle and format errors when the invite acceptance is unsuccessful.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| AcceptInvite | Mutation | { email: String, password: String, token: String } | Types::Payloads::RegisterUserType | Accepts a new invite and registers the user |

This mutation is part of the GraphQL API and can be called to accept an invite and register a new user in the system.