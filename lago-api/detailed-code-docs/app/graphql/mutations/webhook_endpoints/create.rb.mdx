---
title: "create.rb"
---

## High-level description
This code defines a GraphQL mutation for creating a new webhook endpoint. It is part of the WebhookEndpoints module and inherits from BaseMutation. The mutation includes authentication and organization checks, and uses a service object to perform the actual creation of the webhook endpoint.

## Code Structure
The `Create` class is nested within the `Mutations` and `WebhookEndpoints` modules. It inherits from `BaseMutation` and includes two modules: `AuthenticableApiUser` and `RequiredOrganization`. The class defines the GraphQL mutation structure and delegates the creation logic to a service object.

## References
- `Types::WebhookEndpoints::CreateInput`
- `Types::WebhookEndpoints::Object`
- `::WebhookEndpoints::CreateService`

## Symbols

### `Mutations::WebhookEndpoints::Create`
#### Description
This class defines a GraphQL mutation for creating a new webhook endpoint. It includes authentication and organization checks, and uses a service object to perform the actual creation.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| args | Hash | Arguments passed to the mutation, defined by `Types::WebhookEndpoints::CreateInput` |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| webhook_endpoint | Types::WebhookEndpoints::Object | The created webhook endpoint object |

#### Internal Logic
1. The class includes `AuthenticableApiUser` and `RequiredOrganization` modules for authentication and organization checks.
2. It defines a required permission `'developers:manage'`.
3. The `resolve` method is called with the input arguments.
4. It uses `::WebhookEndpoints::CreateService` to create the webhook endpoint, passing the current organization and input parameters.
5. If successful, it returns the created webhook endpoint; otherwise, it returns an error.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| AuthenticableApiUser | Provides authentication checks for API users |
| RequiredOrganization | Ensures a valid organization context |

## Error Handling
The `resolve` method uses a `result_error` method (likely defined in a parent class) to handle and return errors if the creation service fails.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| createWebhookEndpoint | POST | Types::WebhookEndpoints::CreateInput | Types::WebhookEndpoints::Object | Creates a new webhook endpoint |