---
title: "object.rb"
---

## High-level description
The code defines a GraphQL object type named `Subscription` within the `Types::Subscriptions` module. This object type represents a subscription entity in the system and defines its structure, fields, and relationships for GraphQL queries. It includes fields for customer details, plan information, status, billing details, timestamps, and associated fees.

## Code Structure
The `Object` class inherits from `Types::BaseObject` and defines numerous fields representing the attributes of a `Subscription`. Some fields have custom logic defined as instance methods within the class.

## References
- `Types::Customers::Object`: Represents the customer associated with the subscription.
- `Types::Plans::Object`: Represents the pricing plan associated with the subscription.
- `Types::Subscriptions::StatusTypeEnum`: Represents the status of the subscription.
- `Types::Subscriptions::BillingTimeEnum`: Represents the billing time of the subscription.
- `Types::Fees::Object`: Represents fees associated with the subscription.
- `::Subscriptions::DatesService`: A service class used for handling subscription date calculations.

## Symbols

### `Object`
#### Description
This class defines the `Subscription` object type for GraphQL, outlining its fields and their corresponding types.

#### Inputs
This class doesn't define any specific inputs. It receives data from the underlying `Subscription` model instance.

#### Outputs
This class doesn't directly return any outputs. It structures data from the `Subscription` model instance to be used in GraphQL responses.

#### Internal Logic
The class defines several methods:
- `next_plan`: Retrieves the plan of the next subscription if it exists.
- `next_name`: Retrieves the name of the next subscription if it exists.
- `period_end_date`: Calculates and returns the next end of the period for the subscription using the `::Subscriptions::DatesService`.

## Dependencies
- `graphql`: Provides the GraphQL implementation and types.

## TODOs
(There are no TODOs or other notes left in the code)
