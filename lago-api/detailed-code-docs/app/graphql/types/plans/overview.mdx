---
title: "Overview"
---

## High-level description
This directory contains GraphQL type definitions related to the Plans module of the application. It includes two main files: `interval_enum.rb` and `object.rb`. These files define the structure and behavior of Plan-related data in the GraphQL API.

## What does it do?
The code in this directory defines how Plan information is represented and queried in the GraphQL API. It provides a structure for Plans, including their attributes, relationships, and associated data. The `IntervalEnum` defines the possible billing intervals for a plan (e.g., weekly, monthly, yearly), while the `Object` type defines the complete structure of a Plan, including its fields, relationships, and various counts related to subscriptions and charges.

## Key Files

### interval_enum.rb
This file defines the `IntervalEnum` GraphQL enum type, which represents the possible billing intervals for a plan. It uses the `Plan::INTERVALS` constant from the `Plan` model to define the allowed values: weekly, monthly, yearly, and quarterly.

### object.rb
This file defines the `Types::Plans::Object` GraphQL type, which represents a Plan object in the API. It outlines the structure and fields of a Plan, including its attributes, relationships, and associated counts. Some key features include:

1. Basic plan attributes: id, name, code, description, amount, currency, etc.
2. Relationships: organization, parent plan, minimum commitment, usage thresholds, charges, and taxes.
3. Billing-related fields: bill_charges_monthly, pay_in_advance, trial_period.
4. Counts: active_subscriptions_count, charges_count, customers_count, draft_invoices_count, subscriptions_count.
5. Timestamps: created_at, updated_at.

The file also includes resolver methods for some fields, such as `charges`, `charges_count`, and `subscriptions_count`, which implement the logic for fetching or calculating these values.

## Dependencies
The code in this directory relies on several external types and modules:

1. `Types::BaseObject` and `Types::BaseEnum`: Custom base classes for GraphQL types.
2. `GraphQL::Types::BigInt`: Used for large integer values.
3. `GraphQL::Types::ISO8601DateTime`: Used for timestamp fields.
4. Various other custom types: `Types::Organizations::OrganizationType`, `Types::CurrencyEnum`, `Types::Commitments::Object`, `Types::UsageThresholds::Object`, `Types::Charges::Object`, `Types::Taxes::Object`.

These dependencies suggest that the application uses a custom GraphQL setup with several interconnected modules and types.

## Configuration
There is no explicit configuration in these files. However, the `IntervalEnum` relies on the `Plan::INTERVALS` constant, which is defined elsewhere in the application (likely in the `Plan` model). This constant determines the available billing interval options for plans.

In summary, this directory plays a crucial role in defining the structure and behavior of Plan-related data in the GraphQL API. It provides a comprehensive representation of Plans, including their attributes, relationships, and associated data, enabling clients to query and interact with Plan information effectively through the GraphQL interface.