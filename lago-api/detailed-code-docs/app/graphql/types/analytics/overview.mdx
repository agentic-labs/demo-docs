---
title: "Overview"
---

## High-level description
This directory contains GraphQL type definitions for various analytics-related objects within the application. These types are used to structure and define the shape of data that can be queried through the GraphQL API, specifically for analytics purposes. The types cover different aspects of financial and usage data, including gross revenues, invoice collections, invoiced usages, monthly recurring revenue (MRR), and overdue balances.

## What does it do?
The code in this directory defines the structure and fields for different analytics data types that can be queried through a GraphQL API. These type definitions allow the application to:

1. Represent gross revenue data, including amounts, currencies, and invoice counts.
2. Structure finalized invoice collections with aggregated data like total amounts and payment statuses.
3. Define invoiced usage data, showing usage amounts, currencies, and associated time periods.
4. Represent monthly recurring revenue (MRR) information.
5. Structure overdue balance data, including amounts, currencies, and associated invoice IDs.

These type definitions enable clients to request specific analytics data in a structured format, facilitating the creation of reports, dashboards, and other analytics features within the application.

## Key Files

1. `gross_revenues.rb`:
   - Defines the `GrossRevenue` GraphQL object type.
   - Includes fields for amount, currency, invoice count, and month.
   - Used for querying gross revenue data.

2. `invoice_collections.rb`:
   - Defines the `FinalizedInvoiceCollection` GraphQL object type.
   - Includes fields for total amount, currency, invoice count, month, and payment status.
   - Used for querying aggregated data on finalized invoices.

3. `invoiced_usages.rb`:
   - Defines the `InvoicedUsage` GraphQL object type.
   - Includes fields for amount, currency, usage code, and month.
   - Used for querying data on invoiced usage.

4. `mrrs.rb`:
   - Defines the `Mrr` (Monthly Recurring Revenue) GraphQL object type.
   - Includes fields for amount, currency, and month.
   - Used for querying MRR data.

5. `overdue_balances.rb`:
   - Defines the `OverdueBalance` GraphQL object type.
   - Includes fields for amount, currency, associated invoice IDs, and month.
   - Used for querying data on overdue balances.

## Dependencies
The code in this directory relies on the following key dependencies:

1. GraphQL (version not specified):
   - Used for defining GraphQL types and schemas.
   - Provides base classes and type definitions like `GraphQL::Types::BigInt` and `GraphQL::Types::ISO8601DateTime`.

2. Custom types:
   - `Types::BaseObject`: A base class for all GraphQL object types in the application.
   - `Types::CurrencyEnum`: An enum type representing supported currencies.
   - `Types::Invoices::PaymentStatusTypeEnum`: An enum type for invoice payment statuses.

## Configuration
While there are no explicit configuration files in this directory, the type definitions use several custom types and enums that are likely defined elsewhere in the application:

1. `Types::CurrencyEnum`: This enum is used across multiple type definitions and is populated with accepted currencies from `Currencies::ACCEPTED_CURRENCIES`.

2. `Types::Invoices::PaymentStatusTypeEnum`: Used in the `FinalizedInvoiceCollection` type and is based on the `Invoice::PAYMENT_STATUS` constant.

These custom types and enums allow for consistent representation of currencies and payment statuses across the application's GraphQL schema.

The type definitions in this directory play a crucial role in structuring the analytics data that can be queried through the GraphQL API. They provide a clear and consistent interface for clients to request specific analytics information, enabling the development of rich analytics features and reports within the application.