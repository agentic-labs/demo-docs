---
title: "Overview"
---

## High-level description
This directory contains GraphQL type definitions for payment requests within a Ruby on Rails application. It defines the structure for creating payment requests and querying payment request objects through a GraphQL API. The code is organized to handle input validation for creating payment requests and to specify the fields available when querying payment request data.

## What does it do?
The code in this directory facilitates the creation and retrieval of payment requests through a GraphQL API. It provides a structured way for clients to:

1. Create new payment requests by specifying customer information, email, and associated invoice IDs.
2. Query existing payment requests, including details such as amount, currency, timestamps, and associated customer and invoice information.

This structure allows for efficient and type-safe communication between the client and server when dealing with payment request data.

## Key Files

### create_input.rb
This file defines the `CreateInput` class, which specifies the input structure for creating a new payment request. It includes:

- `external_customer_id`: A required string to identify the customer.
- `email`: An optional string for the customer's email.
- `lago_invoice_ids`: An optional array of strings for associated invoice IDs.

This input type is used in the `Mutations::PaymentRequests::Create` mutation to validate and process incoming data for creating payment requests.

### object.rb
This file defines the `Object` class, which represents the structure of a PaymentRequest when queried through the GraphQL API. It includes fields such as:

- `id`: A unique identifier for the payment request.
- `amount_cents`: The amount in cents.
- `amount_currency`: The currency of the amount.
- `created_at` and `updated_at`: Timestamps for creation and last update.
- `email`: The email associated with the payment request.
- `customer`: An associated customer object.
- `invoices`: An array of associated invoice objects.

This object type is used in various resolvers and mutations to return payment request data in a structured format.

## Dependencies
The code relies on several GraphQL-related dependencies and custom types:

- `Types::BaseInputObject`: A base class for input objects.
- `Types::BaseObject`: A base class for GraphQL object types.
- `Types::CurrencyEnum`: An enum type for currency values.
- `Types::Customers::Object`: A custom type representing customer objects.
- `Types::Invoices::Object`: A custom type representing invoice objects.
- `GraphQL::Types::ISO8601DateTime`: A built-in GraphQL type for datetime values.
- `GraphQL::Types::BigInt`: A built-in GraphQL type for large integer values.

These dependencies provide the necessary building blocks for creating a robust and type-safe GraphQL schema for payment requests.

## Configuration
While there are no explicit configuration files in this directory, the structure of the input and object types effectively configures how payment requests are created and queried through the GraphQL API. Developers can modify these files to add, remove, or modify fields as the application's requirements evolve.

For example, to add a new field to the payment request object, a developer would add a new `field` definition in the `object.rb` file:

```ruby
field :new_field_name, String, null: true
```

Similarly, to add a new input parameter for creating payment requests, they would add a new `argument` in the `create_input.rb` file:

```ruby
argument :new_argument_name, String, required: false
```

These changes would then be reflected in the GraphQL schema, allowing clients to use the new fields or arguments in their queries and mutations.