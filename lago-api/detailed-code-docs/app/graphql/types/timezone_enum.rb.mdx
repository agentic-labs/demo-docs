---
title: "timezone_enum.rb"
---

## High-level description
The code defines a GraphQL enum type called `TimezoneEnum` representing a list of valid time zones. It retrieves all unique time zone identifiers from `ActiveSupport::TimeZone`, formats them into uppercase symbols, and defines them as enum values.

## Code Structure
The `TimezoneEnum` class inherits from `Types::BaseEnum` and utilizes `ActiveSupport::TimeZone` to retrieve and format time zone identifiers.

## References
- `ActiveSupport::TimeZone`: Used to retrieve the list of available time zones.
- `Types::BaseEnum`: The parent class for defining GraphQL enum types.

## Symbols

### `TimezoneEnum`
#### Description
This class defines a GraphQL enum type for representing time zones. It retrieves a list of unique time zone identifiers, formats them, and defines them as enum values.

#### Inputs
None

#### Outputs
None

#### Internal Logic
1. **Retrieve Unique Time Zones:**
   - Uses `ActiveSupport::TimeZone.all` to get all available time zones.
   - Filters for unique time zone identifiers using `uniq { |tz| tz.tzinfo.identifier }`.
2. **Format Time Zone Identifiers:**
   - Iterates through the unique time zone identifiers.
   - Converts each identifier to an uppercase symbol, replacing non-alphanumeric characters with underscores.
   - Handles the special case of 'Etc/UTC', setting the symbol and value to 'UTC'.
3. **Define Enum Values:**
   - Uses `value` to define each formatted time zone identifier as an enum value.

## Side Effects
None

## Dependencies
- `ActiveSupport::TimeZone`: Provides access to time zone data.

## Error Handling
The code does not implement specific error handling.

## Logging
The code does not implement logging.

## API/Interface Reference
This code defines a GraphQL enum type, which is part of the GraphQL API. It does not expose any endpoints or require authentication.
