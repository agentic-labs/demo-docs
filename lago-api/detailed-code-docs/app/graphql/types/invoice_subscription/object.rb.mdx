---
title: "object.rb"
---

## High-level description
The `Types::InvoiceSubscription::Object` class defines the GraphQL type for an InvoiceSubscription object, representing a subscription's presence on an invoice. It outlines the fields and their types that can be queried for an InvoiceSubscription.

## Code Structure
The `Types::InvoiceSubscription::Object` class inherits from `Types::BaseObject` and defines several fields representing attributes of an InvoiceSubscription. It also includes methods to calculate specific date ranges for charges based on the subscription's plan and billing logic.

## References
- `Types::Invoices::Object`: Represents the GraphQL type for an Invoice.
- `Types::Subscriptions::Object`: Represents the GraphQL type for a Subscription.
- `Types::Fees::Object`: Represents the GraphQL type for a Fee.
- `::Subscriptions::DatesService`: A service class for handling subscription date calculations.

## Symbols

### `Types::InvoiceSubscription::Object`
#### Description
This class defines the GraphQL type for an InvoiceSubscription object, outlining its queryable fields.

#### Inputs
N/A - This is a GraphQL type definition, not a function.

#### Outputs
N/A - This is a GraphQL type definition, not a function.

#### Internal Logic
The class defines several fields representing attributes of an InvoiceSubscription, including:

- Relationships: `invoice`, `subscription`, `fees`
- Amounts: `charge_amount_cents`, `subscription_amount_cents`, `total_amount_cents`
- Date ranges: `charges_from_datetime`, `charges_to_datetime`, `in_advance_charges_from_datetime`, `in_advance_charges_to_datetime`, `from_datetime`, `to_datetime`

It also includes methods to calculate the `in_advance_charges_from_datetime` and `in_advance_charges_to_datetime` based on the subscription's plan and whether it has charges that are paid in advance.

- `in_advance_charges_from_datetime`: Calculates the start datetime for charges paid in advance.
- `in_advance_charges_to_datetime`: Calculates the end datetime for charges paid in advance.
- `should_use_in_advance_charges_interval`: Determines if the in-advance charges interval should be used.
- `charge_pay_in_advance_interval`: Retrieves the pre-calculated charge pay-in-advance interval.

## Dependencies
- `graphql`: Provides the GraphQL implementation.

## Error Handling
N/A - This code does not implement specific error handling.

## Logging
N/A - This code does not implement logging.

## API/Interface Reference
N/A - This code defines a GraphQL type, not an API endpoint.
