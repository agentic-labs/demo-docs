---
title: "object.rb"
---

## High-level description
The `Types::Coupons::Object` class defines the GraphQL type for a `Coupon` object, outlining its fields and their corresponding data types. It represents a coupon that can be applied to subscriptions and provides information about its attributes, relationships, and usage statistics.

## Code Structure
The `Types::Coupons::Object` class inherits from `Types::BaseObject` and defines numerous fields representing the attributes of a `Coupon`. It also defines methods like `customers_count` and `applied_coupons_count` to calculate and expose derived information.

## References
This code references several other types and enums defined within the `Types` module, such as `Types::Organizations::OrganizationType`, `Types::CurrencyEnum`, `Types::Coupons::CouponTypeEnum`, etc. These types are used to define the data types of the fields in the `Coupon` object.

## Symbols

### `Types::Coupons::Object`
#### Description
This class defines the GraphQL type for a `Coupon` object, outlining its fields and their corresponding data types.

#### Inputs
This class does not take any direct inputs.

#### Outputs
This class does not return any direct outputs. It defines the structure of the `Coupon` type in the GraphQL schema.

#### Internal Logic
The class defines several methods:

* `customers_count`: Calculates the number of distinct customers using the coupon by counting the distinct `customer_id` values from the associated active `applied_coupons`.
* `applied_coupons_count`: Returns the total number of times the coupon has been applied by counting the associated `applied_coupons`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `GraphQL` | Provides the framework for defining GraphQL types and schemas. |
| `Types::BaseObject` | Base class for GraphQL object types. |
| `Types::Organizations::OrganizationType` | GraphQL type for an organization. |
| `Types::CurrencyEnum` | GraphQL enum for currency codes. |
| `Types::Coupons::CouponTypeEnum` | GraphQL enum for coupon types. |
| `Types::Coupons::FrequencyEnum` | GraphQL enum for coupon frequencies. |
| `Types::Coupons::StatusEnum` | GraphQL enum for coupon statuses. |
| `Types::Coupons::ExpirationEnum` | GraphQL enum for coupon expiration types. |
| `Types::BillableMetrics::Object` | GraphQL type for billable metrics. |
| `Types::Plans::Object` | GraphQL type for subscription plans. |

## Side Effects
This code defines the structure of the `Coupon` type in the GraphQL schema, making it accessible for queries and mutations.
