---
title: "object.rb"
---

## High-level description
The `Types::Charges::Object` class defines a GraphQL object type named `Charge` that represents a charge entity. It outlines the structure and fields of a charge object, including its relationships with other entities like billable metrics, taxes, and filters.

## Code Structure
The `Types::Charges::Object` class inherits from `Types::BaseObject` and defines numerous fields representing the attributes of a charge. It also defines methods to retrieve associated data, such as `properties` and `billable_metric`.

## References
- `Types::BaseObject`: The parent class for the `Charge` object type.
- `Types::BillableMetrics::Object`: Represents the billable metric associated with the charge.
- `Types::Taxes::Object`: Represents taxes associated with the charge.
- `Types::ChargeFilters::Object`: Represents filters applied to the charge.

## Symbols

### `Types::Charges::Object`
#### Description
This class defines the `Charge` GraphQL object type, representing a charge entity with its attributes and relationships.

#### Inputs
This class does not define any explicit inputs.

#### Outputs
This class does not define any explicit outputs. However, it defines numerous fields that represent the attributes of a charge object, which are implicitly returned when a `Charge` object is queried. These fields include:

| Name | Type | Description |
|:-----|:-----|:------------|
| id | ID | The ID of the charge. |
| invoice_display_name | String | The display name of the invoice for this charge. |
| billable_metric | Types::BillableMetrics::Object | The billable metric associated with the charge. |
| charge_model | Types::Charges::ChargeModelEnum | The charging model used for the charge. |
| invoiceable | Boolean | Indicates if the charge is invoiceable. |
| min_amount_cents | GraphQL::Types::BigInt | The minimum amount in cents for the charge. |
| pay_in_advance | Boolean | Indicates if the charge is paid in advance. |
| properties | Types::Charges::Properties | The properties of the charge, specific to the charge model. |
| prorated | Boolean | Indicates if the charge is prorated. |
| regroup_paid_fees | Types::Charges::RegroupPaidFeesEnum | Determines how paid fees are regrouped for the charge. |
| filters | [Types::ChargeFilters::Object] | The filters applied to the charge. |
| created_at | GraphQL::Types::ISO8601DateTime | The creation timestamp of the charge. |
| deleted_at | GraphQL::Types::ISO8601DateTime | The deletion timestamp of the charge (if deleted). |
| updated_at | GraphQL::Types::ISO8601DateTime | The last update timestamp of the charge. |
| taxes | [Types::Taxes::Object] | The taxes associated with the charge. |

#### Internal Logic
The class defines two methods:

- `properties`: This method retrieves the `properties` attribute of the charge object. If the `properties` attribute is a JSON string, it parses it into a Ruby hash.
- `billable_metric`: This method retrieves the associated `billable_metric` object. If the charge is discarded, it retrieves the billable metric from the database including discarded records.

#### Side Effects
This class does not have any significant side effects.

#### Performance Considerations
The `billable_metric` method includes a conditional retrieval of the billable metric from the database if the charge is discarded. This is done to avoid N+1 query issues when accessing billable metrics for discarded charges.
