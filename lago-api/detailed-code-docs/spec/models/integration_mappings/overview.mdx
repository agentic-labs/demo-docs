---
title: "Overview"
---

## High-level description
This directory contains RSpec test files for various integration mapping models within a Rails application. The models tested are `IntegrationMappings::BaseMapping`, `IntegrationMappings::NetsuiteMapping`, and `IntegrationMappings::XeroMapping`. These tests ensure the correct functionality of setting and retrieving attributes specific to each integration, as well as testing common functionality defined in the base mapping.

## What does it do?
The test files in this directory verify the behavior of integration mapping models, which are likely used to map data between the application and external systems like NetSuite and Xero. The tests check:

1. The correct association between the mapping models and the integration model.
2. The ability to store and retrieve key-value pairs in the settings of the base mapping.
3. The functionality of setting and retrieving specific attributes for each integration mapping, such as external IDs, account codes, and names.

These tests ensure that the integration mapping models correctly handle the data transformation and storage required for integrating with external systems, maintaining data integrity and consistency.

## Key Files

1. `base_mapping_spec.rb`:
   - Tests the `IntegrationMappings::BaseMapping` model.
   - Verifies the association with the integration model.
   - Tests the `push_to_settings` and `get_from_settings` methods for managing key-value pairs in the settings.

2. `netsuite_mapping_spec.rb`:
   - Tests the `IntegrationMappings::NetsuiteMapping` model.
   - Verifies the functionality of setting and retrieving `external_id`, `external_account_code`, and `external_name` attributes.

3. `xero_mapping_spec.rb`:
   - Tests the `IntegrationMappings::XeroMapping` model.
   - Similar to the NetSuite mapping, it verifies the functionality of setting and retrieving `external_id`, `external_account_code`, and `external_name` attributes.

## Dependencies
The test files depend on the following:

| Dependency | Purpose | Version |
|:-----------|:--------|:--------|
| RSpec | Testing framework | Not specified |
| FactoryBot | Test data generation | Not specified |
| Rails | Web application framework | Not specified |

RSpec is used as the testing framework, providing a domain-specific language for writing tests. FactoryBot is used to create test instances of the models, allowing for easy and consistent test data generation. The Rails framework is implied by the use of `rails_helper` and the testing of Rails models.

## Configuration
The test files use the following configuration:

1. `rails_helper`: This file is required at the beginning of each test file, likely setting up the Rails testing environment and RSpec configuration.

2. `frozen_string_literal: true`: This Ruby configuration is used in the `xero_mapping_spec.rb` file, optimizing string handling by making all string literals in the file frozen.

3. RSpec configuration:
   - `type: :model` is used in the main describe blocks to specify that these are model tests.
   - The tests use RSpec's `expect` syntax for assertions.

4. FactoryBot:
   - The tests use FactoryBot's `build` method to create test instances of the mapping models.
   - Factories for `netsuite_mapping` and `xero_mapping` are used but not defined in these files, suggesting they are defined elsewhere in the test suite.

These test files play a crucial role in ensuring the reliability and correctness of the integration mapping models, which are essential for the application's interaction with external systems like NetSuite and Xero.