---
title: "Overview"
---

## High-level description
This directory contains RSpec test files for GraphQL types related to data exports in the application. The tests focus on verifying the structure and field definitions of GraphQL input types and object types used for data export functionality, particularly for invoices.

## What does it do?
The tests in this directory ensure that the GraphQL schema for data exports is correctly defined. They verify that:

1. The input type for invoice filters (`Types::DataExports::Invoices::FiltersInput`) has the correct arguments with their respective GraphQL types. These arguments are used to filter invoice data when exporting.

2. The object type for data exports (`Types::DataExports::Object`) has the correct fields with their respective types. This object type likely represents the structure of a data export in the system.

By running these tests, developers can ensure that the GraphQL schema for data exports remains consistent and correctly defined as the application evolves.

## Key Files

1. `spec/graphql/types/data_exports/invoices/filters_input_spec.rb`:
   This file contains tests for the `Types::DataExports::Invoices::FiltersInput` GraphQL input type. It verifies that the input type accepts various arguments used for filtering invoice data exports, such as currency, customer external ID, invoice type, date range, payment status, and more.

2. `spec/graphql/types/data_exports/object_spec.rb`:
   This file contains tests for the `Types::DataExports::Object` GraphQL type. It checks that the type has two specific fields: `id` of type `ID!` and `status` of type `DataExportStatusEnum!`.

## Dependencies
The test files depend on the following:

1. RSpec: The testing framework used to define and run the tests.
2. Rails testing environment: Both files require `rails_helper`, which loads the Rails testing configuration.
3. GraphQL testing helpers: The tests use matchers like `accept_argument` and `have_field`, which are likely provided by a GraphQL testing library (not explicitly shown in the provided code).

## Configuration
The tests rely on the configuration provided by `rails_helper.rb`, which sets up various testing tools and helpers:

- RSpec configuration
- SimpleCov for code coverage
- DatabaseCleaner
- FactoryBot
- Custom helpers for GraphQL, Admin, API, Scenarios, License, and PDF testing

However, these configurations are not directly used in the provided test files.

The tests indirectly reference several custom GraphQL types and enums:

- `CurrencyEnum`
- `InvoiceTypeEnum`
- `InvoicePaymentStatusTypeEnum`
- `InvoiceStatusTypeEnum`
- `DataExportStatusEnum`
- `ISO8601Date` (custom scalar type for handling dates)

These types are likely defined elsewhere in the application's GraphQL schema.

In summary, this directory contains crucial tests for ensuring the correctness of the GraphQL schema related to data exports, particularly for invoices. These tests help maintain the integrity of the API as the application grows and changes.