---
title: "Overview"
---

## High-level description
This directory contains RSpec test files for various GraphQL types related to integrations in the application. The tests focus on verifying the structure and field types of GraphQL objects and input types used for different integrations such as Anrok, Netsuite, Xero, and general integration components like accounts and subsidiaries.

## What does it do?
These test files ensure that the GraphQL schema for integrations is correctly defined and maintains consistency. They verify that each integration type has the expected fields with the correct data types. This is crucial for maintaining a reliable API for clients consuming integration data. The tests cover various aspects of integrations, including:

1. Basic integration properties (id, name, code)
2. Authentication-related fields
3. Configuration status fields
4. Sync settings for different types of financial documents
5. Input types for sync operations

By running these tests, developers can ensure that any changes to the GraphQL schema for integrations do not inadvertently break the expected structure, helping to maintain API stability and prevent runtime errors.

## Key Files
1. `anrok_spec.rb`: Tests the Anrok integration type, verifying fields like API key, failed invoices count, and mapping configuration status.

2. `netsuite_spec.rb`: Checks the Netsuite integration type, including authentication fields, script endpoint URL, and sync settings for various financial documents.

3. `xero_spec.rb`: Validates the Xero integration type, focusing on connection ID, sync settings, and general integration properties.

4. `accounts/object_spec.rb`: Tests the structure of the integration accounts object type, ensuring it has the correct fields for external account information.

5. `subsidiaries/object_spec.rb`: Verifies the structure of the integration subsidiaries object type, checking for external ID and name fields.

6. `sync_credit_note_input_spec.rb` and `sync_invoice_input_spec.rb`: Test input types for syncing credit notes and invoices, respectively, ensuring they accept the correct ID fields.

## Dependencies
The test files in this directory rely on the following dependencies:

| Dependency | Purpose | Version |
|:-----------|:--------|:--------|
| RSpec | Testing framework | Not specified, but likely latest stable version |
| Rails | Web application framework | Not specified, but likely latest stable version |
| GraphQL Ruby | GraphQL implementation for Ruby | Not specified, but likely latest stable version |

These dependencies are typically managed through the `rails_helper` file, which is included in each test file. The `rails_helper` sets up the testing environment, including configurations for SimpleCov (code coverage), DatabaseCleaner, and various RSpec settings.

## Configuration
While there are no explicit configuration files in this directory, the tests rely on the RSpec configuration provided by the `rails_helper`. This configuration likely includes:

1. SimpleCov setup for code coverage reporting
2. DatabaseCleaner configuration for managing test database state
3. Custom RSpec matchers for GraphQL testing (e.g., `have_field`, `accept_argument`)
4. Other Rails-specific test configurations

The tests use these configurations to ensure consistent and reliable testing of the GraphQL types across different integration components.

In summary, this directory contains a comprehensive set of tests that validate the structure and field types of various GraphQL types used for integrations in the application. These tests play a crucial role in maintaining the integrity and consistency of the GraphQL API for integration-related operations.