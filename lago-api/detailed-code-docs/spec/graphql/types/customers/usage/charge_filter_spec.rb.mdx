---
title: "charge_filter_spec.rb"
---

## High-level description
This code defines a RSpec test suite for the `Types::Customers::Usage::ChargeFilter` GraphQL type. It verifies that the type has specific fields with the correct types, ensuring the GraphQL schema is correctly defined for charge filtering in the context of customer usage.

## Symbols

### `RSpec.describe Types::Customers::Usage::ChargeFilter`
#### Description
This is the main RSpec test suite for the `Types::Customers::Usage::ChargeFilter` GraphQL type. It uses the `subject` method to set the described class as the subject of the tests.

#### Internal Logic
The test suite contains multiple expectations that check for the presence and type of specific fields in the GraphQL type. Each expectation uses the `have_field` matcher to verify a field's existence and type.

### Field Expectations
#### Description
Each `it` block represents an individual test case for a specific field in the `ChargeFilter` type.

#### Internal Logic
- `id`: Expects a field of type `'ID'`
- `amount_cents`: Expects a non-nullable field of type `'BigInt'`
- `events_count`: Expects a non-nullable field of type `'Int'`
- `invoice_display_name`: Expects a field of type `'String'`
- `units`: Expects a non-nullable field of type `'Float'`
- `values`: Expects a non-nullable field of type `'ChargeFilterValues'`

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| rails_helper | Loads the Rails testing environment and configuration |

## References
This spec file references the following:
- `Types::Customers::Usage::ChargeFilter`: The GraphQL type being tested
- `ChargeFilterValues`: Another GraphQL type used as a field type in `ChargeFilter`

Note: The `rails_helper` file is included, which sets up the testing environment, including RSpec configuration, database cleaner, and other testing utilities.