---
title: "object_spec.rb"
---

## High-level description
This code defines a set of RSpec tests for the `Types::Wallets::Object` GraphQL type. It verifies that the wallet object has the correct fields with their respective types, ensuring that the GraphQL schema for wallets is properly defined.

## Symbols

### `RSpec.describe Types::Wallets::Object`
#### Description
This is the main RSpec test suite for the `Types::Wallets::Object` GraphQL type. It contains multiple test cases to verify the presence and types of various fields in the wallet object.

#### Internal Logic
The test suite uses the `have_field` matcher to check if each expected field is present in the `Types::Wallets::Object` and has the correct type. The tests cover various aspects of a wallet, including customer information, currency, balance, credits, timestamps, and related objects.

### Individual Field Tests
#### Description
Each test case checks for the presence and type of a specific field in the `Types::Wallets::Object`.

#### Internal Logic
The tests use the `is_expected.to have_field(:field_name).of_type('FieldType')` syntax to verify that each field exists and has the correct type. Some fields are marked as non-nullable with an exclamation mark (`!`).

## Dependencies
The test file depends on the following:
| Dependency | Purpose |
|:-----------|:--------|
| rails_helper | Provides the necessary setup for Rails-specific RSpec tests |
| Types::Wallets::Object | The GraphQL type being tested |

## References
The code references the following GraphQL types and enums:
- Customer
- CurrencyEnum
- WalletStatusEnum
- RecurringTransactionRule
- ISO8601DateTime

## Fields Tested
The test suite verifies the presence and types of the following fields:
1. customer (Customer type)
2. currency (CurrencyEnum, non-nullable)
3. name (String)
4. status (WalletStatusEnum, non-nullable)
5. rate_amount (Float, non-nullable)
6. balance_cents (BigInt, non-nullable)
7. consumed_amount_cents (BigInt, non-nullable)
8. ongoing_balance_cents (BigInt, non-nullable)
9. ongoing_usage_balance_cents (BigInt, non-nullable)
10. consumed_credits (Float, non-nullable)
11. credits_balance (Float, non-nullable)
12. credits_ongoing_balance (Float, non-nullable)
13. credits_ongoing_usage_balance (Float, non-nullable)
14. last_balance_sync_at (ISO8601DateTime)
15. last_consumed_credit_at (ISO8601DateTime)
16. recurring_transaction_rules (array of RecurringTransactionRule, non-nullable)
17. invoice_requires_successful_payment (Boolean, non-nullable)
18. created_at (ISO8601DateTime, non-nullable)
19. expiration_at (ISO8601DateTime)
20. terminated_at (ISO8601DateTime)
21. updated_at (ISO8601DateTime, non-nullable)

These tests ensure that the `Types::Wallets::Object` GraphQL type correctly defines all the necessary fields for representing a wallet in the application's GraphQL schema.