---
title: "input_spec.rb"
---

## High-level description
This code defines a RSpec test suite for the `Types::Commitments::Input` GraphQL input type. It verifies that the input type accepts specific arguments with their corresponding types, ensuring the correct structure for commitment-related inputs in the GraphQL schema.

## Symbols

### `RSpec.describe Types::Commitments::Input`
#### Description
This RSpec test suite describes the behavior of the `Types::Commitments::Input` GraphQL input type. It uses a series of expectations to verify that the input type accepts specific arguments with their corresponding types.

#### Internal Logic
The test suite uses the `is_expected.to accept_argument()` matcher to check for the presence and type of each argument in the input type. The tests cover the following arguments:

1. `id` of type `ID`
2. `invoice_display_name` of type `String`
3. `amount_cents` of type `BigInt`
4. `commitment_type` of type `CommitmentTypeEnum`
5. `tax_codes` of type `[String!]` (non-null array of strings)

Each test verifies that the input type accepts the specified argument with the correct type.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| rails_helper | Loads the Rails testing environment and configuration |

## References
The code references the following symbols:
- `Types::Commitments::Input`: The GraphQL input type being tested
- `CommitmentTypeEnum`: A custom GraphQL enum type for commitment types

## Notes
1. The code uses the `frozen_string_literal: true` pragma, which helps improve performance by freezing all string literals in the file.
2. The test suite relies on custom RSpec matchers (likely defined in a support file) to check GraphQL input type arguments.
3. The use of `BigInt` for `amount_cents` suggests that the application deals with monetary values, potentially using a currency handling library like money-rails.
4. The `tax_codes` argument is defined as a non-null array of strings, indicating that multiple tax codes can be associated with a commitment.

This test suite ensures that the `Types::Commitments::Input` GraphQL input type is correctly defined with the expected arguments and types, which is crucial for maintaining the integrity of the GraphQL schema and preventing type-related errors in the application.