---
title: "object_spec.rb"
---

## High-level description
This code defines a test suite for the `Types::AddOns::Object` GraphQL type using RSpec. It verifies that the GraphQL type has the expected fields with their corresponding types, ensuring that the AddOn object's schema is correctly defined.

## Symbols

### `RSpec.describe Types::AddOns::Object`
#### Description
This is the main test suite for the `Types::AddOns::Object` GraphQL type. It uses RSpec to define a series of expectations about the fields present in the GraphQL type.

#### Internal Logic
The test suite uses a series of expectations to verify that each field of the `Types::AddOns::Object` GraphQL type is correctly defined. It checks the presence and type of each field using the `have_field` matcher.

The fields being tested are:

1. `id`: of type `'ID!'`
2. `organization`: of type `'Organization'`
3. `code`: of type `'String!'`
4. `description`: of type `'String'`
5. `invoice_display_name`: of type `'String'`
6. `name`: of type `'String!'`
7. `amount_cents`: of type `'BigInt!'`
8. `amount_currency`: of type `'CurrencyEnum!'`
9. `created_at`: of type `'ISO8601DateTime!'`
10. `deleted_at`: of type `'ISO8601DateTime'`
11. `updated_at`: of type `'ISO8601DateTime!'`
12. `applied_add_ons_count`: of type `'Int!'`
13. `customers_count`: of type `'Int!'`
14. `taxes`: of type `'[Tax!]'`
15. `integration_mappings`: of type `'[Mapping!]'`

Each expectation follows the pattern:
```ruby
it { is_expected.to have_field(:field_name).of_type('FieldType') }
```

This ensures that the GraphQL type has all the necessary fields with the correct types, which is crucial for maintaining the integrity of the API schema.

## Dependencies
The test file depends on the following:

| Dependency | Purpose |
|:-----------|:--------|
| rails_helper | Loads the Rails testing environment and configuration |
| RSpec | The testing framework used for writing and running the tests |

## References
This test file indirectly references:

1. The `Types::AddOns::Object` GraphQL type, which is being tested.
2. Various GraphQL scalar types (`ID`, `String`, `BigInt`, `Int`, `ISO8601DateTime`) and custom types (`Organization`, `CurrencyEnum`, `Tax`, `Mapping`).

These references indicate that the `AddOn` object in the system has various attributes and relationships, including monetary values, timestamps, and associations with other entities like organizations, taxes, and integration mappings.