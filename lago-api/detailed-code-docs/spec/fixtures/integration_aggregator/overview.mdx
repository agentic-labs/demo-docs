---
title: "Overview"
---

## High-level description
This directory contains fixture files for integration testing of an aggregator system. The fixtures simulate various API responses and data structures related to financial operations such as handling accounts, contacts, credit notes, invoices, payments, subsidiaries, tax items, and taxes. These fixtures are crucial for testing how the integration aggregator handles different scenarios without interacting with live external systems.

## What does it do?
The fixtures in this directory simulate responses from various financial operations and API endpoints, allowing developers to test the integration aggregator's ability to:

1. Process and handle account information
2. Manage contact data, including successful and failed operations
3. Handle credit note processing, including success and failure scenarios
4. Process invoices, including successful creation and failure cases
5. Handle payment processing, including successful and failed attempts
6. Manage subsidiary company information
7. Process tax items and tax-related operations on invoices

These fixtures enable comprehensive testing of the integration aggregator's ability to handle various response types, error scenarios, and data structures without the need for live API calls. This approach ensures robust error handling, correct data parsing, and proper functionality across different financial operations.

## Entry points
The main entry points for this fixture set are the JSON files in the root of the directory and the subdirectories. Key files include:

1. `accounts_response.json`: Simulates an accounts API response
2. `error_auth_response.json` and `error_payload_response.json`: Represent authentication and payload error responses
3. `items_response.json`: Simulates an API response for item listings
4. `subsidiaries_response.json`: Represents a response for subsidiary company information
5. `tax_items_response.json`: Simulates a response for tax item data

Subdirectories like `contacts`, `credit_notes`, `invoices`, `payments`, and `taxes` contain more specific fixtures for their respective domains.

## Key Files
1. `contacts/`: Contains fixtures for contact processing scenarios
2. `credit_notes/`: Includes fixtures for credit note operations
3. `invoices/`: Contains fixtures for invoice processing scenarios
4. `payments/`: Includes fixtures for payment processing operations
5. `taxes/`: Contains fixtures for tax-related operations and calculations

These directories contain multiple JSON files representing different scenarios (success, failure, etc.) for their respective domains.

## Dependencies
While these fixtures don't have direct code dependencies, they are designed to work with:

1. RSpec testing framework
2. Rails application (evidenced by the use of `Rails.root` in related test files)
3. JSON parsing libraries
4. The specific services and models of the integration aggregator being tested

## Configuration
The fixtures themselves don't require configuration, as they are static JSON files. However, they implicitly define the expected structure of responses from various financial operations and API endpoints. This includes:

1. Standard response structures with `records` and `next_cursor` for paginated data
2. Error response formats with `code` and `message` or `payload`
3. Specific data structures for different financial entities (accounts, invoices, payments, etc.)
4. Metadata structures (e.g., `_nango_metadata`) for tracking synchronization and record status

These fixtures play a crucial role in ensuring that the integration aggregator can handle various response formats, error conditions, and data structures across different financial operations. They allow for comprehensive testing of the system's ability to process and manage diverse financial data without relying on external API calls during testing.