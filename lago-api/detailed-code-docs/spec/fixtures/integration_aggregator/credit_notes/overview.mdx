---
title: "Overview"
---

## High-level description
This directory contains JSON fixture files used for integration testing of credit note processing within an integration aggregator system. The files represent different scenarios and responses related to credit note operations, including successful and failed processing outcomes.

## What does it do?
These fixture files simulate responses from a credit note processing system, allowing developers to test how their code handles various scenarios without interacting with a live system. The files cover:

1. Successful credit note processing with detailed information
2. Failed credit note processing with validation errors
3. A simple successful response with just a credit note identifier

These fixtures enable testing of both happy paths and error handling in the credit note processing workflow.

## Key Files

1. `failure_hash_response.json`: 
   This file simulates a response where credit note processing has failed. It contains:
   - An empty `succeededCreditNotes` array
   - A `failedCreditNotes` array with detailed information about the failed credit note, including validation errors

2. `success_hash_response.json`:
   This file represents a successful credit note processing scenario. It includes:
   - A `succeededCreditNotes` array with one detailed credit note entry
   - An empty `failedCreditNotes` array

3. `success_string_response.json`:
   This file contains a simple string response ("456") representing a successful credit note operation, likely used for testing scenarios where only an identifier is returned.

## Configuration
These files do not contain configuration options as they are static JSON fixtures. However, they implicitly define the expected structure of responses from the credit note processing system:

1. For complex responses (`failure_hash_response.json` and `success_hash_response.json`):
   - `succeededCreditNotes`: Array of successful credit notes
   - `failedCreditNotes`: Array of failed credit notes

2. For simple responses (`success_string_response.json`):
   - A string representing a credit note identifier

## Error Handling
The `failure_hash_response.json` file demonstrates how errors are represented in the system:

```json
"validation_errors": [
  {
    "Message": "You cannot update fields on a paid invoice line item without supplying a LineItemID"
  },
  {
    "Message": "The status 'AUTHORISED' cannot be applied to this invoice because it has payments or credit notes allocated to it"
  }
]
```

This structure allows for testing how the system handles and displays multiple validation errors for a single failed credit note.

In contrast, the `success_hash_response.json` and `success_string_response.json` files represent scenarios where no errors occurred, allowing for testing of successful processing paths.

These fixtures provide a comprehensive set of test cases for credit note processing, covering both successful and error scenarios, which is crucial for ensuring robust integration with the credit note system.