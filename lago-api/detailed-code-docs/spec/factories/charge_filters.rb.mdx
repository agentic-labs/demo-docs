---
title: "charge_filters.rb"
---

## High-level description
This code defines a factory for creating `ChargeFilter` objects using FactoryBot, a library for setting up test data in Ruby applications. The factory is designed to create charge filters with associated charges, allowing for easy creation of test data for charge-related functionality.

## Symbols

### `:charge_filter` (Factory)
#### Description
This factory defines how to create a `ChargeFilter` object with default attributes. It uses a transient attribute to create an associated charge and sets the `charge_filter`'s attributes based on that charge.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| charge | transient | A `Charge` object to associate with the `ChargeFilter` |

#### Internal Logic
1. Creates a standard charge using the `create(:standard_charge)` factory if not provided.
2. Sets the `charge_id` attribute to the ID of the associated charge.
3. Sets the `properties` attribute to the properties of the associated charge.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| FactoryBot | Used to define factories for creating test objects |

## References
- The factory references a `:standard_charge` factory, which is likely defined in another factory file.
- The `ChargeFilter` model is implied to exist in the application, with `charge_id` and `properties` attributes.

## Notes
- This factory is likely used in test files to create `ChargeFilter` objects with associated charges quickly and easily.
- The use of a transient attribute for `charge` allows for flexibility in specifying a custom charge or using the default standard charge.
- The factory assumes that the `Charge` model has a `properties` attribute, which is copied to the `ChargeFilter`.

This factory definition is part of the test suite and helps in setting up test data for charge-related functionality in the application. It's designed to work seamlessly with FactoryBot and provides a convenient way to create `ChargeFilter` objects with associated charges for testing purposes.