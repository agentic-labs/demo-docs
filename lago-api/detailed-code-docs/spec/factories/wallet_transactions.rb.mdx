---
title: "wallet_transactions.rb"
---

## High-level description
This file defines a factory for creating `WalletTransaction` objects using FactoryBot, a popular Ruby gem for generating test data. The factory provides default attributes for creating wallet transactions, which can be used in tests to easily create instances of `WalletTransaction` with predefined values.

## Symbols

### `wallet_transaction` (Factory)
#### Description
This factory defines the default attributes for creating a `WalletTransaction` object. It sets up a basic inbound, settled transaction with a default amount of 1.00.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| wallet | association | Associates the transaction with a wallet |
| transaction_type | string | The type of transaction (default: 'inbound') |
| status | string | The status of the transaction (default: 'settled') |
| amount | decimal | The transaction amount (default: '1.00') |
| credit_amount | decimal | The credit amount (default: '1.00') |
| settled_at | datetime | The settlement time (default: current time) |

#### Internal Logic
The factory uses FactoryBot's DSL to define default attributes for a `WalletTransaction`:
1. It associates the transaction with a wallet using the `wallet` association.
2. Sets the `transaction_type` to 'inbound'.
3. Sets the `status` to 'settled'.
4. Sets both `amount` and `credit_amount` to '1.00'.
5. Sets the `settled_at` time to the current time using `Time.zone.now`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| FactoryBot | Used to define factories for creating test data |

## Notes
- This factory can be used in tests to quickly create `WalletTransaction` objects with default values.
- The use of `Time.zone.now` for `settled_at` ensures that the settlement time is set to the current time in the application's time zone.
- The factory can be customized in individual tests by overriding any of the default attributes when creating a wallet transaction.