---
title: "utils.rb"
---

## High-level description
This code defines a FactoryBot trait named `:deleted` that can be used in factory definitions to simulate deleted records by setting the `deleted_at` attribute to the current time.

## Symbols

### `:deleted` (trait)
#### Description
The `:deleted` trait is a FactoryBot trait that sets the `deleted_at` attribute of a model to the current time, effectively marking the record as deleted in a soft-delete implementation.

#### Inputs
This trait doesn't take any explicit inputs.

#### Outputs
When applied to a factory, this trait sets the `deleted_at` attribute of the created object.

| Name | Type | Description |
|:-----|:-----|:------------|
| deleted_at | Time | The current time when the trait is applied |

#### Internal Logic
The trait uses `Time.current` to set the `deleted_at` attribute to the current time when it's applied to a factory.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| FactoryBot | Used to define factories and traits for testing |

## Configuration
This code doesn't define any specific configuration options.

## Error Handling
There is no explicit error handling in this code snippet.

## Logging
This code doesn't implement any logging mechanisms.

## API/Interface Reference
This code doesn't expose an API or public interface directly. It's used within the context of FactoryBot for creating test data.

## Performance Considerations
The use of `Time.current` is generally preferred over `Time.now` in Rails applications, as it respects the application's time zone settings.

## Side Effects
When this trait is applied to a factory, it will set the `deleted_at` attribute of the created object to the current time. This may affect how the object behaves in the application, especially if there's soft-delete functionality implemented.

## TODOs
There are no TODOs or notes left in the code.