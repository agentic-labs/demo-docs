---
title: "add_on_applied_taxes.rb"
---

## High-level description
This code defines a factory for creating `AddOn::AppliedTax` objects using FactoryBot, a popular Ruby gem for creating test data. The factory is designed to facilitate the creation of test instances of the `AddOn::AppliedTax` model, which represents the association between an add-on and a tax in the application.

## Symbols

### `factory :add_on_applied_tax`
#### Description
This factory definition creates instances of the `AddOn::AppliedTax` model. It sets up the basic structure for creating test data for the association between add-ons and taxes.

#### Inputs
The factory doesn't explicitly define any inputs, but it implicitly expects:

| Name | Type | Description |
|:-----|:-----|:------------|
| add_on | AddOn | An instance of the AddOn model |
| tax | Tax | An instance of the Tax model |

#### Outputs
When used, this factory produces:

| Name | Type | Description |
|:-----|:-----|:------------|
| add_on_applied_tax | AddOn::AppliedTax | An instance of the AddOn::AppliedTax model |

#### Internal Logic
The factory sets up two associations:
1. `add_on`: This likely creates or references an instance of the `AddOn` model.
2. `tax`: This likely creates or references an instance of the `Tax` model.

These associations correspond to the `belongs_to` relationships defined in the `AddOn::AppliedTax` model (as seen in the related code snippet).

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| FactoryBot | Used to define and create test data factories |

## References
This factory references two other models:
1. `AddOn`: The add-on associated with this applied tax.
2. `Tax`: The tax associated with this add-on.

These references are implicit in the factory definition and correspond to the associations defined in the `AddOn::AppliedTax` model.

## Additional Context
Based on the related code snippet (`app/models/add_on/applied_tax.rb`), we can infer some additional information about the `AddOn::AppliedTax` model:

1. It's a nested class within the `AddOn` namespace.
2. It uses a custom table name: `add_ons_taxes`.
3. It has `belongs_to` associations with both `add_on` and `tax`.
4. The database table has a unique index on the combination of `add_on_id` and `tax_id`, ensuring that each add-on can only be associated with a specific tax once.

This factory is likely used in test suites to create test instances of `AddOn::AppliedTax` quickly and easily, allowing developers to test functionality related to add-ons and their associated taxes without having to manually set up this data for each test.