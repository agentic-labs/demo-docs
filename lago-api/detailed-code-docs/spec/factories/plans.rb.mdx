---
title: "plans.rb"
---

## High-level description
This file defines a factory for creating `Plan` objects using FactoryBot, a popular Ruby gem for generating test data. The factory sets up default attributes for a plan, including associations, names, codes, and financial details, using a mix of static values and dynamic data generated by the Faker gem.

## Symbols

### `factory :plan`
#### Description
This factory defines how to create a `Plan` object with predefined attributes. It uses FactoryBot's DSL to specify default values for various fields of a plan.

#### Inputs
No explicit inputs are defined for this factory. However, when using the factory, you can override any of the default attributes.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| plan | Plan | An instance of the Plan model with the specified attributes |

#### Internal Logic
The factory sets up the following attributes for a Plan:
1. Associates the plan with an organization (likely using another factory)
2. Generates a name using Faker's Silicon Valley app names
3. Creates an invoice display name using Faker's Breaking Bad episode titles
4. Generates a random alphanumeric code
5. Adds a description using a random sentence
6. Sets the interval to 'monthly'
7. Sets pay_in_advance to false
8. Sets the amount to 100 cents
9. Sets the currency to 'EUR'

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| FactoryBot | Provides the DSL for defining factories |
| Faker | Generates realistic fake data for various attributes |

## Notes
1. The use of `frozen_string_literal: true` at the top of the file indicates that all string literals in this file are frozen, which can help with memory usage and performance.
2. This factory is likely used in test files to create Plan objects with consistent, realistic data without needing to specify all attributes manually for each test.
3. The factory uses a mix of static values (like interval and currency) and dynamic values generated by Faker, which allows for some variety in the created objects while maintaining consistency where needed.
4. The `organization` association suggests that Plans belong to Organizations in the application's data model.
5. The use of `amount_cents` and `amount_currency` suggests that the application might be using the Money gem or a similar approach to handle currency amounts.

This factory provides a convenient way to create Plan objects for testing purposes, with realistic and varied data that can be easily overridden when specific attributes need to be tested.